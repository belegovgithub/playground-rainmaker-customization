{
  "totalTransactions": {
   "chartName": "DSS_TOTAL_TRANSACTIONS",
   "queries": [
     {
       "module": "PT",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"term\":{\"dataObject.paymentDetails.businessService.keyword\":\"PT\"}}]}},\"aggs\":{\"Total Transactions\":{\"value_count\":{\"field\":\"identifier.keyword\"}}}}}}"
     },
     {
       "module": "TL",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"term\":{\"dataObject.paymentDetails.businessService.keyword\":\"TL\"}}]}},\"aggs\":{\"Total Transactions\":{\"value_count\":{\"field\":\"identifier.keyword\"}}}}}}"
     },
     {
       "module": "MC",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}},{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"DEATH_CERT\",\"BIRTH_CERT\",\"TL\",\"PT\",\"SW\",\"SW.ONE_TIME_FEE\",\"WS\",\"WS.ONE_TIME_FEE\"]}}],\"must\":[]}},\"aggs\":{\"Total Transactions\":{\"value_count\":{\"field\":\"identifier.keyword\"}}}}}}"
     },
     {
       "module": "WS",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"WS\",\"WS.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Total Transactions\":{\"value_count\":{\"field\":\"identifier.keyword\"}}}}}}"
     },
     {
       "module": "SW",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"SW\",\"SW.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Total Transactions\":{\"value_count\":{\"field\":\"identifier.keyword\"}}}}}}"
     }
   ],
   "chartType": "metric",
   "valueType": "number",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "",
   "aggregationPaths": [
     "Total Transactions"
   ],
   "insight": {
     "chartResponseMap" : "totalCollection",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " "
 },
 "avgTransactions": {
   "chartName": "DSS_MC_AVG_DAILY_TRANSACTIONS",
   "queries": [
     {
       "module": "MC",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"trans_per_day\":{\"date_histogram\":{\"field\":\"dataObject.paymentDetails.receiptDate\",\"interval\":\"day\"},\"aggs\":{\"transactions\":{\"value_count\":{\"field\":\"identifier.keyword\"}}}},\"avg_daily_transactions\":{\"avg_bucket\":{\"buckets_path\":\"trans_per_day>transactions\"}}}}"
     }
   ],
   "chartType": "metric",
   "valueType": "perday",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "",
   "aggregationPaths": [
     "avg_daily_transactions"
   ],
   "insight": {
     "chartResponseMap" : "avg_daily_transactions",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " "
 },
 "allServices": {
   "chartName": "DSS_ALL_SERVICES",
   "queries": [
     {
       "module": "COMMON",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"DEATH_CERT\",\"BIRTH_CERT\",\"PT\",\"TL\",\"SW\",\"SW.ONE_TIME_FEE\",\"WS\",\"WS.ONE_TIME_FEE\"]}},{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[]}},\"aggs\":{\"Total Transactions\":{\"value_count\":{\"field\":\"identifier.keyword\"}}}}}}"
     },
     {
       "module": "TL",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.status.keyword\":\"INITIATED\"}},{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total Application99\":{\"value_count\":{\"field\":\"Data.tradelicense.applicationNumber.keyword\"}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tradelicense.tenantId.keyword\" \r\n}", 
       "dateRefField": "Data.tradelicense.applicationDate"
     },
     {
       "module": "PGR",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total Application99\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
       "dateRefField": "Data.dateOfComplaint"
     },
     {
       "module": "LAMS",
       "indexName": "leaseindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.lease.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total Application99\":{\"value_count\":{\"field\":\"Data.lease.applicationNumber.keyword\"}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.lease.tenantId\" \r\n}",
       "dateRefField": "Data.lease.applicationDate"
     },
     {
       "module": "WS",
       "indexName": "water-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.applicationStatus.keyword\":\"INITIATED\"}},{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total Application99\":{\"value_count\":{\"field\":\"Data.applicationNo.keyword\"}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId.keyword\" \r\n}", 
       "dateRefField": "Data.additionalDetails.appCreatedDate"
     },
    {
     "module": "SW",
     "indexName": "sewerage-services",
     "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.applicationStatus.keyword\":\"INITIATED\"}},{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total Application99\":{\"value_count\":{\"field\":\"Data.applicationNo.keyword\"}}}}}}",
     "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId.keyword\" \r\n}", 
     "dateRefField": "Data.additionalDetails.appCreatedDate"
   }
   ],
   "chartType": "metric",
   "valueType": "number",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "",
   "aggregationPaths": [
     "Total Transactions",
     "Total Application99"
   ],
   "insight": {
     "chartResponseMap" : "totalCollection",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " "
 },
 "todaysCollectionv2": {
   "chartName": "DSS_TODAYS_COLLECTION",
   "queries": [
     {
       "module": "PT",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"term\":{\"dataObject.paymentDetails.businessService.keyword\":\"PT\"}},{\"range\":{\"dataObject.paymentDetails.receiptDate\":{\"gt\":\"now-1d/d\",\"lte\":\"now\"}}}]}},\"aggs\":{\"Todays Collection\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}"
     },
     {
       "module": "TL",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"term\":{\"dataObject.paymentDetails.businessService.keyword\":\"TL\"}},{\"range\":{\"dataObject.paymentDetails.receiptDate\":{\"gt\":\"now-1d\/d\",\"lte\":\"now\"}}}]}},\"aggs\":{\"Todays Collection\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}"
     },
     {
       "module": "MC",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}},{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"DEATH_CERT\",\"BIRTH_CERT\",\"TL\",\"PT\",\"SW\",\"SW.ONE_TIME_FEE\",\"WS\",\"WS.ONE_TIME_FEE\"]}}],\"must\":[{\"range\":{\"dataObject.paymentDetails.receiptDate\":{\"gt\":\"now-1d\/d\",\"lte\":\"now\"}}}]}},\"aggs\":{\"Todays Collection\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}"
     },
     {
       "module": "WS",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"WS\",\"WS.ONE_TIME_FEE\"]}},{\"range\":{\"dataObject.paymentDetails.receiptDate\":{\"gt\":\"now-1d\/d\",\"lte\":\"now\"}}}]}},\"aggs\":{\"Todays Collection\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}"
     },
     {
       "module": "SW",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"SW\",\"SW.ONE_TIME_FEE\"]}},{\"range\":{\"dataObject.paymentDetails.receiptDate\":{\"gt\":\"now-1d\/d\",\"lte\":\"now\"}}}]}},\"aggs\":{\"Todays Collection\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}"
     }
   ],
   "chartType": "metric",
   "valueType": "Amount",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "",
   "aggregationPaths": [
     "Todays Collection"
   ],
   "insight": {
     "chartResponseMap" : "totalCollection",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " "
 },
 
 "licenseByLicenseTypev2": {
   "chartName": "DSS_TL_LICENSE_BY_TYPE",
   "queries": [
     {
       "module": "TL",
       "requestQueryMap": "{\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"term\":{\"dataObject.paymentDetails.businessService.keyword\":\"TL\"}}]}},\"aggs\":{\"License Instrument Type\":{\"terms\":{\"field\":\"dataObject.paymentMode.keyword\"},\"aggs\":{\"Licens Issued\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     },
     {
       "module": "MC",
       "requestQueryMap": "\"tenantId\" : \"dataObject.tenantId\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}},{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"DEATH_CERT\",\"BIRTH_CERT\",\"TL\",\"PT\",\"SW\",\"SW.ONE_TIME_FEE\",\"WS\",\"WS.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"License Instrument Type\":{\"terms\":{\"field\":\"dataObject.paymentMode.keyword\"},\"aggs\":{\"Licens Issued\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "License Instrument Type"
   ],
   "insight": {
   },
   "_comment": " License Application which are issued by License Type"
 },

 "mcCollectionByPaymentType": {
   "chartName": "DSS_TL_LICENSE_BY_TYPE",
   "queries": [
     {
       "module": "MC",
       "requestQueryMap": "{\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}},{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"DEATH_CERT\",\"BIRTH_CERT\",\"TL\",\"PT\",\"SW\",\"SW.ONE_TIME_FEE\",\"WS\",\"WS.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"License Instrument Type\":{\"terms\":{\"field\":\"dataObject.paymentMode.keyword\"},\"aggs\":{\"Licens Issued\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "License Instrument Type"
   ],
   "insight": {
   },
   "_comment": " License Application which are issued by License Type"
 },
  "xBirthCollectionByTenant": {
   "chartName": "DSS_CERT_COLLECTION_BY_TENANT",
   "queries": [
     {
       "module": "BIRTH",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"tenantId\" : \"dataObject.tenantId.keyword\" }",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"BIRTH_CERT\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":1000,\"order\":{\"_term\":\"asc\"}},\"aggs\":{\"Total Transactions\":{\"filter\":{\"bool\":{\"must_not\":[]}},\"aggs\":{\"Transactions\":{\"value_count\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billId.keyword\"}}}},\"Total Amount\":{\"filter\":{\"bool\":{\"must_not\":[]}},\"aggs\":{\"Amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amount\"}}}}}}}}}}"
     }
   ],
   "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "none",
   "plotLabel": "Boundary",
   "excludedColumns": [],
   "oldComputedFields": [
   ],
   "insight": {
   },
   "_comment": ""
  },
   "xDeathCollectionByTenant": {
   "chartName": "DSS_CERT_COLLECTION_BY_TENANT",
   "queries": [
     {
       "module": "DEATH",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"tenantId\" : \"dataObject.tenantId.keyword\" }",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"DEATH_CERT\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":1000,\"order\":{\"_term\":\"asc\"}},\"aggs\":{\"Total Transactions\":{\"filter\":{\"bool\":{\"must_not\":[]}},\"aggs\":{\"Transactions\":{\"value_count\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billId.keyword\"}}}},\"Total Amount\":{\"filter\":{\"bool\":{\"must_not\":[]}},\"aggs\":{\"Amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amount\"}}}}}}}}}}"
     }
   ],
   "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "none",
   "plotLabel": "Boundary",
   "excludedColumns": [],
   "oldComputedFields": [
   ],
   "insight": {
   },
   "_comment": ""
 },
 "xMcCollectionByTenant": {
   "chartName": "DSS_MC_COLLECTION_BY_TENANT",
   "queries": [
     {
       "module": "MC",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"tenantId\" : \"dataObject.tenantId.keyword\" }",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.lease.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}},{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"DEATH_CERT\",\"BIRTH_CERT\",\"PT\",\"TL\",\"SW\",\"SW.ONE_TIME_FEE\",\"WS\",\"WS.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":1000,\"order\":{\"_term\":\"asc\"}},\"aggs\":{\"Total Transactions\":{\"filter\":{\"bool\":{\"must_not\":[]}},\"aggs\":{\"Transactions\":{\"value_count\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billId.keyword\"}}}},\"Total Amount\":{\"filter\":{\"bool\":{\"must_not\":[]}},\"aggs\":{\"Amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amount\"}}}}}}}}}}"
     }
   ],
   "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "none",
   "plotLabel": "Boundary",
   "excludedColumns": [],
   "oldComputedFields": [
     {
       "postAggregationTheory" : "",
       "actionName": "AdditiveComputedField",
       "fields" : ["Renewal Applications", "Extension Applications"],
       "newField" : "Total Applications ",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     },
     {
       "postAggregationTheory" : "",
       "actionName": "AdditiveComputedField",
       "fields" : ["Extension Approved", "Renewal Approved","Extension Rejected","Renewal Rejected" ],
       "newField" : "Total Processed",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     },
     {
       "postAggregationTheory" : "",
       "actionName": "PercentageComputedField",
       "fields" : ["Total Processed", "Total Applications"],
       "newField" : "Processing Rate",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "xMcTransactionsByTenant": {
   "chartName": "DSS_MC_TRANSACTIONS_BY_TENANT",
   "queries": [
     {
       "module": "MC",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"tenantId\" : \"dataObject.tenantId.keyword\" }",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}},{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"DEATH_CERT\",\"BIRTH_CERT\",\"PT\",\"TL\",\"SW\",\"SW.ONE_TIME_FEE\",\"WS\",\"WS.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":1000,\"order\":{\"_term\":\"asc\"}},\"aggs\":{\"Total Transactions\":{\"filter\":{\"bool\":{\"must_not\":[]}},\"aggs\":{\"Transactions\":{\"value_count\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billId.keyword\"}}}}}}}}}}"
     }
   ],
   "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "none",
   "plotLabel": "Boundary",
   "excludedColumns": [],
   "oldComputedFields": [
   ],
   "insight": {
   },
   "_comment": ""
 },
 "xOverviewServicesByTenant": {
   "chartName": "DSS_ALL_SERVICES_BY_TENANT",
   "queries": [
     {
       "module": "MC",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"tenantId\" : \"dataObject.tenantId.keyword\" }",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}},{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"DEATH_CERT\",\"BIRTH_CERT\",\"PT\",\"TL\",\"SW\",\"SW.ONE_TIME_FEE\",\"WS\",\"WS.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":1000,\"order\":{\"_term\":\"asc\"}},\"aggs\":{\"Total Transactions\":{\"filter\":{\"bool\":{\"must_not\":[]}},\"aggs\":{\"Total Services\":{\"value_count\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billId.keyword\"}}}}}}}}}}"
     },
     {
       "module": "TL",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"tenantId\" : \"Data.tradelicense.tenantId.keyword\" }",
       "dateRefField": "Data.tradelicense.applicationDate",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}},{\"term\":{\"Data.tradelicense.status.keyword\":\"INITIATED\"}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"Data.tradelicense.tenantId.keyword\",\"size\":1000,\"order\":{\"_term\":\"asc\"}},\"aggs\":{\"Total Transactions\":{\"filter\":{\"bool\":{\"must_not\":[]}},\"aggs\":{\"Total Services\":{\"value_count\":{\"field\":\"Data.tradelicense.id.keyword\"}}}}}}}}}}"
     },
     {
       "module": "PGR",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
       "dateRefField": "Data.dateOfComplaint",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"size\":1000,\"order\":{\"_term\":\"asc\"}},\"aggs\":{\"Total Transactions\":{\"filter\":{\"bool\":{\"must_not\":[]}},\"aggs\":{\"Total Services\":{\"value_count\":{\"field\":\"Data.serviceRequestId.keyword\"}}}}}}}}}}"
     },
     {
       "module": "LAMS",
       "indexName": "leaseindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.lease.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"Data.lease.tenantId.keyword\",\"size\":1000,\"order\":{\"_term\":\"asc\"}},\"aggs\":{\"Total Transactions\":{\"filter\":{\"bool\":{\"must_not\":[]}},\"aggs\":{\"Total Services\":{\"value_count\":{\"field\":\"Data.lease.applicationNumber.keyword\"}}}}}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.lease.tenantId\" \r\n}",
       "dateRefField": "Data.lease.applicationDate"
     },
     {
       "module": "WS",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId.keyword\" \r\n}",
       "dateRefField": "Data.additionalDetails.appCreatedDate",
       "indexName": "water-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}},{\"term\":{\"Data.applicationStatus.keyword\":\"INITIATED\"}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"size\":1000,\"order\":{\"_term\":\"asc\"}},\"aggs\":{\"Total Transactions\":{\"filter\":{\"bool\":{\"must_not\":[]}},\"aggs\":{\"Total Services\":{\"value_count\":{\"field\":\"Data.applicationNo.keyword\"}}}}}}}}}}"
     },
     {
       "module": "SW",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId.keyword\" \r\n}",
       "dateRefField": "Data.additionalDetails.appCreatedDate",
       "indexName": "sewerage-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}},{\"term\":{\"Data.applicationStatus.keyword\":\"INITIATED\"}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"size\":1000,\"order\":{\"_term\":\"asc\"}},\"aggs\":{\"Total Transactions\":{\"filter\":{\"bool\":{\"must_not\":[]}},\"aggs\":{\"Total Services\":{\"value_count\":{\"field\":\"Data.applicationNo.keyword\"}}}}}}}}}}"
     },
     {
       "module": "COMMON",
       "requestQueryMap": "{\"tenantId\" : \"tenantId.keyword\"}",
       "dateRefField": "",
       "indexName": "dss-citizen-count",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"terms\":{\"tenantId.keyword\":[\"pb.testing\",\"all\",\"dgde\",\"pb\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"tenantId.keyword\",\"size\":1000,\"order\":{\"_term\":\"asc\"}},\"aggs\":{\"Total Citizens\":{\"filter\":{\"bool\":{\"must_not\":[]}},\"aggs\":{\"Total Citizens\":{\"sum\":{\"field\":\"citizenCount\"}}}}}}}}}}"
     }     
   ],
   "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "none",
   "plotLabel": "Boundary",
   "excludedColumns": [],
   "oldComputedFields": [
     {
       "postAggregationTheory" : "",
       "actionName": "AdditiveComputedField",
       "fields" : ["Renewal Applications", "Extension Applications"],
       "newField" : "Total Applications ",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     },
     {
       "postAggregationTheory" : "",
       "actionName": "AdditiveComputedField",
       "fields" : ["Extension Approved", "Renewal Approved","Extension Rejected","Renewal Rejected" ],
       "newField" : "Total Processed",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     },
     {
       "postAggregationTheory" : "",
       "actionName": "PercentageComputedField",
       "fields" : ["Total Processed", "Total Applications"],
       "newField" : "Processing Rate",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "licenseIssuedDDRRevenuev2": {
   "chartName": "DSS_TL_KEY_FY_INDICATORS",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\" }",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.paymentDetails.id.keyword\"}},\"Total Licence Issued\":{\"value_count\":{\"field\":\"domainObject.tradelicense.licensenumber.keyword\"}}}}}}"
     },
     {
       "module": "COMMON",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"Target Collection\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}"
     }
   ],
   "isMdmsEnabled": true,
   "filterKeys": [
     {"key": "tenantId", "column": "DDRs"}
   ],
   "isPostResponseHandler": true,
   "postAggregationTheory" : "repsonseToDifferenceOfDates",
   "chartType": "table",
   "valueType": "number",
   "drillChart": "licenseIssuedBoundaryRevenuev2",
   "documentType": "_doc",
   "action": "",
   "plotLabel": "DDRs",
   "aggregationPaths": [
     "Total Collection",
     "Transactions",
     "Total Licence Issued",
     "Target Collection"
   ],
   "pathDataTypeMapping": [
     {
       "Total Collection": "amount"
     },
     {
       "Transactions": "number"
     },
     {
       "Total Licence Issued": "number"
     },
     {
       "Target Collection": "amount"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "licenseIssuedBoundaryRevenuev2": {
   "chartName": "DSS_TL_DEMAND_COLLECTION_BOUNDARY",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\" }",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":200},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.paymentDetails.id.keyword\"}},\"Total Licence Issued\":{\"value_count\":{\"field\":\"domainObject.tradeLicense.licenseNumber.keyword\"}}}}}}}}"
     },
     {
       "module": "COMMON",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\",\"size\":1000},\"aggs\":{\"Target Collection\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
     }
   ],
   "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],
   "postAggregationTheory" : "repsonseToDifferenceOfDates",
   "chartType": "table",
   "valueType": "number",
   "drillChart": "licenseIssuedBoundaryDrillDownv2",
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Boundary",
   "aggregationPaths": [
     "Total Collection",
     "Transactions",
     "Target Collection"
   ],
   "pathDataTypeMapping": [
     {
       "Total Collection": "amount"
     },
     {
       "Transactions": "number"
     },
     {
       "Total Licence Issued": "number"
     },
     {
       "Target Collection": "amount"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "licenseIssuedBoundaryDrillDownv2": {
   "chartName": "",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\" }",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"Ward \":{\"terms\":{\"field\":\"domainObject.ward.name.keyword\",\"size\":200},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.paymentDetails.id.keyword\"}},\"Total Licence Issued\":{\"value_count\":{\"field\":\"domainObject.tradeLicense.licenseNumber.keyword\"}}}}}}}}"
     }
   ],
   "postAggregationTheory" : "repsonseToDifferenceOfDates",
   "chartType": "table",
   "valueType": "number",
   "drillChart": "",
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Ward",
   "aggregationPaths": [
     "Total Collection",
     "Transactions"
   ],
   "pathDataTypeMapping": [
     {
       "Total Collection": "amount"
     },
     {
       "Transactions": "number"
     },
     {
       "Total Licence Issued": "number"
     },
     {
       "Target Collection": "amount"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },

 "licenceTaxHeadsBreakupDDRv2": {
   "chartName": "DSS_TL_TAX_HEAD_BREAKUP_BOUNDARY",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"TL Tax2\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"TL_APP_FEE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Adhoc Penalty\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"TL_APP_FEE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Adhoc Rebate\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"TL_APP_FEE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}}}}}}"
     }
   ],
   "isMdmsEnabled": false,
   "filterKeys": [
     {"key": "tenantId", "column": "DDRs"}
   ],
   "isPostResponseHandlerA": false,
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "licenceTaxHeadsBreakupBoundaryv2",
   "documentType": "_doc",
   "action": "",
   "plotLabel": "DDRs",
   "aggregationPaths": [
     "TL Tax2",
     "Adhoc Penalty",
     "Adhoc Rebate"
   ],
   "computedFields": [
     {
       "postAggregationTheory" : "",
       "actionName": "AdditiveComputedField",
       "fields" : ["TL Tax2", "Adhoc Penalty", "Adhoc Rebate"],
       "newField" : "Total Amount",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     }
   ],

   "insight": {
   },
   "_comment": ""
 },
 "licenceTaxHeadsBreakupBoundaryv2": {
   "chartName": "DSS_TL_TAX_HEAD_BREAKUP_BOUNDARY",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"size\":0,\"query\":{\"bool\":{\"must\":[{\"range\":{\"dataObject.paymentDetails.receiptDate\":{\"from\":\"1585679400000\",\"to\":\"1617215399000\",\"include_lower\":true,\"include_upper\":true,\"boost\":1}}}],\"filter\":[{\"terms\":{\"dataObject.tenantId\":[\"pb.secunderabad\"],\"boost\":1}},{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"TL\"],\"boost\":1}}],\"adjust_pure_negative\":true,\"boost\":1}},\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"bucket_script\":{\"buckets_path\":{\"c1\":\"Trade License Fee>aggrFilter>amount\",\"c2\":\"Reneval Penalty>aggrFilter>amount\",\"c3\":\"Reneval Rebate>aggrFilter>amount\",\"c4\":\"Reneval Tax>aggrFilter>amount\",\"c5\":\"Bulk Garbage Charge>aggrFilter>amount\",\"c6\":\"Application Fees>aggrFilter>amount\"},\"script\":{\"source\":\"params.c1+params.c2+params.c3+params.c4+params.c5+params.c6\"}}},\"Trade License Fee\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"TL_TAX\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Reneval Penalty\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"TL_RENEWAL_PENALTY\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Reneval Rebate\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"TL_RENEWAL_REBATE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Reneval Tax\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"TL_RENEWAL_TAX\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Bulk Garbage Charge\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"TL_GARBAGE_FEE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Application Fees\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"TL_APP_FEE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Total Transactions\":{\"value_count\":{\"field\":\"dataObject.paymentDetails.id.keyword\"}}}}}}}}"
     },
      {
       "module": "COMMON",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"Target Collectionz\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
     }
     
   ],
   "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "licenceTaxHeadsBreakupWardv2",
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Boundary",
   "aggregationPaths": [
     "Total Transactions",
     "Trade License Fee",
     "Application Fees",
     "Reneval Penalty",
     "Reneval Tax",
     "Bulk Garbage Charge",
     "Reneval Rebate",
     "Total Amount"
     
   ],
   "insight": {
   },
   "_comment": ""
 },
   "licenceTaxHeadsBreakupWardv2": {
   "chartName": "DSS_TL_TAX_HEAD_BREAKUP_BOUNDARY",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"domainObject.ward.name.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"bucket_script\":{\"buckets_path\":{\"c1\":\"Trade License Fee>aggrFilter>amount\",\"c2\":\"Reneval Penalty>aggrFilter>amount\",\"c3\":\"Reneval Rebate>aggrFilter>amount\",\"c4\":\"Reneval Tax>aggrFilter>amount\",\"c5\":\"Bulk Garbage Charge>aggrFilter>amount\",\"c6\":\"Application Fees>aggrFilter>amount\"},\"script\":{\"source\":\"params.c1+params.c2-params.c3+params.c4+params.c5+params.c6\"}}},\"Trade License Fee\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"TL_TAX\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Reneval Penalty\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"TL_RENEWAL_PENALTY\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Reneval Rebate\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"TL_RENEWAL_REBATE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Reneval Tax\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"TL_RENEWAL_TAX\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Bulk Garbage Charge\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"TL_GARBAGE_FEE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Application Fees\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"TL_APP_FEE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Total Transactions\":{\"value_count\":{\"field\":\"dataObject.paymentDetails.id.keyword\"}}}}}}}}"
     }
   ],
   "filterKeys": [
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "",
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Boundary",
   "aggregationPaths": [
     "Total Transactions",
     "Trade License Fee",
     "Application Fees",
     "Reneval Penalty",
     "Reneval Tax",
     "Bulk Garbage Charge",
     "Reneval Rebate",
     "Total Amount"
   ],
   "insight": {
   },
   "_comment": ""
 },
 
 "tlTotalCollectionByTradeType": {
   "chartName": "DSS_TL_COLLECTION:_CATEGORY_WISE",
   "queries": [
     {
       "module": "TL",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"TL\"]}}}},\"aggs\":{\"Business Service\":{\"terms\":{\"field\":\"domainObject.tradeLicense.tradeUnits.tradeType.keyword\",\"size\":2000,\"order\":{\"total\":\"asc\"}},\"aggs\":{\"total\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Business Service"
   ],
   "insight": {
   },
   "_comment": " "
 },
 
 "mcTotalCollectionCategoryWise": {
   "chartName": "DSS_MC_COLLECTION:_CATEGORY_WISE",
   "queries": [
     {
       "module": "MC",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}},{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"DEATH_CERT\",\"BIRTH_CERT\",\"PT\",\"TL\",\"SW\",\"SW.ONE_TIME_FEE\",\"WS\",\"WS.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Business Service\":{\"terms\":{\"field\":\"dataObject.paymentDetails.businessService.keyword\",\"size\":2000,\"order\":{\"total\":\"asc\"}},\"aggs\":{\"total\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Business Service"
   ],
   "insight": {
   },
   "_comment": " "
 },
 
 "totalCollectionDeptWisev2": {
   "chartName": "DSS_TOTAL_CUMULATIVE_COLLECTION:_DEPARTMENT_WISE",
   "queries": [
     {
       "module": "TL",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"TL\"]}}]}},\"aggs\":{\"Business Service\":{\"terms\":{\"field\":\"dataObject.paymentDetails.businessService.keyword\"},\"aggs\":{\"total\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     },
     {
       "module": "MC",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}},{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"DEATH_CERT\",\"BIRTH_CERT\",\"PT\",\"TL\",\"SW\",\"SW.ONE_TIME_FEE\",\"WS\",\"WS.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Business Service\":{\"terms\":{\"field\":\"dataObject.paymentDetails.businessService.keyword\",\"size\":2000},\"aggs\":{\"total\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     },
     {
       "module": "WS",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"WS\",\"WS.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Business Service\":{\"terms\":{\"field\":\"dataObject.paymentDetails.businessService.keyword\"},\"aggs\":{\"total\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     },
     {
       "module": "SW",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"SW\",\"SW.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Business Service\":{\"terms\":{\"field\":\"dataObject.paymentDetails.businessService.keyword\"},\"aggs\":{\"total\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "Amount",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "",
   "aggregationPaths": [
     "Business Service"
   ],
   "insight": {
   },
   "_comment": " "
 },
 "overviewTotalCollectionv2": {
   "chartName": "DSS_TOTAL_COLLECTION",
   "queries": [
     {
       "module": "TL",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGG\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[]}},\"aggs\":{\"Total Collection6\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}"
     }
   ],
   "chartType": "metric",
   "valueType": "amount",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "",
   "aggregationPaths": [
     "Total Collection6"
   ],
   "insight": {
     "chartResponseMap" : "totalCollection",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " "
 },
 "totalCollectionv2": {
   "chartName": "DSS_TOTAL_COLLECTION",
   "queries": [
     {
       "module": "PT",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"term\":{\"dataObject.paymentDetails.businessService.keyword\":\"PT\"}}]}},\"aggs\":{\"Total Collection6\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}"
     },
     {
       "module": "TL",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"term\":{\"dataObject.paymentDetails.businessService.keyword\":\"TL\"}}]}},\"aggs\":{\"Total Collection6\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}"
     },
     {
       "module": "MC",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}},{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"DEATH_CERT\",\"BIRTH_CERT\",\"TL\",\"PT\",\"SW\",\"SW.ONE_TIME_FEE\",\"WS\",\"WS.ONE_TIME_FEE\"]}}],\"must\":[]}},\"aggs\":{\"Total Collection6\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}"
     },
     {
       "module": "WS",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"WS\",\"WS.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Total Collection6\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}"
     },
     {
       "module": "SW",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"SW\",\"SW.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Total Collection6\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}"
     }
    
   ],
   "chartType": "metric",
   "valueType": "amount",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "",
   "aggregationPaths": [
     "Total Collection6"
   ],
   "insight": {
     "chartResponseMap" : "totalCollection",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " "
 },
 "UCtodaysCollectionv2": {
   "chartName": "DSS_TODAYS_COLLECTION",
   "queries": [
     {
       "module": "TL",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"match\":{\"dataObject.paymentDetails.businessService.keyword\":\"TL\"}}],\"must\":[{\"range\":{\"dataObject.paymentDetails.receiptDate\":{\"gt\":\"now-1d\/d\",\"lte\":\"now\"}}}]}},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}"
     }
   ],
   "chartType": "metric",
   "valueType": "Amount",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "",
   "aggregationPaths": [
     "Todays Collection"
   ],
   "insight": {
     "chartResponseMap" : "totalCollection",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " "
 },
 "mcTotalCollectionv2": {
   "chartName": "DSS_TOTAL_COLLECTION",
   "queries": [
     {
       "module": "TL",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery":"{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"DEATH_CERT\",\"BIRTH_CERT\",\"TL\",\"PT\",\"SW\",\"SW.ONE_TIME_FEE\",\"WS\",\"WS.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}" 
     }
   ],
   "chartType": "metric",
   "valueType": "Amount",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "",
   "aggregationPaths": [
     "Total Collection"
   ],
   "insight": {
     "chartResponseMap" : "totalCollection",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " "
 },
 "mcTargetAchievedv2": {
   "chartName": "DSS_TARGET_ACHIEVED",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\r\n  \"module\" : \"businessService.keyword\", \n\"tenantId\" : \"tenantIdForMunicipalCorporation\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"Actual collection\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}"
     },
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\", \n\"tenantId\" : \"dataObject.tenantId\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"size\":0,\"query\":{\"bool\":{\"must\":[{\"range\":{\"dataObject.paymentDetails.receiptDate\":{\"from\":\"1585679400000\",\"to\":\"1617215399000\",\"include_lower\":true,\"include_upper\":true,\"boost\":1}}}],\"adjust_pure_negative\":true,\"boost\":1}},\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}},{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"DEATH_CERT\",\"BIRTH_CERT\",\"TL\",\"PT\",\"SW\",\"SW.ONE_TIME_FEE\",\"WS\",\"WS.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Total Collection3\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}"
     }

   ],
   "chartType": "metric",
   "valueType": "percentage",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "percentage",
   "aggregationPaths": [
     "Total Collection3",
     "Actual collection"
   ],
   "insight": {
     "chartResponseMap" : "targetAchieved",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " "
 },
 "targetAchievedv2": {
   "chartName": "DSS_TARGET_ACHIEVED",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\r\n  \"module\" : \"businessService.keyword\", \n\"tenantId\" : \"tenantIdForMunicipalCorporation\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"Actual collection\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}"
     },
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\r\n  \"module\" : \"dataObject.paymentDetails.businessService.keyword\", \n\"tenantId\" : \"dataObject.tenantId\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}"
     }

   ],
   "chartType": "metric",
   "valueType": "percentage",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "percentage",
   "aggregationPaths": [
     "Total Collection",
     "Actual collection"
   ],
   "insight": {
     "chartResponseMap" : "targetAchieved",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " "
 },
 
 "UCcumulativeCollectionv2": {
   "chartName": "DSS_TOTAL_CUMULATIVE_COLLECTION",
   "queries": [
     {
       "module": "COMMON",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\r\n  \"module\" : \"dataObject.paymentDetails.businessService.keyword\", \n\"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"PT\",\"TL\"]}}]}},\"aggs\":{\"Collections\":{\"date_histogram\":{\"field\":\"dataObject.paymentDetails.receiptDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     }
   ],
   "chartType": "line",
   "valueType": "amount",
   "action": "",
   "drillChart": "none",
   "documentType": "_doc",
   "aggregationPaths": [
     "Collections"
   ],
   "isCumulative": true,
   "interval": "month",
   "insight": {
   },
   "_comment": " "
 },
 
 "_comment": "dss-collectionindex new queries ",
 "mcCumulativeCollectionv2": {
   "chartName": "DSS_TOTAL_CUMULATIVE_COLLECTION",
   "queries": [
     {
       "module": "COMMON",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\", \n\"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}},{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"DEATH_CERT\",\"BIRTH_CERT\",\"TL\",\"PT\",\"SW\",\"SW.ONE_TIME_FEE\",\"WS\",\"WS.ONE_TIME_FEE\"]}}],\"must\":[]}},\"aggs\":{\"Collections\":{\"date_histogram\":{\"field\":\"dataObject.paymentDetails.receiptDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     }
   ],
   "chartType": "line",
   "valueType": "amount",
   "action": "",
   "drillChart": "none",
   "documentType": "_doc",
   "aggregationPaths": [
     "Collections"
   ],
   "isCumulative": true,
   "interval": "day",
   "insight": {
   },
   "_comment": " "
 },
 
 "cumulativeCollectionv2": {
   "chartName": "DSS_TOTAL_CUMULATIVE_COLLECTION",
   "queries": [
     {
       "module": "TL",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\r\n  \"module\" : \"dataObject.paymentDetails.businessService.keyword\", \n\"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"TL\"]}}]}},\"aggs\":{\"Collections\":{\"date_histogram\":{\"field\":\"dataObject.paymentDetails.receiptDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     },
     {
       "module": "MC",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\", \n\"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}},{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"DEATH_CERT\",\"BIRTH_CERT\",\"PT\",\"TL\",\"SW\",\"SW.ONE_TIME_FEE\",\"WS\",\"WS.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Collections\":{\"date_histogram\":{\"field\":\"dataObject.paymentDetails.receiptDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     },
     {
       "module": "WS",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\", \n\"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"WS\",\"WS.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Collections\":{\"date_histogram\":{\"field\":\"dataObject.paymentDetails.receiptDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     },
     {
       "module": "SW",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\", \n\"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"SW\",\"SW.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Collections\":{\"date_histogram\":{\"field\":\"dataObject.paymentDetails.receiptDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     }
   ],
   "chartType": "line",
   "valueType": "amount",
   "action": "",
   "drillChart": "none",
   "documentType": "_doc",
   "aggregationPaths": [
     "Collections"
   ],
   "isCumulative": true,
   "interval": "day",
   "insight": {
   },
   "_comment": " "
 },
 "topPerformingUlbsv2": {
   "chartName": "DSS_PT_TOP_3_PERFORMING_ULBS",
   "queries": [
     {
       "module": "TL",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"businessService.keyword\":[\"TL\"]}}]}},\"aggs\":{\"Target Collection\":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"desc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}}}"
     },
     {
       "module": "TL",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\",\"tenantId\" : \"dataObject.tenantId\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"term\":{\"dataObject.paymentDetails.businessService.keyword\":\"TL\"}}]}},\"aggs\":{\"Total Collection\":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"desc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     },
     {
       "module": "MC",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\",\"tenantId\" : \"tenantIdForMunicipalCorporation\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"businessService.keyword\":[\"MC\"]}}]}},\"aggs\":{\"Target Collection\":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"desc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}}}"
     },
     {
       "module": "MC",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\", \n\"tenantId\" : \"dataObject.tenantId\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}},{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"DEATH_CERT\",\"BIRTH_CERT\",\"PT\",\"TL\",\"SW\",\"SW.ONE_TIME_FEE\",\"WS\",\"WS.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Total Collection\":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"desc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     },
     {
       "module": "WS",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\",\"tenantId\" : \"tenantIdForMunicipalCorporation\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"businessService.keyword\":[\"WS\"]}}]}},\"aggs\":{\"Target Collection\":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"desc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}}}"
     },
     {
       "module": "WS",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\", \n\"tenantId\" : \"dataObject.tenantId\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"WS\",\"WS.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Total Collection\":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"desc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     },
     {
       "module": "SW",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\",\"tenantId\" : \"tenantIdForMunicipalCorporation\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"businessService.keyword\":[\"SW\"]}}]}},\"aggs\":{\"Target Collection\":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"desc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}}}"
     },
     {
       "module": "SW",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\", \n\"tenantId\" : \"dataObject.tenantId\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"SW\",\"SW.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Total Collection\":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"desc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     }
     
   ],
   "chartType": "perform",
   "valueType": "percentage",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "percentage",
   "plotLabel": "DSS_TARGET_ACHIEVED",
   "order": "desc",
   "limit": 3,
   "aggregationPaths": [
     "Total Collection","Target Collection"
   ],
   "insight": {
   },
   "_comment": " Top Performing Ulbs for target achieved"
 },
 "bottomPerformingUlbsv2": {
   "chartName": "DSS_PT_BOTTOM_3_PERFORMING_ULBS",
   "queries": [
     {
       "module": "TL",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\",\"tenantId\" : \"tenantIdForMunicipalCorporation\" }",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"businessService.keyword\":[\"TL\"]}}]}},\"aggs\":{\"Target Collection\":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"asc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}}}"
     },
     {
       "module": "TL",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\r\n  \"module\" : \"dataObject.paymentDetails.businessService.keyword\", \n\"tenantId\" : \"dataObject.tenantId\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"term\":{\"dataObject.paymentDetails.businessService.keyword\":\"TL\"}}]}},\"aggs\":{\"Total Collection\":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"asc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     },
     {
       "module": "MC",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\",\"tenantId\" : \"tenantIdForMunicipalCorporation\" }",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"businessService.keyword\":[\"MC\"]}}]}},\"aggs\":{\"Target Collection\":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"asc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}}}"
     },
     {
       "module": "MC",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\", \n\"tenantId\" : \"dataObject.tenantId\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
      "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}},{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"DEATH_CERT\",\"BIRTH_CERT\",\"PT\",\"TL\",\"SW\",\"SW.ONE_TIME_FEE\",\"WS\",\"WS.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Total Collection\":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"asc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     },
     {
       "module": "WS",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\",\"tenantId\" : \"tenantIdForMunicipalCorporation\" }",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"businessService.keyword\":[\"WS\"]}}]}},\"aggs\":{\"Target Collection\":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"asc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}}}"
     },
     {
       "module": "WS",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\", \n\"tenantId\" : \"dataObject.tenantId\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
      "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"WS\",\"WS.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Total Collection\":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"asc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     },
     {
       "module": "SW",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\",\"tenantId\" : \"tenantIdForMunicipalCorporation\" }",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"businessService.keyword\":[\"SW\"]}}]}},\"aggs\":{\"Target Collection\":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"asc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}}}"
     },
     {
       "module": "SW",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\", \n\"tenantId\" : \"dataObject.tenantId\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
      "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"SW\",\"SW.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Total Collection\":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"asc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     }
   ],
   "chartType": "perform",
   "valueType": "percentage",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "percentage",
   "plotLabel": "DSS_TARGET_ACHIEVED",
   "order": "asc",
   "limit": 3,
   "aggregationPaths": [
     "Total Collection", "Target Collection"
   ],
   "insight": {
   },
   "_comment": " Bottom Performing Ulbs for target achieved"
 },
   "collectionByUsageTypev2": {
   "chartName": "DSS_PT_COLLECTION_BY_USAGE_TYPE",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\r\n  \"module\" : \"dataObject.paymentDetails.businessService.keyword\", \n\"tenantId\" : \"dataObject.tenantId\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"attrs_root\":{\"nested\":{\"path\":\"domainObject.propertyDetails.units\"},\"aggs\":{\"Usage Type\":{\"terms\":{\"field\":\"domainObject.propertyDetails.units.usageCategoryMajor.keyword\",\"size\":200}}}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "amount",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Usage Type"
   ],
   "insight": {
   },
   "_comment": " collection/amount per usage type"
 },


 "demandCollectionIndexDDRRevenuev2": {
   "chartName": "DSS_PT_KEY_FY_INDICATORS",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"usageId\" : \"domainObject.propertyDetails.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.usageCategoryMinor.keyword\", \"tenantId\" : \"dataObject.tenantId\" }",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.paymentDetails.id.keyword\"}},\"Assessed Properties\":{\"nested\":{\"path\":\"domainObject.propertyDetails\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"domainObject.propertyDetails.assessmentNumber.keyword\"}}}}}}}}"
     },
     {
       "module": "COMMON",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"Target Collection\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
     }
   ],
   "isMdmsEnabled": true,
   "filterKeys": [
     {"key": "tenantId", "column": "DDRs"}
   ],
   "chartType": "table",
   "valueType": "number",
   "drillChart": "demandCollectionIndexBoundaryRevenuev2",
   "action": "",
   "plotLabel": "DDRs",
   "isPostResponseHandler": true,
   "postAggregationTheory" : "repsonseToDifferenceOfDates",
   "aggregationPaths": [
     "Total Collection",
     "Transactions",
     "Assessed Properties",
     "Target Collection"
   ],
   "pathDataTypeMapping": [
     {
       "Total Collection": "amount"
     },
     {
       "Transactions": "number"
     },
     {
       "Assessed Properties": "number"
     },
     {
       "Target Collection": "amount"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "demandCollectionIndexBoundaryRevenuev2": {
   "chartName": "DSS_PT_DEMAND_COLLECTION_BOUNDARY",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"usageId\" : \"domainObject.propertyDetails.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.usageCategoryMinor.keyword\", \"tenantId\" : \"dataObject.tenantId\" }",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":200},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.paymentDetails.id.keyword\"}},\"Assessed Properties\":{\"nested\":{\"path\":\"domainObject.propertyDetails\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"domainObject.propertyDetails.assessmentNumber.keyword\"}}}}}}}}}}"
     },
     {
       "module": "COMMON",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\",\"size\":1000},\"aggs\":{\"Target Collection\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
     }
   ],
   "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],
   "postAggregationTheory" : "repsonseToDifferenceOfDates",    "chartType": "table",
   "valueType": "number",
   "drillChart": "boundaryDrillDownv2",
   "drillFields": [
     "Ward",
     ""
   ],
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Boundary",
   "aggregationPaths": [
     "Total Collection",
     "Transactions",
     "Assessed Properties",
     "Target Collection"
   ],
   "pathDataTypeMapping": [
     {
       "Total Collection": "amount"
     },
     {
       "Transactions": "number"
     },
     {
       "Assessed Properties": "number"
     },
     {
       "Target Collection": "amount"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "boundaryDrillDown": {
   "kind": "drillDown",
   "chartName": "Boundary",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"usageId\" : \"domainObject.propertyDetails.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.usageCategoryMinor.keyword\", \"tenantId\" : \"dataObject.tenantId\" }",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"Ward \":{\"terms\":{\"field\":\"domainObject.ward.name.keyword\",\"size\":200},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.paymentDetails.id.keyword\"}},\"Assessed Properties\":{\"nested\":{\"path\":\"domainObject.propertyDetails\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"domainObject.propertyDetails.assessmentNumber.keyword\"}}}}}}}}}}"
     }
   ],
   "chartType": "table",
   "valueType": "number",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Ward",
   "aggregationPaths": [
     "Total Collection",
     "Transactions",
     "Assessed Properties",
     "Target Collection"
   ],
   "pathDataTypeMapping": [
     {
       "Total Collection": "amount"
     },
     {
       "Transactions": "number"
     },
     {
       "Assessed Properties": "number"
     },
     {
       "Target Collection": "amount"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "demandCollectionIndexUsageRevenuev2": {
   "chartName": "DSS_PT_DEMAND_COLLECTION_USAGETYPE",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"usageId\" : \"domainObject.propertyDetails.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.usageCategoryMinor.keyword\", \"tenantId\" : \"dataObject.tenantId\" }",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"root\":{\"nested\":{\"path\":\"domainObject.propertyDetails.units\"},\"aggs\":{\"UsageType \":{\"terms\":{\"field\":\"domainObject.propertyDetails.units.usageCategoryMajor.keyword\",\"size\":200},\"aggs\":{\"Total Collection\":{\"reverse_nested\":{},\"aggs\":{\"top_tags_per_comment\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}},\"Transactions\":{\"reverse_nested\":{},\"aggs\":{\"top_tags_per_comment\":{\"cardinality\":{\"field\":\"dataObject.paymentDetails.id.keyword\"}}}},\"Assessed Properties\":{\"nested\":{\"path\":\"domainObject.propertyDetails\"},\"aggs\":{\"attr\":{\"cardinality\":{\"field\":\"domainObject.propertyDetails.assessmentNumber.keyword\"}}}}}}}}}}}}"
     }
   ],
   "filterKeys": [

   ],
   "chartType": "table",
   "valueType": "number",
   "drillChart": "",
   "drillFields": [
     "Ward",
     ""
   ],
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Usage Type",
   "aggregationPaths": [
     "Total Collection",
     "Transactions",
     "Assessed Properties"

   ],
   "pathDataTypeMapping": [
     {
       "Total Collection": "amount"
     },
     {
       "Transactions": "number"
     },
     {
       "Assessed Properties": "number"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },

 "taxHeadsBreakupDDRRevenuev2": {
   "chartName": "DSS_PT_TAX_HEAD_BREAKUP_REVENUE",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"usageId\" : \"domainObject.propertyDetails.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.usageCategoryMinor.keyword\", \"tenantId\" : \"dataObject.tenantId\" }",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"Total Amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.totalAmount\"}},\"PT Tax\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TAX\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Fire Cess\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_FIRE_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Cancer Cess\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_CANCER_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Rebate\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_REBATE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Penalty\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_PENALTY\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Time Interest\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_INTEREST\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Round Off\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_ROUNDOFF\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}}}}}}"
     }
   ],
   "isMdmsEnabled": true,
   "filterKeys": [
     {"key": "tenantId", "column": "DDRs"}

   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "taxHeadsBreakupRevenuev2",
   "isPostResponseHandler": true,
   "documentType": "_doc",
   "action": "",
   "plotLabel": "DDRs",
   "aggregationPaths": [
     "PT Tax",
     "Fire Cess",
     "Cancer Cess",
     "Rebate",
     "Penalty",
     "Time Interest","Round Off"
   ],
   "computedFields": [
     {
       "postAggregationTheory" : "",
       "actionName": "AdditiveComputedField",
       "fields" : [ "PT Tax", "Fire Cess", "Cancer Cess", "Rebate", "Penalty", "Time Interest","Round Off"],
       "newField" : "Total Amount",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "taxHeadsBreakupRevenuev2": {
   "chartName": "DSS_PT_TAX_HEAD_BREAKUP_REVENUE",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"usageId\" : \"domainObject.propertyDetails.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.usageCategoryMinor.keyword\", \"tenantId\" : \"dataObject.tenantId\" }",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"bucket_script\":{\"buckets_path\":{\"c1\":\"PT Tax>aggrFilter>amount\",\"c2\":\"Fire Cess>aggrFilter>amount\",\"c3\":\"Cancer Cess>aggrFilter>amount\",\"c4\":\"Rebate>aggrFilter>amount\",\"c5\":\"Penalty>aggrFilter>amount\",\"c6\":\"Time Interest>aggrFilter>amount\",\"c7\":\"Round Off>aggrFilter>amount\"},\"script\":{\"source\":\"params.c1+params.c2+params.c3+params.c4+params.c5+params.c6+params.c7\"}}},\"PT Tax\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TAX\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Fire Cess\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_FIRE_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Cancer Cess\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_CANCER_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Rebate\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_REBATE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Penalty\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_PENALTY\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Time Interest\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_INTEREST\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Round Off\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_ROUNDOFF\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}}}}}}}}"
     }
   ],
   "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}

   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "taxHeadsBreakupBoundaryDrillv2",
   "drillFields": [
     "Ward",
     ""
   ],
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Boundary",
   "aggregationPaths": [
     "PT Tax",
     "Fire Cess",
     "Cancer Cess",
     "Rebate",
     "Penalty",
     "Time Interest","Round Off", "Total Amount"
   ],

   "insight": {
   },
   "_comment": ""
 },
 "taxHeadsBreakupBoundaryDrillv2": {
   "chartName": "Tax head Breakup boundary",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"usageId\" : \"domainObject.propertyDetails.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.usageCategoryMinor.keyword\", \"tenantId\" : \"dataObject.tenantId\" }",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"Ward \":{\"terms\":{\"field\":\"domainObject.ward.name.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"bucket_script\":{\"buckets_path\":{\"c1\":\"PT Tax>aggrFilter>amount\",\"c2\":\"Fire Cess>aggrFilter>amount\",\"c3\":\"Cancer Cess>aggrFilter>amount\",\"c4\":\"Rebate>aggrFilter>amount\",\"c5\":\"Penalty>aggrFilter>amount\",\"c6\":\"Time Interest>aggrFilter>amount\",\"c7\":\"Round Off>aggrFilter>amount\"},\"script\":{\"source\":\"params.c1+params.c2+params.c3+params.c4+params.c5+params.c6+params.c7\"}}},\"PT Tax\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TAX\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Fire Cess\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_FIRE_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Cancer Cess\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_CANCER_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Rebate\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_REBATE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Penalty\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_PENALTY\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Time Interest\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_INTEREST\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Round Off\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_ROUNDOFF\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}}}}}}}}"
     }
   ],
   "filterKeys": [

   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "",
   "drillFields": [
     "Ward",
     ""
   ],
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Boundary",
   "aggregationPaths": [
     "PT Tax",
     "Fire Cess",
     "Cancer Cess",
     "Rebate",
     "Penalty",
     "Time Interest","Round Off","Total Amount"
   ],

   "insight": {
   },
   "_comment": ""
 },
 "taxHeadsBreakupUsagev2": {
   "chartName": "DSS_PT_TAX_HEAD_BREAKUP_USAGE",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\" }",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"attrs_root\":{\"nested\":{\"path\":\"domainObject.propertyDetails.units\"},\"aggs\":{\"Usage \":{\"terms\":{\"field\":\"domainObject.propertyDetails.units.usageCategoryMajor.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"bucket_script\":{\"buckets_path\":{\"c1\":\"PT Tax>aggrFilter>amount\",\"c2\":\"Fire Cess>aggrFilter>amount\",\"c3\":\"Cancer Cess>aggrFilter>amount\",\"c4\":\"Rebate>aggrFilter>amount\",\"c5\":\"Penalty>aggrFilter>amount\",\"c6\":\"Time Interest>aggrFilter>amount\",\"c7\":\"Round Off>aggrFilter>amount\"},\"script\":{\"source\":\"params.c1+params.c2+params.c3+params.c4+params.c5+params.c6+params.c7\"}}},\"PT Tax\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TAX\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Fire Cess\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_FIRE_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Cancer Cess\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_CANCER_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Rebate\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_REBATE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Penalty\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_PENALTY\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Time Interest\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_INTEREST\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Round Off\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_ROUNDOFF\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}}}}}}}}}}"
     }
   ],
   "filterKeys": [

   ],
   "chartType": "table",
   "valueType": "number",
   "drillChart": "",
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Usage Type",
   "aggregationPaths": [
     "Total Amount",
     "PT Tax",
     "Fire Cess",
     "Cancer Cess",
     "Rebate",
     "Penalty"
   ],
   "pathDataTypeMapping": [
     {
       "Total Amount": "amount"
     },
     {
       "PT Tax": "amount"
     },
     {
       "Fire Cess": "amount"
     },
     {
       "Cancer Cess": "amount"
     },
     {
       "Rebate": "amount"
     },
     {
       "Penalty": "amount"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 
 
 "totalCollection": {
   "chartName": "DSS_TOTAL_COLLECTION",
   "queries": [
     {
       "module": "PT",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"term\":{\"dataObject.Bill.billDetails.businessService.keyword\":\"PT\"}}]}},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}}}}"
     },
     {
       "module": "TL",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"term\":{\"dataObject.Bill.billDetails.businessService.keyword\":\"TL\"}}]}},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}}}}"
     }
   ],
   "chartType": "metric",
   "valueType": "Amount",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "",
   "aggregationPaths": [
     "Total Collection"
   ],
   "insight": {
     "chartResponseMap" : "totalCollection",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " "
 },
 "totalCitizens": {
   "chartName": "DSS_CITIZENS_REGISTERED",
   "queries": [
     {
       "module": "COMMON",
       "dateRefField": "",
       "requestQueryMap": "{\"tenantId\" : \"tenantId\"}",
       "oldReqMap":"{\"tenantId\" : \"tenantId\"}",
       "indexName": "dss-citizen-count",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"terms\":{\"tenantId\":[\"pb.testing\",\"pb\",\"all\"]}}]}},\"aggs\":{\"Total Citizens\":{\"sum\":{\"field\":\"citizenCount\"}}}}}}"
     }
   ],
   "chartType": "metric",
   "valueType": "number",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "",
   "aggregationPaths": [
     "Total Citizens"
   ],
   "insight": {
     "chartResponseMap" : "totalCollection",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " "
 },
 "cumulativeCollection": {
   "chartName": "DSS_TOTAL_CUMULATIVE_COLLECTION",
   "queries": [
     {
       "module": "COMMON",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\r\n  \"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \n\"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.Bill.billDetails.businessService.keyword\":[\"PT\",\"TL\"]}}]}},\"aggs\":{\"Collections\":{\"date_histogram\":{\"field\":\"dataObject.Bill.billDetails.receiptDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}}}}}}"
     }
   ],
   "chartType": "line",
   "valueType": "amount",
   "action": "",
   "drillChart": "none",
   "documentType": "_doc",
   "aggregationPaths": [
     "Collections"
   ],
   "isCumulative": true,
   "interval": "month",
   "insight": {
   },
   "_comment": " "
 },
 "targetAchieved": {
   "chartName": "DSS_TARGET_ACHIEVED",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\r\n  \"module\" : \"businessService.keyword\", \n\"tenantId\" : \"tenantIdForMunicipalCorporation\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"Actual collection\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}"
     },
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\r\n  \"district\" : \"dataObject.tenantData.cityDistrictCode\", \"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \n\"tenantId\" : \"dataObject.tenantId\"}",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}}}}"
     }

   ],
   "chartType": "metric",
   "valueType": "percentage",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "percentage",
   "aggregationPaths": [
     "Total Collection",
     "Actual collection"
   ],
   "insight": {
     "chartResponseMap" : "targetAchieved",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " "
 },
 "todaysCollection": {
   "chartName": "DSS_TOTAL_COLLECTION",
   "queries": [
     {
       "module": "PT",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"term\":{\"dataObject.Bill.billDetails.businessService.keyword\":\"PT\"}}]}},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}}}}"
     },
     {
       "module": "TL",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"term\":{\"dataObject.Bill.billDetails.businessService.keyword\":\"TL\"}}]}},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}}}}"
     }
   ],
   "chartType": "metric",
   "valueType": "Amount",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "",
   "aggregationPaths": [
     "Total Collection"
   ],
   "insight": {
   },
   "_comment": " "
 },
 "totalCollectionDeptWise": {
   "chartName": "DSS_TOTAL_CUMULATIVE_COLLECTION:_DEPARTMENT_WISE",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.Bill.billDetails.businessService.keyword\":[\"PT\",\"TL\"]}}]}},\"aggs\":{\"Business Service\":{\"terms\":{\"field\":\"dataObject.Bill.billDetails.businessService.keyword\"},\"aggs\":{\"total\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "Amount",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "",
   "aggregationPaths": [
     "Business Service"
   ],
   "insight": {
   },
   "_comment": " "
 },
 "topPerformingUlbs": {
   "chartName": "DSS_PT_TOP_3_PERFORMING_ULBS",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\r\n  \"module\" : \"businessService.keyword\", \n\"tenantId\" : \"tenantIdForMunicipalCorporation\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"Target Collection\":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"desc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
     },
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\r\n  \"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \n\"tenantId\" : \"dataObject.tenantId\"}",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"Total Collection\":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"desc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}}}}}}"
     }
   ],
   "chartType": "perform",
   "valueType": "percentage",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "percentage",
   "plotLabel": "DSS_TARGET_ACHIEVED",
   "order": "desc",
   "limit": 3,
   "aggregationPaths": [
     "Total Collection","Target Collection"
   ],
   "insight": {
   },
   "_comment": " Top Performing Ulbs for target achieved"
 },
 "bottomPerformingUlbs": {
   "chartName": "DSS_PT_BOTTOM_3_PERFORMING_ULBS",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\",\"tenantId\" : \"tenantIdForMunicipalCorporation\" }",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"Target Collection\":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"asc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
     },
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\" }",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"Total Collection\":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"asc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}}}}}}"
     }
   ],
   "chartType": "perform",
   "valueType": "percentage",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "percentage",
   "plotLabel": "DSS_TARGET_ACHIEVED",
   "order": "asc",
   "limit": 3,
   "aggregationPaths": [
     "Total Collection", "Target Collection"
   ],
   "insight": {
   },
   "_comment": " Bottom Performing Ulbs for target achieved"
 },
 "licenseByLicenseType": {
   "chartName": "DSS_TL_LICENSE_BY_TYPE",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantData.code\", \"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"License Instrument Type\":{\"terms\":{\"field\":\"dataObject.instrument.typeName.keyword\"},\"aggs\":{\"Licens Issued\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "License Instrument Type"
   ],
   "insight": {
   },
   "_comment": " License Application which are issued by License Type"
 },


 "_comment": "COMMON NON-COLLECTION CHARTS",
 "_comment": "tltotalApplicationInitiated",
 "totalApplicationInitiated": {
   "chartName": "DSS_TOTAL_APPLICATION",
   "queries": [
     {
       "module": "TL",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"terms\":{\"Data.tradelicense.status.keyword\":[\"INITIATED\"]}}]}},\"aggs\":{\"Total Application\":{\"value_count\":{\"field\":\"Data.tradelicense.applicationNumber.keyword\"}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tradelicense.tenantId.keyword\" \r\n}", 
       "dateRefField": "Data.tradelicense.applicationDate"
     },
     {
       "module": "WS",
       "indexName": "water-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"term\":{\"Data.applicationStatus.keyword\":\"INITIATED\"}}]}},\"aggs\":{\"Total Application\":{\"value_count\":{\"field\":\"Data.applicationNo.keyword\"}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId.keyword\" \r\n}", 
       "dateRefField": "Data.additionalDetails.appCreatedDate"
     },
    {
     "module": "SW",
     "indexName": "sewerage-services",
     "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"term\":{\"Data.applicationStatus.keyword\":\"INITIATED\"}}]}},\"aggs\":{\"Total Application\":{\"value_count\":{\"field\":\"Data.applicationNo.keyword\"}}}}}}",
     "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId.keyword\" \r\n}", 
     "dateRefField": "Data.additionalDetails.appCreatedDate"
   }
   ],
   "chartType": "metric",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Total Application"
   ],
   "insight": {
     "chartResponseMap" : "totalApplication",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " totalApplication is the chartId"
 },
 "totalApplicationsApproved": {
   "chartName": "DSS_TOTAL_APPROVED",
   "queries": [
     {
       "module": "TL",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"Data.tradelicense.status.keyword\":[\"INITIATED\"]}}],\"must\":[{\"terms\":{\"Data.tradelicense.status.keyword\":[\"APPROVED\",\"EXPIRED\",\"CANCELLED\"]}}]}},\"aggs\":{\"Total Application Approved\":{\"value_count\":{\"field\":\"Data.tradelicense.applicationNumber.keyword\"}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tradelicense.tenantId.keyword\" \r\n}", 
       "dateRefField": "Data.tradelicense.applicationDate"
     },
     {
       "module": "PGR",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"terms\":{\"Data.status.keyword\":[\"closed\",\"resolved\"]}}]}},\"aggs\":{\"Total Application Approved\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
       "dateRefField": "Data.dateOfComplaint"
     },
     {
       "module": "LAMS",
       "indexName": "leaseindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.lease.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"terms\":{\"Data.lease.status.keyword\":[\"APPROVED\"]}}]}},\"aggs\":{\"Total Application Approved\":{\"value_count\":{\"field\":\"Data.lease.applicationNumber.keyword\"}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.lease.tenantId\" \r\n}",
       "dateRefField": "Data.lease.applicationDate"
     },
     {
       "module": "WS",
       "indexName": "water-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total Application Approved\":{\"value_count\":{\"field\":\"Data.connectionNo.keyword\"}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId.keyword\" \r\n}", 
       "dateRefField": "Data.additionalDetails.appCreatedDate"
     },
    {
     "module": "SW",
     "indexName": "sewerage-services",
     "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total Application Approved\":{\"value_count\":{\"field\":\"Data.connectionNo.keyword\"}}}}}}",
     "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId.keyword\" \r\n}", 
     "dateRefField": "Data.additionalDetails.appCreatedDate"
   }
   ],
   "chartType": "metric",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Total Application Approved"
   ],
   "insight": {
     "chartResponseMap" : "totalApplication",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " totalApplication is the chartId"
 },
 "totalApplicationsRejected": {
   "chartName": "DSS_TOTAL_REJECTED",
   "queries": [
     {
       "module": "TL",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"Data.tradelicense.status.keyword\":[\"INITIATED\"]}}],\"must\":[{\"terms\":{\"Data.tradelicense.status.keyword\":[\"REJECTED\"]}}]}},\"aggs\":{\"Total Application Rejected\":{\"value_count\":{\"field\":\"Data.tradelicense.applicationNumber.keyword\"}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tradelicense.tenantId.keyword\" \r\n}", 
       "dateRefField": "Data.tradelicense.applicationDate"
     },
     {
       "module": "PGR",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"terms\":{\"Data.status.keyword\":[\"rejected\"]}}]}},\"aggs\":{\"Total Application Rejected\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
       "dateRefField": "Data.dateOfComplaint"
     },
     {
       "module": "LAMS",
       "indexName": "leaseindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.lease.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"terms\":{\"Data.lease.status.keyword\":[\"REJECTED\"]}}]}},\"aggs\":{\"Total Application Rejected\":{\"value_count\":{\"field\":\"Data.lease.applicationNumber.keyword\"}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.lease.tenantId\" \r\n}",
       "dateRefField": "Data.lease.applicationDate"
     },
     {
       "module": "WS",
       "indexName": "water-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"term\":{\"Data.applicationStatus.keyword\":\"CONNECTION_ACTIVATED\"}}]}},\"aggs\":{\"averageProcessingTime\":{\"avg\":{\"script\":{\"lang\":\"painless\",\"source\":\"long d1 =  doc['Data.additionalDetails.appCreatedDate'].value ; long d2 = params._source.Data.history[0].auditDetails.createdTime;double differenceInMillis = (double)d1-d2;return Math.abs(differenceInMillis\/86400000);\"}}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId.keyword\" \r\n}", 
       "dateRefField": "Data.additionalDetails.appCreatedDate"
     },
    {
     "module": "SW",
     "indexName": "sewerage-services",
     "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"term\":{\"Data.applicationStatus.keyword\":\"CONNECTION_ACTIVATED\"}}]}},\"aggs\":{\"averageProcessingTime\":{\"avg\":{\"script\":{\"lang\":\"painless\",\"source\":\"long d1 =  doc['Data.additionalDetails.appCreatedDate'].value ; long d2 = params._source.Data.history[0].auditDetails.createdTime;double differenceInMillis = (double)d1-d2;return Math.abs(differenceInMillis\/86400000);\"}}}}}}}",
     "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId.keyword\" \r\n}", 
     "dateRefField": "Data.additionalDetails.appCreatedDate"
   }
   ],
   "chartType": "metric",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Total Application Rejected"
   ],
   "insight": {
     "chartResponseMap" : "totalApplication",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " totalApplication is the chartId"
 },
 "averageProcessingTime": {
   "chartName": "DSS_AVG_PROCESSING_TIME",
   "queries": [
     {
       "module": "TL",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"terms\":{\"Data.tradelicense.status.keyword\":[\"APPROVED\",\"REJECTED\",\"PENDINGPAYMENT\"]}}]}},\"aggs\":{\"averageProcessingTime\":{\"avg\":{\"script\":{\"lang\":\"painless\",\"source\":\"long d1 =  params._source.Data.tradelicense.applicationDate;if(doc['Data.tradelicense.status.keyword'].value == 'APPROVED'){long d2= params._source.Data.history[1].auditDetails.createdTime;return Math.abs((double)(d2-d1)\/86400000);} else if(doc['Data.tradelicense.status.keyword'].value == 'PENDINGPAYMENT' || doc['Data.tradelicense.status.keyword'].value == 'REJECTED' ){long d2 = params._source.Data.history[0].auditDetails.createdTime;return Math.abs((double)(d2-d1)\/86400000);}\"}}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tradelicense.tenantId.keyword\" \r\n}", 
       "dateRefField": "Data.tradelicense.applicationDate"
     },
     {
       "module": "PGR",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"terms\":{\"Data.status.keyword\":[\"resolved\",\"closed\"]}}]}},\"aggs\":{\"averageProcessingTime\":{\"avg\":{\"script\":{\"lang\":\"painless\",\"source\":\"long d1 =  doc['Data.dateOfComplaint'].value ; long d2 = params._source.Data.actionHistory.actions[0].when ;double differenceInMillis = (double)d1-d2;return Math.abs(differenceInMillis\/86400000);\"}}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
       "dateRefField": "Data.dateOfComplaint"
     },
     {
       "module": "LAMS",
       "indexName": "leaseindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.lease.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"term\":{\"Data.lease.status.keyword\":\"APPROVED\"}}]}},\"aggs\":{\"averageProcessingTime\":{\"avg\":{\"script\":{\"lang\":\"painless\",\"source\":\"long d1 =  doc['Data.lease.applicationDate'].value ; long d2 = doc['Data.lease.approvedDate'].value;double differenceInMillis = (double)d1-d2;return Math.abs(differenceInMillis\/86400000);\"}}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.lease.tenantId\" \r\n}",
       "dateRefField": "Data.lease.applicationDate"
     },
     {
       "module": "WS",
       "indexName": "water-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"term\":{\"Data.applicationStatus.keyword\":\"CONNECTION_ACTIVATED\"}}]}},\"aggs\":{\"averageProcessingTime\":{\"avg\":{\"script\":{\"lang\":\"painless\",\"source\":\"long d1 =  doc['Data.additionalDetails.appCreatedDate'].value ; long d2 = doc['Data.connectionExecutionDate'].value;double differenceInMillis = (double)d1-d2;return Math.abs(differenceInMillis\/86400000);\"}}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId.keyword\" \r\n}", 
       "dateRefField": "Data.additionalDetails.appCreatedDate"
     },
    {
     "module": "SW",
     "indexName": "sewerage-services",
     "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"term\":{\"Data.applicationStatus.keyword\":\"CONNECTION_ACTIVATED\"}}]}},\"aggs\":{\"averageProcessingTime\":{\"avg\":{\"script\":{\"lang\":\"painless\",\"source\":\"long d1 =  doc['Data.additionalDetails.appCreatedDate'].value ; long d2 = doc['Data.connectionExecutionDate'].value;double differenceInMillis = (double)d1-d2;return Math.abs(differenceInMillis\/86400000);\"}}}}}}}",
     "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId.keyword\" \r\n}", 
     "dateRefField": "Data.additionalDetails.appCreatedDate"
   }
   ],
   "chartType": "metric",
   "valueType": "avgdays",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "averageProcessingTime"
   ],
   "insight": {
     "chartResponseMap" : "totalApplication",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " totalApplication is the chartId"
 },
 "totalApplication": {
   "chartName": "DSS_TOTAL_APPLICATION",
   "queries": [
     {
       "module": "TL",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"Data.tradelicense.status.keyword\":[\"INITIATED\"]}}],\"must\":[]}},\"aggs\":{\"Total Application99\":{\"value_count\":{\"field\":\"Data.tradelicense.applicationNumber.keyword\"}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tradelicense.tenantId.keyword\" \r\n}", 
       "dateRefField": "Data.tradelicense.applicationDate"
     },
     {
       "module": "PGR",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total Application99\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
       "dateRefField": "Data.dateOfComplaint"
     },
     {
       "module": "LAMS",
       "indexName": "leaseindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.lease.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total Application99\":{\"value_count\":{\"field\":\"Data.lease.applicationNumber.keyword\"}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.lease.tenantId\" \r\n}",
       "dateRefField": "Data.lease.applicationDate"
     },
     {
       "module": "WS",
       "indexName": "water-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}},{\"term\":{\"Data.applicationStatus.keyword\":\"INITIATED\"}}]}},\"aggs\":{\"Total Application99\":{\"value_count\":{\"field\":\"Data.applicationNo.keyword\"}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId.keyword\" \r\n}", 
       "dateRefField": "Data.additionalDetails.appCreatedDate"
     },
    {
     "module": "SW",
     "indexName": "sewerage-services",
     "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}},{\"term\":{\"Data.applicationStatus.keyword\":\"INITIATED\"}}]}},\"aggs\":{\"Total Application99\":{\"value_count\":{\"field\":\"Data.applicationNo.keyword\"}}}}}}",
     "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId.keyword\" \r\n}", 
     "dateRefField": "Data.additionalDetails.appCreatedDate"
   },
   {
     "module": "BIRTH",
     "indexName": "birth-cert-v1",
     "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"Data.applicationStatus.keyword\":[\"ACTIVE\"]}}]}},\"aggs\":{\"Total Application99\":{\"value_count\":{\"field\":\"Data.birthCertificateNo.keyword\"}}}}}}",
     "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId.keyword\" \r\n}", 
     "dateRefField": "Data.auditDetails.lastModifiedTime"
   },
   {
     "module": "DEATH",
     "indexName": "death-cert-v1",
     "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"Data.applicationStatus.keyword\":[\"ACTIVE\"]}}]}},\"aggs\":{\"Total Application99\":{\"value_count\":{\"field\":\"Data.deathCertificateNo.keyword\"}}}}}}",
     "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId.keyword\" \r\n}", 
     "dateRefField": "Data.auditDetails.lastModifiedTime"
   }
   ],
   "chartType": "metric",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Total Application99"
   ],
   "insight": {
     "chartResponseMap" : "totalApplication",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " totalApplication is the chartId"
 },
 "closedApplication": {
   "chartName": "DSS_CLOSED_APPLICATION",
   "queries": [

     {
       "module": "TL",
       "dateRefField": "Data.tradelicense.applicationDate",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tradelicense.tenantId.keyword\" \r\n}",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"size\":0,\"query\":{\"bool\":{\"must\":[{\"range\":{\"Data.tradelicense.applicationDate\":{\"from\":\"1585679400000\",\"to\":\"1617215399000\",\"include_lower\":true,\"include_upper\":true,\"boost\":1}}}],\"adjust_pure_negative\":true,\"boost\":1}},\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Applications Closed\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.tradelicense.status.keyword\":[\"REJECTED\",\"APPROVED\",\"CANCELLED\"]}}]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.tradelicense.applicationNumber.keyword\"}}}}}}}}"
     },
     {
       "module": "PGR",
       "dateRefField": "Data.dateOfComplaint",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Applications Closed\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.status.keyword\":[\"closed\",\"resolved\"]}}]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}}}}"
     },
     {
       "module": "LAMS",
       "indexName": "leaseindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.lease.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"terms\":{\"Data.lease.status.keyword\":[\"APPROVED\",\"REJECTED\"]}}]}},\"aggs\":{\"Applications Closed\":{\"value_count\":{\"field\":\"Data.lease.applicationNumber.keyword\"}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",    \"district\" : \"Data.tenantData.city.districtCode\",  \"tenantId\" : \"Data.lease.tenantId\"  ,  \"businessService\" : \"Data.lease.businessService\"  }",
       "dateRefField": "Data.lease.applicationDate"
     },
     {
       "module": "WS",
       "indexName": "water-services",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Applications Closed\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.applicationStatus.keyword\":[\"REJECTED\",\"CONNECTION_ACTIVATED\"]}}]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.applicationNo.keyword\"}}}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId.keyword\" \r\n}",
       "dateRefField": "Data.additionalDetails.appCreatedDate"
     },
     {
       "module": "SW",
       "indexName": "sewerage-services",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Applications Closed\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.applicationStatus.keyword\":[\"REJECTED\",\"CONNECTION_ACTIVATED\"]}}]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.applicationNo.keyword\"}}}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId.keyword\" \r\n}",
       "dateRefField": "Data.additionalDetails.appCreatedDate"
     }
   ],
   "chartType": "metric",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Applications Closed"
   ],
   "insight": {
     "chartResponseMap" : "closedApplication",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " totalApplication is the chartId"
 },
 "citizenRegistered": {
   "chartName": "DSS_CITIZEN_REGISTERED",
   "queries": [
     {
       "module": "PGR",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Citizen Registered\":{\"terms\":{\"field\":\"Data.citizen.uuid.keyword\"},\"aggs\":{\"type_count\":{\"cardinality\":{\"field\":\"Data.citizen.uuid.keyword\"}}}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \"district\" : \"Data.tenantData.city.districtCode\", \"tenantId\" : \"Data.tenantId\", \"status\" : \"Data.status\"}",
       "dateRefField": "Data.dateOfComplaint"
     }
   ],
   "chartType": "metric",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Citizen Registered"
   ],
   "insight": {
     "chartResponseMap" : "citizenRegistered",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " totalApplication is the chartId"
 },
 "totalApplicationDeptWise": {
   "chartName": "DSS_TOTAL_APPLICATIONS:_DEPARTMENT_WISE",
   "queries": [
     {
       "module": "PT",
       "dateRefField": "Data.@timestamp",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
       "indexName": "ptindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Property Tax\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}"
     },
     {
       "module": "TL",
       "dateRefField": "Data.tradelicense.applicationDate",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tradelicense.tenantId\" \r\n}",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Trade Licence\":{\"value_count\":{\"field\":\"Data.tradelicense.tenantId.keyword\"}}}}}}"
     },
     {
       "module": "PGR",
       "dateRefField": "Data.@timestamp",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"PGR\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}"
     },
     {
       "module": "LAMS",
       "dateRefField": "Data.lease.applicationDate",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.lease.tenantId\" \r\n}",
       "indexName": "leaseindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Lease\":{\"value_count\":{\"field\":\"Data.lease.applicationNumber.keyword\"}}}}}}"
     },
     {
       "module": "WS",
       "dateRefField": "Data.additionalDetails.appCreatedDate",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
       "indexName": "water-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"Data.applicationStatus.keyword\":[\"INITIATED\"]}}]}},\"aggs\":{\"Water\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}"
     },
     {
       "module": "SW",
       "dateRefField": "Data.additionalDetails.appCreatedDate",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
       "indexName": "sewerage-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"Data.applicationStatus.keyword\":[\"INITIATED\"]}}]}},\"aggs\":{\"Sewerage\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Property Tax",
     "Trade Licence",
     "PGR",
     "Lease",
     "Water",
     "Sewerage"
   ],
   "insight": {
   },
   "_comment": " totalApplication is the chartId"
 },
 "totalApplicationDeptWise2": {
   "chartName": "DSS_TOTAL_CUMULATIVE_COLLECTION:_DEPARTMENT_WISE",
   "queries": [
     {
       "module": "TL",
       "dateRefField": "Data.tradelicense.applicationDate",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Trade Licence2\":{\"value_count\":{\"field\":\"Data.tradelicense.tenantId.keyword\"}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "number",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "",
   "aggregationPaths": [
     "Trade Licence2"
   ],
   "insight": {
   },
   "_comment": " "
 },
 "totalApplication&ClosedApplication": {
   "chartName": "DSS_TOTAL_APPLICATION_&_CLOSED_APPLICATION",
   "queries": [
     {
       "module": "PT",
       "dateRefField": "Data.@timestamp",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId.keyword\" \r\n}",
       "indexName": "ptindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total Application\":{\"date_histogram\":{\"field\":\"Data.@timestamp\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.propertyId.keyword\"}}}},\"Closed Application\":{\"date_histogram\":{\"field\":\"Data.@timestamp\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Applications Closed\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.status.keyword\":[\"closed\",\"resolved\"]}}]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.propertyId.keyword\"}}}}}}}}}}"
     },
     {
       "module": "TL",
       "dateRefField": "Data.tradelicense.applicationDate",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tradelicense.tenantId.keyword\" \r\n}",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total Application\":{\"date_histogram\":{\"field\":\"Data.tradelicense.applicationDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.tradelicense.applicationNumber.keyword\"}}}},\"Closed Application\":{\"date_histogram\":{\"field\":\"Data.tradelicense.applicationDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Applications Closed\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.tradelicense.status.keyword\":[\"REJECTED\",\"APPROVED\",\"CANCELLED\"]}}]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.tradelicense.applicationNumber.keyword\"}}}}}}}}}}"

     },
     {
       "module": "PGR",
       "dateRefField": "Data.dateOfComplaint",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total Application\":{\"date_histogram\":{\"field\":\"Data.dateOfComplaint\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}},\"Closed Application\":{\"date_histogram\":{\"field\":\"Data.dateOfComplaint\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Applications Closed\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.status.keyword\":[\"closed\",\"resolved\"]}}]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}}}}}}"

     },
     {
       "module": "LAMS",
       "indexName": "leaseindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.lease.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total Application\":{\"date_histogram\":{\"field\":\"Data.lease.applicationDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.lease.applicationNumber.keyword\"}}}},\"Closed Application\":{\"date_histogram\":{\"field\":\"Data.lease.applicationDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Applications Closed\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.lease.status.keyword\":[\"APPROVED\",\"REJECTED\"]}}]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.lease.applicationNumber.keyword\"}}}}}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",    \"district\" : \"Data.tenantData.city.districtCode\",  \"tenantId\" : \"Data.lease.tenantId\"  ,  \"businessService\" : \"Data.lease.businessService\"  }",
       "dateRefField": "Data.lease.applicationDate"
     },
     {
       "module": "WS",
       "dateRefField": "Data.additionalDetails.appCreatedDate",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId.keyword\" \r\n}",
       "indexName": "water-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total Application\":{\"date_histogram\":{\"field\":\"Data.additionalDetails.appCreatedDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Applications Total\":{\"filter\":{\"bool\":{\"must_not\":[{\"terms\":{\"Data.applicationStatus.keyword\":[\"INITIATED\"]}}]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.applicationNo.keyword\"}}}}}},\"Closed Application\":{\"date_histogram\":{\"field\":\"Data.additionalDetails.appCreatedDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Applications Closed\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.applicationStatus.keyword\":[\"REJECTED\",\"CONNECTION_ACTIVATED\"]}}]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.applicationNo.keyword\"}}}}}}}}}}"
     },
      {
       "module": "SW",
       "dateRefField": "Data.additionalDetails.appCreatedDate",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId.keyword\" \r\n}",
       "indexName": "sewerage-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total Application\":{\"date_histogram\":{\"field\":\"Data.additionalDetails.appCreatedDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Applications Total\":{\"filter\":{\"bool\":{\"must_not\":[{\"terms\":{\"Data.applicationStatus.keyword\":[\"INITIATED\"]}}]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.applicationNo.keyword\"}}}}}},\"Closed Application\":{\"date_histogram\":{\"field\":\"Data.additionalDetails.appCreatedDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Applications Closed\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.applicationStatus.keyword\":[\"REJECTED\",\"CONNECTION_ACTIVATED\"]}}]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.applicationNo.keyword\"}}}}}}}}}}"
     }
   ],
   "chartType": "line",
   "valueType": "number",
   "action": "",
   "drillChart": "none",
   "documentType": "_doc",
   "aggregationPaths": [
     "Total Application",
     "Closed Application"
   ],
   "isCumulative": false,
   "interval": "month",
   "insight": {
   },
   "_comment": " "
 },
 "topPerformingUlbsCompletionRate": {
   "chartName": "DSS_PT_TOP_3_PERFORMING_ULBS",
   "queries": [
     {
       "module": "PGR",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \"module\" : \"businessService.keyword\", \"district\" : \"Data.tenantData.city.districtCode\"}",
       "dateRefField": "Data.@timestamp",
        "removedTenantFilter": "\"tenantId\" : \"Data.tenantId\" ," ,
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Closed Application\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.status.keyword\":[\"closed\",\"rejected\",\"resolved\"]}}],\"must_not\":[{\"terms\":{\"Data.tenantId.keyword\":[\"pb.testing\"]}}]}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"order\":{\"_key\":\"asc\"},\"size\":100},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}},\"Total Application74\":{\"filter\":{\"bool\":{\"must_not\":[{\"terms\":{\"Data.tenantId.keyword\":[\"pb.testing\"]}}]}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"order\":{\"_key\":\"asc\"},\"size\":100},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}}}"
     },
     {
       "module": "PT",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"module\" : \"businessService.keyword\" ,  \"district\" : \"Data.tenantData.city.districtCode\"}",
       "removedTenantFilter": "\"tenantId\" : \"Data.tenantId\" ," ,
       "dateRefField": "Data.@timestamp",
       "indexName": "ptindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Closed Application\":{\"filter\":{\"exists\":{\"field\":\"Data.propertyId.keyword\"}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tenantId.keyword\"},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}},\"Total Application74\":{\"terms\":{\"field\":\"Data.tenantId.keyword\"},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}"
     },
     {
       "module": "TL",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"module\" : \"businessService.keyword\",\"tenantId\" : \"Data.tenantData.code\" ,  \"district\" : \"Data.tenantData.city.districtCode\"}",
        "removedTenantFilter": "\"tenantId\" : \"Data.tenantData.code\" ," ,
       "dateRefField": "Data.tradelicense.applicationDate",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}},{\"term\":{\"Data.tradelicense.status.keyword\":\"INITIATED\"}}]}},\"aggs\":{\"Closed Application\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.tradelicense.status.keyword\":[\"REJECTED\",\"APPROVED\",\"CANCELLED\"]}}],\"must_not\":[{\"terms\":{\"Data.tradelicense.tenantId.keyword\":[\"pb.testing\"]}}]}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tradelicense.tenantId.keyword\",\"order\":{\"_key\":\"asc\"},\"size\":100},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tradelicense.tenantId.keyword\"}}}}}},\"Total Application74\":{\"filter\":{\"bool\":{\"must_not\":[{\"terms\":{\"Data.tradelicense.tenantId.keyword\":[\"pb.testing\"]}}]}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tradelicense.tenantId.keyword\",\"order\":{\"_key\":\"asc\"},\"size\":100},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tradelicense.tenantId.keyword\"}}}}}}}}}}"
     },
     {
       "module": "LAMS",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"module\" : \"Data.lease.businessService.keyword\",  \"district\" : \"Data.tenantData.city.districtCode\"}",
        "removedTenantFilter":"\"tenantId\" : \"Data.tenantData.code\" ,",
       "dateRefField": "Data.lease.applicationDate",
       "indexName": "leaseindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.lease.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Closed Application\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.lease.status.keyword\":[\"REJECTED\",\"APPROVED\"]}}],\"must_not\":[{\"terms\":{\"Data.lease.tenantId.keyword\":[\"pb.testing\"]}}]}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.lease.tenantId.keyword\",\"order\":{\"_key\":\"asc\"},\"size\":100},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.lease.tenantId.keyword\"}}}}}},\"Total Application74\":{\"filter\":{\"bool\":{\"must_not\":[{\"terms\":{\"Data.lease.tenantId.keyword\":[\"pb.testing\"]}}]}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.lease.tenantId.keyword\",\"order\":{\"_key\":\"asc\"},\"size\":100},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.lease.tenantId.keyword\"}}}}}}}}}}"
     },
     {
       "module": "WS",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"module\" : \"businessService.keyword\",\"tenantId\" : \"Data.tenantId\" ,  \"district\" : \"Data.tenantData.city.districtCode\"}",
       "dateRefField": "Data.additionalDetails.appCreatedDate",
       "removedTenantFilter":"\"tenantId\" : \"Data.tenantId\" ,",
       "indexName": "water-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Closed Application\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.applicationStatus.keyword\":[\"REJECTED\",\"CONNECTION_ACTIVATED\"]}}],\"must_not\":[{\"terms\":{\"Data.tenantId.keyword\":[\"pb.testing\"]}}]}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"order\":{\"_key\":\"asc\"},\"size\":100},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}},\"Total Application74\":{\"filter\":{\"bool\":{\"must_not\":[{\"terms\":{\"Data.applicationStatus.keyword\":[\"INITIATED\"]}},{\"terms\":{\"Data.tenantId.keyword\":[\"pb.testing\"]}}]}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"order\":{\"_key\":\"asc\"},\"size\":100},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}}}"
     },
      {
       "module": "SW",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"module\" : \"businessService.keyword\",  \"district\" : \"Data.tenantData.city.districtCode\"}",
       "removedTenantFilter":"\"tenantId\" : \"Data.tenantId\" ,",
       "dateRefField": "Data.additionalDetails.appCreatedDate",
       "indexName": "sewerage-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Closed Application\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.applicationStatus.keyword\":[\"REJECTED\",\"CONNECTION_ACTIVATED\"]}}],\"must_not\":[{\"terms\":{\"Data.tenantId.keyword\":[\"pb.testing\"]}}]}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"order\":{\"_key\":\"asc\"},\"size\":100},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}},\"Total Application74\":{\"filter\":{\"bool\":{\"must_not\":[{\"terms\":{\"Data.applicationStatus.keyword\":[\"INITIATED\"]}},{\"terms\":{\"Data.tenantId.keyword\":[\"pb.testing\"]}}]}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"order\":{\"_key\":\"asc\"},\"size\":100},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}}}"
     }
   ],
   "chartType": "perform",
   "valueType": "percentage",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "percentage",
   "plotLabel": "DSS_COMPLETION_RATE",
   "order": "desc",
   "limit": 3,
   "aggregationPaths": [
     "Closed Application",
     "Total Application74"
   ],
   "insight": {
   },
   "_comment": " Top Performing Ulbs for Completion rate"
 },
 "bottomPerformingUlbsCompletionRate": {
   "chartName": "DSS_PT_BOTTOM_3_PERFORMING_ULBS",
   "queries": [
     {
       "module": "PGR",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \"module\" : \"businessService.keyword\", \"district\" : \"Data.tenantData.city.districtCode\"}",
       "dateRefField": "Data.@timestamp",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Closed Application\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.status.keyword\":[\"closed\",\"rejected\",\"resolved\"]}}],\"must_not\":[{\"terms\":{\"Data.tenantId.keyword\":[\"pb.testing\"]}}]}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"order\":{\"_key\":\"asc\"},\"size\":100},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}},\"Total Application74\":{\"filter\":{\"bool\":{\"must_not\":[{\"terms\":{\"Data.tenantId.keyword\":[\"pb.testing\"]}}]}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"order\":{\"_key\":\"asc\"},\"size\":100},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}}}"
     },
     {
       "module": "PT",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"module\" : \"businessService.keyword\" ,\"district\" : \"Data.tenantData.city.districtCode\"}",
       "dateRefField": "Data.@timestamp",
       "indexName": "ptindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Closed Application\":{\"filter\":{\"exists\":{\"field\":\"Data.propertyId.keyword\"}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tenantId.keyword\"},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}},\"Total Application74\":{\"terms\":{\"field\":\"Data.tenantId.keyword\"},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}"
     },
     {
       "module": "TL",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"module\" : \"businessService.keyword\" ,  \"district\" : \"Data.tenantData.city.districtCode\"}",
       "dateRefField": "Data.tradelicense.applicationDate",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}},{\"term\":{\"Data.tradelicense.status.keyword\":\"INITIATED\"}}]}},\"aggs\":{\"Closed Application\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.tradelicense.status.keyword\":[\"REJECTED\",\"APPROVED\",\"CANCELLED\"]}}],\"must_not\":[{\"terms\":{\"Data.tradelicense.tenantId.keyword\":[\"pb.testing\"]}}]}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tradelicense.tenantId.keyword\",\"order\":{\"_key\":\"asc\"},\"size\":100},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tradelicense.tenantId.keyword\"}}}}}},\"Total Application74\":{\"filter\":{\"bool\":{\"must_not\":[{\"terms\":{\"Data.tradelicense.tenantId.keyword\":[\"pb.testing\"]}}]}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tradelicense.tenantId.keyword\",\"order\":{\"_key\":\"asc\"},\"size\":100},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tradelicense.tenantId.keyword\"}}}}}}}}}}"
     },
     {
       "module": "LAMS",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"module\" : \"Data.lease.businessService.keyword\" ,  \"district\" : \"Data.tenantData.city.districtCode\"}",
       "dateRefField": "Data.lease.applicationDate",
       "indexName": "leaseindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.lease.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Closed Application\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.lease.status.keyword\":[\"REJECTED\",\"APPROVED\"]}}],\"must_not\":[{\"terms\":{\"Data.lease.tenantId.keyword\":[\"pb.testing\"]}}]}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.lease.tenantId.keyword\",\"order\":{\"_key\":\"asc\"},\"size\":100},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.lease.tenantId.keyword\"}}}}}},\"Total Application74\":{\"filter\":{\"bool\":{\"must_not\":[{\"terms\":{\"Data.lease.tenantId.keyword\":[\"pb.testing\"]}}]}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.lease.tenantId.keyword\",\"order\":{\"_key\":\"asc\"},\"size\":100},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.lease.tenantId.keyword\"}}}}}}}}}}"
     },
     {
       "module": "WS",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"module\" : \"businessService.keyword\" ,  \"district\" : \"Data.tenantData.city.districtCode\"}",
       "dateRefField": "Data.additionalDetails.appCreatedDate",
       "indexName": "water-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Closed Application\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.applicationStatus.keyword\":[\"REJECTED\",\"CONNECTION_ACTIVATED\"]}}],\"must_not\":[{\"terms\":{\"Data.tenantId.keyword\":[\"pb.testing\"]}}]}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"order\":{\"_key\":\"asc\"},\"size\":100},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}},\"Total Application74\":{\"filter\":{\"bool\":{\"must_not\":[{\"terms\":{\"Data.applicationStatus.keyword\":[\"INITIATED\"]}},{\"terms\":{\"Data.tenantId.keyword\":[\"pb.testing\"]}}]}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"order\":{\"_key\":\"asc\"},\"size\":100},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}}}"
     },
      {
       "module": "SW",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"module\" : \"businessService.keyword\",  \"district\" : \"Data.tenantData.city.districtCode\"}",
       "dateRefField": "Data.additionalDetails.appCreatedDate",
       "indexName": "sewerage-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Closed Application\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.applicationStatus.keyword\":[\"REJECTED\",\"CONNECTION_ACTIVATED\"]}}],\"must_not\":[{\"terms\":{\"Data.tenantId.keyword\":[\"pb.testing\"]}}]}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"order\":{\"_key\":\"asc\"},\"size\":100},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}},\"Total Application74\":{\"filter\":{\"bool\":{\"must_not\":[{\"terms\":{\"Data.applicationStatus.keyword\":[\"INITIATED\"]}},{\"terms\":{\"Data.tenantId.keyword\":[\"pb.testing\"]}}]}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"order\":{\"_key\":\"asc\"},\"size\":100},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}}}"
     }
   ],
   "chartType": "perform",
   "valueType": "percentage",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "percentage",
   "plotLabel": "DSS_COMPLETION_RATE",
   "order": "asc",
   "limit": 3,
   "aggregationPaths": [
     "Closed Application",
     "Total Application74"
   ],
   "insight": {
   },
   "_comment": " Bottom Performing Ulbs for Completion rate"
 },

 "_comment": "COMMON COLLECTION CHARTS",
   "_comment": "COMMON COLLECTION CHARTS",
 "targetCollection": {
   "chartName": "DSS_TARGET_COLLECTION",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"Target Collection\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}"
     }
   ],
   "chartType": "metric",
   "valueType": "amount",
   "action": "",
   "drillChart": "none",
   "documentType": "_doc",
   "aggregationPaths": [
     "Target Collection"
   ],
   "isDayUnit": true,
   "postAggregationTheory" : "repsonseToDifferenceOfDates",
   "insight": {
   },
   "_comment": " "
 },
 "collectionByUsageType": {
   "chartName": "DSS_PT_COLLECTION_BY_USAGE_TYPE",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"attrs_root\":{\"nested\":{\"path\":\"domainObject.propertyDetails.units\"},\"aggs\":{\"Usage Type\":{\"terms\":{\"field\":\"domainObject.propertyDetails.units.usageCategoryMajor.keyword\",\"size\":200}}}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "amount",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Usage Type"
   ],
   "insight": {
   },
   "_comment": " collection/amount per usage type"
 },

 "_comment": "PT NON-COLLECTION CHARTS",
 "propertiesByUsageType": {
   "chartName": "DSS_PT_PROPERTIES_BY_USAGE_TYPE",
   "queries": [
     {
       "module": "PT",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",\"module\" : \"Data.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"Data.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
       "dateRefField": "Data.@timestamp",
       "indexName": "ptindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Usage Type\":{\"terms\":{\"field\":\"Data.propertyDetails.units.usageCategoryMajor.keyword\"},\"aggs\":{\"Assessed Properties\":{\"value_count\":{\"field\":\"Data.propertyDetails.assessmentNumber.keyword\"}}}}}}}}"

     }
   ],
   "chartType": "pie",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Usage Type"
   ],
   "insight": {
   },
   "_comment": " properties having assessmentNumber per usage type"
 },
 "propertiesAssessed": {
   "chartName": "DSS_PT_TOTAL_PROPERTIES_ASSESSED",
   "queries": [
     {
       "module": "PT",
       "indexName": "ptindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Assessed Properties\":{\"value_count\":{\"field\":\"Data.propertyId.keyword\"}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",\"tenantId\" : \"Data.tenantId\" ,\"district\" : \"Data.tenantData.city.districtCode\"}",
       "dateRefField": "Data.@timestamp"
     }
   ],
   "chartType": "metric",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Assessed Properties"
   ],
   "insight": {
     "chartResponseMap" : "propertiesAssessed",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " totol properties having assessmentNumber "
 },
 "totalAssessment": {
   "chartName": "DSS_PT_TOTAL_ASSESSMENTS",
   "queries": [
     {
       "module": "PT",
       "indexName": "ptindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Assessed Properties\":{\"value_count\":{\"field\":\"Data.propertyDetails.assessmentNumber.keyword\"}}}}}}",

       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"tenantId\" : \"Data.tenantId\" ,\"district\" : \"Data.tenantData.city.districtCode\"}",
       "dateRefField": "Data.@timestamp"
     }
   ],
   "chartType": "metric",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Assessed Properties"
   ],
   "insight": {
     "chartResponseMap" : "totalAssessment",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " totol properties having assessmentNumber "
 },
 "cumulativePropertiesAssessed": {
   "chartName": "DSS_PT_CUMULATIVE_PROPERTIES_ASSESSED",
   "queries": [
     {
       "module": "PT",
       "indexName": "ptindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Collections\":{\"date_histogram\":{\"field\":\"Data.@timestamp\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.propertyDetails.assessmentNumber.keyword\"}}}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"tenantId\" : \"Data.tenantId\" ,\"district\" : \"Data.tenantData.city.districtCode\"}",
       "dateRefField": "Data.@timestamp"
     }
   ],
   "chartType": "line",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Collections"
   ],
   "isCumulative": true,
   "interval": "week",
   "insight": {
   },
   "_comment": " totol properties having assessmentNumber "
 },
 "activeUlbs": {
   "chartName": "DSS_PT_TOTAL_ACTIVE_ULBS",
   "queries": [
     {
       "module": "PT",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"tenantId\" : \"Data.tenantId\"}",
       "dateRefField": "Data.@timestamp",
       "indexName": "ptindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Active ULBs\":{\"cardinality\":{\"field\":\"Data.tenantId.keyword\"}}}}}}"
     },
     {
       "module": "TL",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"tenantId\" : \"Data.tenantData.code\"}",
       "dateRefField": "Data.tradelicense.applicationDate",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantData.code.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Active ULBs\":{\"cardinality\":{\"field\":\"Data.tenantData.code.keyword\"}}}}}}"
     },
     {
       "module": "LAMS",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"tenantId\" : \"Data.tenantData.code\"}",
       "dateRefField": "Data.lease.applicationDate",
       "indexName": "leaseindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantData.code.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Active ULBs\":{\"cardinality\":{\"field\":\"Data.tenantData.code.keyword\"}}}}}}"
     },
     {
       "module": "WS",
       "indexName": "water-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Active ULBs\":{\"cardinality\":{\"field\":\"Data.tenantId.keyword\"}}}}}}",
       "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\", \"wardId\" : \"Data.ward.name.keyword\"}",
        "dateRefField": "Data.additionalDetails.appCreatedDate"
     },
     {
       "module": "SW",
       "indexName": "sewerage-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Active ULBs\":{\"cardinality\":{\"field\":\"Data.tenantId.keyword\"}}}}}}",
       "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\", \"wardId\" : \"Data.ward.name.keyword\"}",
        "dateRefField": ""
     }
   ],
   "chartType": "metric",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Active ULBs"
   ],
   "insight": {
     "chartResponseMap" : "activeUlbs",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " total ULBs count"
 },

 "_comment": "PT COLLECTION CHARTS (Tax heads)",

 "_comment": "PT COLLECTION CHARTS (Demands) ",
 "demandCollectionIndexDDRRevenue": {
   "chartName": "DSS_PT_KEY_FY_INDICATORS",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"usageId\" : \"domainObject.propertyDetails.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.usageCategoryMinor.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.transactionId.keyword\"}},\"Assessed Properties\":{\"nested\":{\"path\":\"domainObject.propertyDetails\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"domainObject.propertyDetails.assessmentNumber.keyword\"}}}}}}}}"
     },
     {
       "module": "COMMON",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"Target Collection\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
     }
   ],
   "isMdmsEnabled": true,
   "filterKeys": [
     {"key": "tenantId", "column": "DDRs"}
   ],
   "chartType": "table",
   "valueType": "number",
   "drillChart": "demandCollectionIndexBoundaryRevenue",
   "action": "",
   "plotLabel": "DDRs",
   "isPostResponseHandler": true,
   "postAggregationTheory" : "repsonseToDifferenceOfDates",
   "aggregationPaths": [
     "Total Collection",
     "Transactions",
     "Assessed Properties",
     "Target Collection"
   ],
   "pathDataTypeMapping": [
     {
       "Total Collection": "amount"
     },
     {
       "Transactions": "number"
     },
     {
       "Assessed Properties": "number"
     },
     {
       "Target Collection": "amount"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "demandCollectionIndexBoundaryRevenue": {
   "chartName": "DSS_PT_DEMAND_COLLECTION_BOUNDARY",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"usageId\" : \"domainObject.propertyDetails.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.usageCategoryMinor.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"domainObject.tenantId.keyword\",\"size\":200},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.transactionId.keyword\"}},\"Assessed Properties\":{\"nested\":{\"path\":\"domainObject.propertyDetails\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"domainObject.propertyDetails.assessmentNumber.keyword\"}}}}}}}}}}"
     },
     {
       "module": "COMMON",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\",\"size\":1000},\"aggs\":{\"Target Collection\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
     }
   ],
   "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],
   "postAggregationTheory" : "repsonseToDifferenceOfDates",    "chartType": "table",
   "valueType": "number",
   "drillChart": "boundaryDrillDown",
   "drillFields": [
     "Ward",
     ""
   ],
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Boundary",
   "aggregationPaths": [
     "Total Collection",
     "Transactions",
     "Assessed Properties",
     "Target Collection"
   ],
   "pathDataTypeMapping": [
     {
       "Total Collection": "amount"
     },
     {
       "Transactions": "number"
     },
     {
       "Assessed Properties": "number"
     },
     {
       "Target Collection": "amount"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "boundaryDrillDown": {
   "kind": "drillDown",
   "chartName": "Boundary",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"usageId\" : \"domainObject.propertyDetails.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.usageCategoryMinor.keyword\",\"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"Ward \":{\"terms\":{\"field\":\"domainObject.ward.name.keyword\",\"size\":200},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.transactionId.keyword\"}},\"Assessed Properties\":{\"nested\":{\"path\":\"domainObject.propertyDetails\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"domainObject.propertyDetails.assessmentNumber.keyword\"}}}}}}}}}}"
     }
   ],
   "chartType": "table",
   "valueType": "number",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Ward",
   "aggregationPaths": [
     "Total Collection",
     "Transactions",
     "Assessed Properties",
     "Target Collection"
   ],
   "pathDataTypeMapping": [
     {
       "Total Collection": "amount"
     },
     {
       "Transactions": "number"
     },
     {
       "Assessed Properties": "number"
     },
     {
       "Target Collection": "amount"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },


 "_comment": " PT Nested Array related new queries",
 "taxHeadsBreakupDDRRevenue": {
   "chartName": "DSS_PT_TAX_HEAD_BREAKUP_REVENUE",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"usageId\" : \"domainObject.propertyDetails.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.usageCategoryMinor.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"Total Amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.totalAmount\"}},\"PT Tax\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TAX\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Fire Cess\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_FIRE_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Cancer Cess\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_CANCER_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Rebate\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_REBATE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Penalty\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_PENALTY\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Time Interest\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_INTEREST\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Round Off\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_ROUNDOFF\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}}}}}}"
     }
   ],
   "isMdmsEnabled": true,
   "filterKeys": [
     {"key": "tenantId", "column": "DDRs"}

   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "taxHeadsBreakupRevenue",
   "isPostResponseHandler": true,
   "documentType": "_doc",
   "action": "",
   "plotLabel": "DDRs",
   "aggregationPaths": [
     "PT Tax",
     "Fire Cess",
     "Cancer Cess",
     "Rebate",
     "Penalty",
     "Time Interest","Round Off"
   ],
   "computedFields": [
     {
       "postAggregationTheory" : "",
       "actionName": "AdditiveComputedField",
       "fields" : [ "PT Tax", "Fire Cess", "Cancer Cess", "Rebate", "Penalty", "Time Interest","Round Off"],
       "newField" : "Total Amount",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "taxHeadsBreakupRevenue": {
   "chartName": "DSS_PT_TAX_HEAD_BREAKUP_REVENUE",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"usageId\" : \"domainObject.propertyDetails.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.usageCategoryMinor.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"bucket_script\":{\"buckets_path\":{\"c1\":\"PT Tax>aggrFilter>amount\",\"c2\":\"Fire Cess>aggrFilter>amount\",\"c3\":\"Cancer Cess>aggrFilter>amount\",\"c4\":\"Rebate>aggrFilter>amount\",\"c5\":\"Penalty>aggrFilter>amount\",\"c6\":\"Time Interest>aggrFilter>amount\",\"c7\":\"Round Off>aggrFilter>amount\"},\"script\":{\"source\":\"params.c1+params.c2+params.c3+params.c4+params.c5+params.c6+params.c7\"}}},\"PT Tax\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TAX\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Fire Cess\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_FIRE_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Cancer Cess\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_CANCER_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Rebate\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_REBATE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Penalty\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_PENALTY\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Time Interest\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_INTEREST\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Round Off\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_ROUNDOFF\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}}}}}}}}"
     }
   ],
   "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}

   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "taxHeadsBreakupBoundaryDrill",
   "drillFields": [
     "Ward",
     ""
   ],
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Boundary",
   "aggregationPaths": [
     "PT Tax",
     "Fire Cess",
     "Cancer Cess",
     "Rebate",
     "Penalty",
     "Time Interest","Round Off", "Total Amount"
   ],

   "insight": {
   },
   "_comment": ""
 },
 "taxHeadsBreakupBoundaryDrill": {
   "chartName": "Tax head Breakup boundary",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"usageId\" : \"domainObject.propertyDetails.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.usageCategoryMinor.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"Ward \":{\"terms\":{\"field\":\"domainObject.ward.name.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"bucket_script\":{\"buckets_path\":{\"c1\":\"PT Tax>aggrFilter>amount\",\"c2\":\"Fire Cess>aggrFilter>amount\",\"c3\":\"Cancer Cess>aggrFilter>amount\",\"c4\":\"Rebate>aggrFilter>amount\",\"c5\":\"Penalty>aggrFilter>amount\",\"c6\":\"Time Interest>aggrFilter>amount\",\"c7\":\"Round Off>aggrFilter>amount\"},\"script\":{\"source\":\"params.c1+params.c2+params.c3+params.c4+params.c5+params.c6+params.c7\"}}},\"PT Tax\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TAX\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Fire Cess\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_FIRE_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Cancer Cess\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_CANCER_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Rebate\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_REBATE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Penalty\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_PENALTY\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Time Interest\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_INTEREST\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Round Off\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_ROUNDOFF\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}}}}}}}}"
     }
   ],
   "filterKeys": [

   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "",
   "drillFields": [
     "Ward",
     ""
   ],
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Boundary",
   "aggregationPaths": [
     "PT Tax",
     "Fire Cess",
     "Cancer Cess",
     "Rebate",
     "Penalty",
     "Time Interest","Round Off","Total Amount"
   ],

   "insight": {
   },
   "_comment": ""
 },

 "taxHeadsBreakupUsage": {
   "chartName": "DSS_PT_TAX_HEAD_BREAKUP_USAGE",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"attrs_root\":{\"nested\":{\"path\":\"domainObject.propertyDetails.units\"},\"aggs\":{\"Usage \":{\"terms\":{\"field\":\"domainObject.propertyDetails.units.usageCategoryMajor.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"nested\":{\"path\":\"dataObject.Bill.taxAndPayments\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.taxAndPayments.businessService.keyword\":[\"PT\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.taxAndPayments.taxAmount\"}}}}}},\"PT Tax\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TAX\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Fire Cess\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_FIRE_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Cancer Cess\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_CANCER_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Rebate\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_REBATE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Penalty\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_PENALTY\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}}}}}}}}}}"
     }
   ],
   "filterKeys": [

   ],
   "chartType": "table",
   "valueType": "number",
   "drillChart": "",
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Usage Type",
   "aggregationPaths": [
     "Total Amount",
     "PT Tax",
     "Fire Cess",
     "Cancer Cess",
     "Rebate",
     "Penalty"
   ],
   "pathDataTypeMapping": [
     {
       "Total Amount": "amount"
     },
     {
       "PT Tax": "amount"
     },
     {
       "Fire Cess": "amount"
     },
     {
       "Cancer Cess": "amount"
     },
     {
       "Rebate": "amount"
     },
     {
       "Penalty": "amount"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "taxHeadsBreakupUsageMinor": {
   "chartName": "",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"usageId\" : \"domainObject.propertyDetails.units.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.units.usageCategoryMinor.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"attrs_root\":{\"nested\":{\"path\":\"domainObject.propertyDetails.units\"},\"aggs\":{\"Usage \":{\"terms\":{\"field\":\"domainObject.propertyDetails.units.usageCategoryMinor.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"nested\":{\"path\":\"dataObject.Bill.taxAndPayments\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.taxAndPayments.businessService.keyword\":[\"PT\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.taxAndPayments.taxAmount\"}}}}}},\"PT Tax\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TAX\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Fire Cess\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_FIRE_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Cancer Cess\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_CANCER_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Rebate\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_REBATE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Penalty\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_PENALTY\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}}}}}}}}}}"
     }
   ],
   "filterKeys": [
     {"key": "minorUsageId", "column": "Minor Usage Type"}
   ],
   "chartType": "table",
   "valueType": "number",
   "drillChart": "taxHeadsBreakupUsageSubMinor",
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Minor Usage Type",
   "aggregationPaths": [
     "Total Amount",
     "PT Tax",
     "Fire Cess",
     "Cancer Cess",
     "Rebate",
     "Penalty"
   ],
   "pathDataTypeMapping": [
     {
       "Total Amount": "amount"
     },
     {
       "PT Tax": "amount"
     },
     {
       "Fire Cess": "amount"
     },
     {
       "Cancer Cess": "amount"
     },
     {
       "Rebate": "amount"
     },
     {
       "Penalty": "amount"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "taxHeadsBreakupUsageSubMinor": {
   "chartName": "",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"usageId\" : \"domainObject.propertyDetails.units.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.units.usageCategoryMinor.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"attrs_root\":{\"nested\":{\"path\":\"domainObject.propertyDetails.units\"},\"aggs\":{\"Usage \":{\"terms\":{\"field\":\"domainObject.propertyDetails.units.usageCategorySubMinor.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"nested\":{\"path\":\"dataObject.Bill.taxAndPayments\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.taxAndPayments.businessService.keyword\":[\"PT\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.taxAndPayments.taxAmount\"}}}}}},\"PT Tax\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TAX\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Fire Cess\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_FIRE_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Cancer Cess\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_CANCER_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Rebate\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_REBATE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Penalty\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"PT_TIME_PENALTY\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}}}}}}}}}}"
     }
   ],
   "filterKeys": [
     ""
   ],
   "chartType": "table",
   "valueType": "number",
   "drillChart": "",
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Sub Minor Usage Type",
   "aggregationPaths": [
     "Total Amount",
     "PT Tax",
     "Fire Cess",
     "Cancer Cess",
     "Rebate",
     "Penalty"
   ],
   "pathDataTypeMapping": [
     {
       "Total Amount": "amount"
     },
     {
       "PT Tax": "amount"
     },
     {
       "Fire Cess": "amount"
     },
     {
       "Cancer Cess": "amount"
     },
     {
       "Rebate": "amount"
     },
     {
       "Penalty": "amount"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "demandCollectionIndexUsageRevenue": {
   "chartName": "DSS_PT_DEMAND_COLLECTION_USAGETYPE",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\",\"usageId\" : \"domainObject.propertyDetails.units.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.units.usageCategoryMinor.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"root\":{\"nested\":{\"path\":\"domainObject.propertyDetails.units\"},\"aggs\":{\"UsageType \":{\"terms\":{\"field\":\"domainObject.propertyDetails.units.usageCategoryMajor.keyword\",\"size\":200},\"aggs\":{\"Total Collection\":{\"reverse_nested\":{},\"aggs\":{\"top_tags_per_comment\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}},\"Transactions\":{\"reverse_nested\":{},\"aggs\":{\"top_tags_per_comment\":{\"cardinality\":{\"field\":\"dataObject.transactionId.keyword\"}}}},\"Assessed Properties\":{\"nested\":{\"path\":\"domainObject.propertyDetails\"},\"aggs\":{\"attr\":{\"cardinality\":{\"field\":\"domainObject.propertyDetails.assessmentNumber.keyword\"}}}}}}}}}}}}",
       "aggrQuerybc": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"term\":{\"dataObject.Bill.billDetails.status.keyword\":\"Approved\"}}]}},\"aggs\":{\"attrs_root\":{\"nested\":{\"path\":\"domainObject.propertyDetails.units\"},\"aggs\":{\"UsageType \":{\"terms\":{\"field\":\"domainObject.propertyDetails.units.usageCategoryMajor.keyword\",\"size\":200},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.transactionId.keyword\"}},\"Assessed Properties\":{\"nested\":{\"path\":\"Data.propertyDetails\"},\"aggs\":{\"attr\":{\"cardinality\":{\"field\":\"Data.propertyDetails.assessmentNumber.keyword\"}}}}}}}}}}}}"
     }
   ],
   "filterKeys": [

   ],
   "chartType": "table",
   "valueType": "number",
   "drillChart": "",
   "drillFields": [
     "Ward",
     ""
   ],
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Usage Type",
   "aggregationPaths": [
     "Total Collection",
     "Transactions",
     "Assessed Properties"

   ],
   "pathDataTypeMapping": [
     {
       "Total Collection": "amount"
     },
     {
       "Transactions": "number"
     },
     {
       "Assessed Properties": "number"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "usageRevenueDrillDownMinor": {
   "chartName": "",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"usageId\" : \"domainObject.propertyDetails.units.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.units.usageCategoryMinor.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"root\":{\"nested\":{\"path\":\"domainObject.propertyDetails.units\"},\"aggs\":{\"UsageType \":{\"terms\":{\"field\":\"domainObject.propertyDetails.units.usageCategoryMinor.keyword\",\"size\":200},\"aggs\":{\"Total Collection\":{\"reverse_nested\":{},\"aggs\":{\"top_tags_per_comment\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}},\"Transactions\":{\"reverse_nested\":{},\"aggs\":{\"top_tags_per_comment\":{\"cardinality\":{\"field\":\"dataObject.transactionId.keyword\"}}}},\"Assessed Properties\":{\"nested\":{\"path\":\"domainObject.propertyDetails\"},\"aggs\":{\"attr\":{\"cardinality\":{\"field\":\"domainObject.propertyDetails.assessmentNumber.keyword\"}}}}}}}}}}}}",
       "aggrQuerybc": "{\"aggs\":{\"attrs_root\":{\"nested\":{\"path\":\"domainObject.propertyDetails.units\"},\"aggs\":{\"UsageType \":{\"terms\":{\"field\":\"domainObject.propertyDetails.units.usageCategoryMinor.keyword\",\"size\":200},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.transactionId.keyword\"}},\"Assessed Properties\":{\"nested\":{\"path\":\"Data.propertyDetails\"},\"aggs\":{\"attr\":{\"cardinality\":{\"field\":\"Data.propertyDetails.assessmentNumber.keyword\"}}}}}}}}}}"
     }
   ],
   "filterKeys": [
     {"key": "minorUsageId", "column": "Minor Usage Type"}
   ],
   "chartType": "table",
   "valueType": "number",
   "drillChart": "usageRevenueDrillDownSubMinor",
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Minor Usage Type",
   "aggregationPaths": [
     "Total Collection",
     "Transactions",
     "Assessed Properties"
   ],
   "pathDataTypeMapping": [
     {
       "Total Collection": "amount"
     },
     {
       "Transactions": "number"
     },
     {
       "Assessed Properties": "number"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "usageRevenueDrillDownSubMinor": {
   "chartName": "",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"usageId\" : \"domainObject.propertyDetails.units.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.units.usageCategoryMinor.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"root\":{\"nested\":{\"path\":\"domainObject.propertyDetails.units\"},\"aggs\":{\"UsageType \":{\"terms\":{\"field\":\"domainObject.propertyDetails.units.usageCategorySubMinor.keyword\",\"size\":200},\"aggs\":{\"Total Collection\":{\"reverse_nested\":{},\"aggs\":{\"top_tags_per_comment\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}},\"Transactions\":{\"reverse_nested\":{},\"aggs\":{\"top_tags_per_comment\":{\"cardinality\":{\"field\":\"dataObject.transactionId.keyword\"}}}},\"Assessed Properties\":{\"nested\":{\"path\":\"domainObject.propertyDetails\"},\"aggs\":{\"attr\":{\"cardinality\":{\"field\":\"domainObject.propertyDetails.assessmentNumber.keyword\"}}}}}}}}}}}}",
       "aggrQuerybc": "{\"aggs\":{\"attrs_root\":{\"nested\":{\"path\":\"domainObject.propertyDetails.units\"},\"aggs\":{\"UsageType \":{\"terms\":{\"field\":\"domainObject.propertyDetails.units.usageCategorySubMinor.keyword\",\"size\":200},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.transactionId.keyword\"}},\"Assessed Properties\":{\"nested\":{\"path\":\"Data.propertyDetails\"},\"aggs\":{\"attr\":{\"cardinality\":{\"field\":\"Data.propertyDetails.assessmentNumber.keyword\"}}}}}}}}}}"
     }
   ],
   "filterKeys": [

   ],
   "chartType": "table",
   "valueType": "number",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Sub Minor Usage Type",
   "aggregationPaths": [
     "Total Collection",
     "Transactions",
     "Assessed Properties"
   ],
   "pathDataTypeMapping": [
     {
       "Total Collection": "amount"
     },
     {
       "Transactions": "number"
     },
     {
       "Assessed Properties": "number"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },



 "_comment": "TL COLLECTION CHARTS",

 "licenseIssuedDDRRevenue": {
   "chartName": "DSS_TL_KEY_FY_INDICATORS",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.transactionId.keyword\"}},\"Total Licence Issued\":{\"value_count\":{\"field\":\"domainObject.tradelicense.licensenumber.keyword\"}}}}}}"
     },
     {
       "module": "COMMON",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"Target Collection\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
     }
   ],
   "isMdmsEnabled": true,
   "filterKeys": [
     {"key": "tenantId", "column": "DDRs"}
   ],
   "isPostResponseHandler": true,
   "postAggregationTheory" : "repsonseToDifferenceOfDates",
   "chartType": "table",
   "valueType": "number",
   "drillChart": "licenseIssuedBoundaryRevenue",
   "documentType": "_doc",
   "action": "",
   "plotLabel": "DDRs",
   "aggregationPaths": [
     "Total Collection",
     "Transactions",
     "Total Licence Issued",
     "Target Collection"
   ],
   "pathDataTypeMapping": [
     {
       "Total Collection": "amount"
     },
     {
       "Transactions": "number"
     },
     {
       "Total Licence Issued": "number"
     },
     {
       "Target Collection": "amount"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "licenseIssuedBoundaryRevenue": {
   "chartName": "DSS_TL_DEMAND_COLLECTION_BOUNDARY",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":200},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.transactionId.keyword\"}},\"Total Licence Issued\":{\"value_count\":{\"field\":\"domainObject.tradelicense.licensenumber.keyword\"}}}}}}}}"
     },
     {
       "module": "COMMON",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\",\"size\":1000},\"aggs\":{\"Target Collection\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
     }
   ],
   "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],
   "postAggregationTheory" : "repsonseToDifferenceOfDates",
   "chartType": "table",
   "valueType": "number",
   "drillChart": "licenseIssuedBoundaryDrillDown",
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Boundary",
   "aggregationPaths": [
     "Total Collection",
     "Transactions",
     "Total Licence Issued",
     "Target Collection"
   ],
   "pathDataTypeMapping": [
     {
       "Total Collection": "amount"
     },
     {
       "Transactions": "number"
     },
     {
       "Total Licence Issued": "number"
     },
     {
       "Target Collection": "amount"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "licenseIssuedBoundaryDrillDown": {
   "chartName": "",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"Ward \":{\"terms\":{\"field\":\"domainObject.ward.name.keyword\",\"size\":200},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.transactionId.keyword\"}},\"Total Licence Issued\":{\"value_count\":{\"field\":\"domainObject.tradelicense.licensenumber.keyword\"}}}}}}}}"
     }
   ],
   "postAggregationTheory" : "repsonseToDifferenceOfDates",
   "chartType": "table",
   "valueType": "number",
   "drillChart": "",
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Ward",
   "aggregationPaths": [
     "Total Collection",
     "Transactions",
     "Total Licence Issued",
     "Target Collection"
   ],
   "pathDataTypeMapping": [
     {
       "Total Collection": "amount"
     },
     {
       "Transactions": "number"
     },
     {
       "Total Licence Issued": "number"
     },
     {
       "Target Collection": "amount"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },

 "_comment": " TL Nested Array related newer queries",
 "licenceTaxHeadsBreakupDDR": {
   "chartName": "DSS_TL_TAX_HEAD_BREAKUP_BOUNDARY",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"Total Amount\":{\"nested\":{\"path\":\"dataObject.Bill.taxAndPayments\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.taxAndPayments.businessService.keyword\":[\"TL\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.taxAndPayments.taxAmount\"}}}}}},\"TL Tax\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"TL_TAX\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Adhoc Penalty\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"TL_ADHOC_PENALTY\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Adhoc Rebate\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"TL_ADHOC_REBATE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}}}}}}"
     }
   ],
   "isMdmsEnabled": true,
   "filterKeys": [
     {"key": "tenantId", "column": "DDRs"}
   ],
   "isPostResponseHandlerA": true,
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "licenceTaxHeadsBreakupBoundary",
   "documentType": "_doc",
   "action": "",
   "plotLabel": "DDRs",
   "aggregationPaths": [
     "TL Tax",
     "Adhoc Penalty",
     "Adhoc Rebate"
   ],
   "computedFields": [
     {
       "postAggregationTheory" : "",
       "actionName": "AdditiveComputedField",
       "fields" : ["TL Tax", "Adhoc Penalty", "Adhoc Rebate"],
       "newField" : "Total Amount",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     }
   ],

   "insight": {
   },
   "_comment": ""
 },
 "licenceTaxHeadsBreakupBoundary": {
   "chartName": "DSS_TL_TAX_HEAD_BREAKUP_BOUNDARY",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"bucket_script\":{\"buckets_path\":{\"c1\":\"TL Tax>aggrFilter>amount\",\"c2\":\"Adhoc Penalty>aggrFilter>amount\",\"c3\":\"Adhoc Rebate>aggrFilter>amount\"},\"script\":{\"source\":\"params.c1+params.c2+params.c3\"}}},\"TL Tax\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"TL_TAX\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Adhoc Penalty\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"TL_ADHOC_PENALTY\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Adhoc Rebate\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"TL_ADHOC_REBATE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}}}}}}}}"
     }
   ],
   "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "licenceTaxHeadsBreakupWard",
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Boundary",
   "aggregationPaths": [
     "TL Tax",
     "Adhoc Penalty",
     "Adhoc Rebate","Total Amount"
   ],
   "insight": {
   },
   "_comment": ""
 },
 "licenceTaxHeadsBreakupWard": {
   "chartName": "DSS_TL_TAX_HEAD_BREAKUP_BOUNDARY",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"dataObject.ward.name.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"bucket_script\":{\"buckets_path\":{\"c1\":\"TL Tax>aggrFilter>amount\",\"c2\":\"Adhoc Penalty>aggrFilter>amount\",\"c3\":\"Adhoc Rebate>aggrFilter>amount\"},\"script\":{\"source\":\"params.c1+params.c2+params.c3\"}}},\"TL Tax\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"TL_TAX\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Adhoc Penalty\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"TL_ADHOC_PENALTY\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}},\"Adhoc Rebate\":{\"nested\":{\"path\":\"dataObject.Bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"TL_ADHOC_REBATE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.billAccountDetails.amount\"}}}}}}}}}}}}"
     }
   ],
   "filterKeys": [
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "",
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Boundary",
   "aggregationPaths": [
     "TL Tax",
     "Adhoc Penalty",
     "Adhoc Rebate", "Total Amount"
   ],
   "insight": {
   },
   "_comment": ""
 },

"_comment": "TL NON-COLLECTION CHARTS",
 "boardProcessed": {
   "chartName": "DSS_BOARD_PROCESSED",
   "queries": [
     {
       "module": "TL",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"terms\":{\"Data.tradelicense.status.keyword\":[\"APPROVED\",\"REJECTED\",\"PENDINGPAYMENT\",\"CANCELLED\"]}}]}},\"aggs\":{\"License Issued99\":{\"value_count\":{\"field\":\"Data.tradelicense.applicationNumber.keyword\"}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",    \"district\" : \"Data.tenantData.city.districtCode\",  \"tenantId\" : \"Data.tradelicense.tenantId\"  ,  \"businessService\" : \"dataObject.Bill.billDetails.businessServices\"  }",
       "dateRefField": "Data.tradelicense.applicationDate"
     }
   ],
   "chartType": "metric",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "License Issued99"
   ],
   "insight": {
     "chartResponseMap" : "licenseIssued",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " licenseIssued is the Chart ID"
 },
 "_comment": "TL NON-COLLECTION CHARTS",
 
 "citizenPending": {
   "chartName": "DSS_CITIZEN_ACTION_PENDING",
   "queries": [
     {
       "module": "TL",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"terms\":{\"Data.tradelicense.status.keyword\":[\"CITIZENACTIONREQUIRED\",\"PENDINGAPPLFEE\"]}}]}},\"aggs\":{\"License Issued99\":{\"value_count\":{\"field\":\"Data.tradelicense.applicationNumber.keyword\"}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",    \"district\" : \"Data.tenantData.city.districtCode\",  \"tenantId\" : \"Data.tradelicense.tenantId\"  ,  \"businessService\" : \"dataObject.Bill.billDetails.businessServices\"  }",
       "dateRefField": "Data.tradelicense.applicationDate"
     }
   ],
   "chartType": "metric",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "License Issued99"
   ],
   "insight": {
     "chartResponseMap" : "licenseIssued",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " licenseIssued is the Chart ID"
 },
 "boardProcessing": {
   "chartName": "DSS_BOARD_PROCESSING",
   "queries": [
     {
       "module": "TL",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"terms\":{\"Data.tradelicense.status.keyword\":[\"FIELDINSPECTION\",\"PENDINGAPPROVAL\",\"APPLIED\"]}}]}},\"aggs\":{\"License Issued99\":{\"value_count\":{\"field\":\"Data.tradelicense.applicationNumber.keyword\"}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",    \"district\" : \"Data.tenantData.city.districtCode\",  \"tenantId\" : \"Data.tradelicense.tenantId\"  ,  \"businessService\" : \"dataObject.Bill.billDetails.businessServices\"  }",
       "dateRefField": "Data.tradelicense.applicationDate"
     }
   ],
   "chartType": "metric",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "License Issued99"
   ],
   "insight": {
     "chartResponseMap" : "licenseIssued",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " licenseIssued is the Chart ID"
 },
 "_comment": "TL NON-COLLECTION CHARTS",
 "licenseIssued": {
   "chartName": "DSS_TL_LICENSE_ISSUED",
   "queries": [
     {
       "module": "TL",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"Data.tradelicense.status.keyword\":[\"INITIATED\"]}}],\"must\":[{\"terms\":{\"Data.tradelicense.status.keyword\":[\"APPROVED\",\"EXPIRED\",\"CANCELLED\"]}}]}},\"aggs\":{\"Total Application Approved\":{\"value_count\":{\"field\":\"Data.tradelicense.applicationNumber.keyword\"}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",    \"district\" : \"Data.tenantData.city.districtCode\",  \"tenantId\" : \"Data.tradelicense.tenantId\"  ,  \"businessService\" : \"dataObject.Bill.billDetails.businessServices\"  }",
       "dateRefField": "Data.tradelicense.applicationDate"
     },
     {
       "module": "LAMS",
       "indexName": "leaseindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.lease.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"term\":{\"Data.lease.status.keyword\":\"APPROVED\"}}]}},\"aggs\":{\"License Issued\":{\"value_count\":{\"field\":\"Data.lease.applicationNumber.keyword\"}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",    \"district\" : \"Data.tenantData.city.districtCode\",  \"tenantId\" : \"Data.lease.tenantId\"  ,  \"businessService\" : \"Data.lease.businessService\"  }",
       "dateRefField": "Data.lease.approvedDate"
     }
   ],
   "chartType": "metric",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "License Issued"
   ],
   "insight": {
     "chartResponseMap" : "licenseIssued",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " licenseIssued is the Chart ID"
 },
 "leaseApplicationsProcessed": {
   "chartName": "DSS_TL_LICENSE_ISSUED",
   "queries": [
     {
       "module": "LAMS",
       "indexName": "leaseindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.lease.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"terms\":{\"Data.lease.status.keyword\":[\"APPROVED\",\"REJECTED\"]}}]}},\"aggs\":{\"Lease Processed\":{\"value_count\":{\"field\":\"Data.lease.applicationNumber.keyword\"}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",    \"district\" : \"Data.tenantData.city.districtCode\",  \"tenantId\" : \"Data.lease.tenantId\"  ,  \"businessService\" : \"Data.lease.businessService\"  }",
       "dateRefField": "Data.lease.applicationDate"
     }
   ],
   "chartType": "metric",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Lease Processed"
   ],
   "insight": {
     "chartResponseMap" : "licenseIssued",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " licenseIssued is the Chart ID"
 },
 "leaseApplicationsRejected": {
   "chartName": "DSS_TL_LICENSE_ISSUED",
   "queries": [
     {
       "module": "LAMS",
       "indexName": "leaseindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.lease.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"terms\":{\"Data.lease.status.keyword\":[\"REJECTED\"]}}]}},\"aggs\":{\"Lease Processed\":{\"value_count\":{\"field\":\"Data.lease.applicationNumber.keyword\"}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",    \"district\" : \"Data.tenantData.city.districtCode\",  \"tenantId\" : \"Data.lease.tenantId\"  ,  \"businessService\" : \"Data.lease.businessService\"  }",
       "dateRefField": "Data.lease.applicationDate"
     }
   ],
   "chartType": "metric",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Lease Processed"
   ],
   "insight": {
     "chartResponseMap" : "licenseIssued",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " licenseIssued is the Chart ID"
 },
 "cumulativeLicenseIssued": {
   "chartName": "DSS_TL_CUMULATIVE_LICENSE_ISSUED",
   "queries": [
     {
       "module": "TL",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Trade Licence Issued\":{\"date_histogram\":{\"field\":\"Data.tradelicense.issuedDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.tradelicense.licenseNumber.keyword\"}}}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"tenantId\" : \"Data.tenantData.code\" ,\"district\" : \"Data.tenantData.city.districtCode\"}",
       "dateRefField": "Data.tradelicense.issuedDate"
     },
     {
       "module": "TL",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"Data.tradelicense.status.keyword\":[\"INITIATED\"]}}]}},\"aggs\":{\"Total Application\":{\"date_histogram\":{\"field\":\"Data.tradelicense.applicationDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.tradelicense.applicationNumber.keyword\"}}}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"tenantId\" : \"Data.tenantData.code\" ,\"district\" : \"Data.tenantData.city.districtCode\"}",
       "dateRefField": "Data.tradelicense.applicationDate"
     }
   ],
   "chartType": "line",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Trade Licence Issued",
     "Total Application"
   ],
   "isCumulative": true,
   "interval": "week",
   "insight": {
   },
   "_comment": " Total Number of License having issued"
 },
 "cumulativeLeasesApproved": {
   "chartName": "DSS_TL_CUMULATIVE_LICENSE_ISSUED",
   "queries": [
     {
       "module": "LAMS",
       "indexName": "leaseindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.lease.tenantId.keyword\":\"pb.testing\"}}],\"must\":[{\"term\":{\"Data.lease.status.keyword\":\"APPROVED\"}}]}},\"aggs\":{\"Applications approved\":{\"date_histogram\":{\"field\":\"Data.lease.approvedDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.lease.applicationNumber.keyword\"}}}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"tenantId\" : \"Data.tenantData.code\" ,\"district\" : \"Data.tenantData.city.districtCode\"}",
       "dateRefField": "Data.lease.approvedDate"
     },
     {
       "module": "LAMS",
       "indexName": "leaseindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.lease.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total Applications\":{\"date_histogram\":{\"field\":\"Data.lease.applicationDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.lease.applicationNumber.keyword\"}}}}}}}}",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"tenantId\" : \"Data.tenantData.code\" ,\"district\" : \"Data.tenantData.city.districtCode\"}",
       "dateRefField": "Data.lease.applicationDate"
     }
   ],
   "chartType": "line",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Applications approved",
     "Total Applications"
   ],
   "isCumulative": true,
   "interval": "week",
   "insight": {
   },
   "_comment": " Total Number of License having issued"
 },
 "licenseApplicationByTradeType": {
   "chartName": "DSS_TL_LICENSE_BY_TRADETYPE",
   "queries": [
     {
       "module": "TL",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",  \"tenantId\" : \"Data.tenantData.code\", \"district\" : \"Data.tenantData.cityDistrictCode\"}",
       "dateRefField": "Data.tradelicense.applicationDate",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"Data.tradelicense.status.keyword\":[\"INITIATED\"]}}]}},\"aggs\":{\"Applications Received\":{\"terms\":{\"field\":\"Data.tradelicense.tradeLicenseDetail.tradeUnits.tradeType.keyword\",\"size\":1000,\"min_doc_count\":0},\"aggs\":{\"License Issued\":{\"value_count\":{\"field\":\"Data.tradelicense.applicationNumber.keyword\"}}}},\"License Issued\":{\"terms\":{\"field\":\"Data.tradelicense.tradeLicenseDetail.tradeUnits.tradeType.keyword\",\"size\":1000,\"min_doc_count\":0},\"aggs\":{\"License Issued\":{\"value_count\":{\"field\":\"Data.tradelicense.licenseNumber.keyword\"}}}}}}}}"
     }
   ],
   "chartType": "line",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Applications Received",
     "License Issued"
   ],
   "isCumulative": false,
   "insight": {
   },
   "_comment": " License Application which are issued by License Type"
 },
 "leaseApplicationByStatus": {
   "chartName": "DSS_LEASE_BY_STATUS",
   "queries": [
     {
       "module": "LAMS",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",  \"tenantId\" : \"Data.tenantData.code\", \"district\" : \"Data.tenantData.cityDistrictCode\"}",
       "dateRefField": "Data.lease.applicationDate",
       "indexName": "leaseindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.lease.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Status\":{\"terms\":{\"field\":\"Data.lease.status.keyword\",\"size\":1000,\"min_doc_count\":0},\"aggs\":{\"License Issued\":{\"value_count\":{\"field\":\"Data.lease.status.keyword\"}}}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Status"
   ],
   "insight": {
   },
   "_comment": " License Application which are issued by License Type"
 },
 "leaseApplicationByAppType": {
   "chartName": "DSS_LEASE_BY_APPTYPE",
   "queries": [
     {
       "module": "LAMS",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",  \"tenantId\" : \"Data.tenantData.code\", \"district\" : \"Data.tenantData.cityDistrictCode\"}",
       "dateRefField": "Data.lease.applicationDate",
       "indexName": "leaseindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.lease.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Status\":{\"terms\":{\"field\":\"Data.lease.applicationType.keyword\",\"size\":1000,\"min_doc_count\":0},\"aggs\":{\"License Issued\":{\"value_count\":{\"field\":\"Data.lease.applicationType.keyword\"}}}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Status"
   ],
   "insight": {
   },
   "_comment": " License Application which are issued by License Type"
 },
 "leaseApplicationByLocated": {
   "chartName": "DSS_LEASE_BY_LOCATED",
   "queries": [
     {
       "module": "LAMS",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",  \"tenantId\" : \"Data.tenantData.code\", \"district\" : \"Data.tenantData.cityDistrictCode\"}",
       "dateRefField": "Data.lease.applicationDate",
       "indexName": "leaseindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.lease.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Status\":{\"terms\":{\"field\":\"Data.lease.located.keyword\",\"size\":1000,\"min_doc_count\":0},\"aggs\":{\"License Issued\":{\"value_count\":{\"field\":\"Data.lease.located.keyword\"}}}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Status"
   ],
   "insight": {
   },
   "_comment": " License Application which are issued by License Type"
 },
 "licenseApplicationByStatus": {
   "chartName": "DSS_TL_LICENSE_BY_STATUS",
   "queries": [
     {
       "module": "TL",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",  \"tenantId\" : \"Data.tenantData.code\", \"district\" : \"Data.tenantData.cityDistrictCode\"}",
       "dateRefField": "Data.tradelicense.applicationDate",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Status\":{\"terms\":{\"field\":\"Data.tradelicense.status.keyword\",\"size\":1000,\"min_doc_count\":0},\"aggs\":{\"License Issued\":{\"value_count\":{\"field\":\"Data.tradelicense.status.keyword\"}}}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Status"
   ],
   "insight": {
   },
   "_comment": " License Application which are issued by License Type"
 },
 "tlStatusByDDR3": {
   "chartName": "DSS_TL_STATUS_BY_DDR",
   "queries": [
     {
       "module": "TL",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"tenantId\" : \"Data.tradelicense.tenantId.keyword\" }",
       "dateRefField": "Data.tradelicense.issuedDate",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Status\":{\"terms\":{\"field\":\"Data.tradelicense.tradeLicenseDetail.tradeUnits.tradeType.keyword\",\"size\":1000,\"min_doc_count\":0},\"aggs\":{\"Applications\":{\"value_count\":{\"field\":\"Data.tradelicense.tradeLicenseDetail.tradeUnits.tradeType.keyword\"}}}}}}}}"
      
     }
   ],
   "isMdmsEnabled": false,
   "filterKeys": [
     {"key": "tenantId", "column": "DDRs"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "tlStatusByTenant",
   "drillFields": [
     ""
   ],
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Type of Trade",
   "aggregationPathsA": [
     "Approved",
     "Initiated",
     "Applied",
     "Rejected",
     "Pending Approval",
     "Field Inspection",
     "Cancelled",
     "Pending Payment",
     "Paid"
   ],
   "pathDataTypeMappingA": [
     {
       "Approved": "number"
     },
     {
       "Initiated": "number"
     },
     {
       "Applied": "number"
     },
     {
       "Rejected": "number"
     },
     {
       "Pending Approval": "number"
     },
     {
       "Field Inspection": "number"
     },
     {
       "Cancelled": "number"
     },
     {
       "Pending Payment": "number"
     },
     {
       "Paid": "number"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "tlStatusByDDR2": {
   "chartName": "DSS_TL_STATUS_BY_DDR",
   "queries": [
     {
       "module": "TL",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"tenantId\" : \"Data.tradelicense.tenantId.keyword\" }",
       "dateRefField": "Data.tradelicense.issuedDate",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Status\":{\"terms\":{\"field\":\"Data.tradelicense.status.keyword\",\"size\":1000,\"min_doc_count\":0},\"aggs\":{\"License Issued\":{\"value_count\":{\"field\":\"Data.tradelicense.licenseNumber.keyword\"}}}}}}}}"
      
     }
   ],
   "isMdmsEnabled": false,
   "filterKeys": [
     {"key": "tenantId", "column": "DDRs"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "tlStatusByTenant",
   "drillFields": [
     ""
   ],
   "documentType": "_doc",
   "action": "",
   "plotLabel": "DDRssss",
   "aggregationPathsA": [
     "Approved",
     "Initiated",
     "Applied",
     "Rejected",
     "Pending Approval",
     "Field Inspection",
     "Cancelled",
     "Pending Payment",
     "Paid"
   ],
   "pathDataTypeMappingA": [
     {
       "Approved": "number"
     },
     {
       "Initiated": "number"
     },
     {
       "Applied": "number"
     },
     {
       "Rejected": "number"
     },
     {
       "Pending Approval": "number"
     },
     {
       "Field Inspection": "number"
     },
     {
       "Cancelled": "number"
     },
     {
       "Pending Payment": "number"
     },
     {
       "Paid": "number"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "tlStatusByDDR": {
   "chartName": "DSS_TL_STATUS_BY_DDR",
   "queries": [
     {
       "module": "TL",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"tenantId\" : \"Data.tradelicense.tenantId.keyword\" }",
       "dateRefField": "Data.tradelicense.issuedDate",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Status\":{\"terms\":{\"field\":\"Data.tradelicense.status.keyword\",\"size\":1000,\"min_doc_count\":0},\"aggs\":{\"License Issued\":{\"value_count\":{\"field\":\"Data.tradelicense.licenseNumber.keyword\"}}}}}}}}",
       "aggrQueryBC": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Status\":{\"filters\":{\"filters\":{\"Approved2\":{\"match\":{\"Data.tradelicense.status.keyword\":\"APPROVED\"}},\"Initiated\":{\"match\":{\"Data.tradelicense.status.keyword\":\"INITIATED\"}},\"Applied\":{\"match\":{\"Data.tradelicense.status.keyword\":\"APPLIED\"}},\"Rejected\":{\"match\":{\"Data.tradelicense.status.keyword\":\"REJECTED\"}},\"Pending Approval\":{\"match\":{\"Data.tradelicense.status.keyword\":\"PENDINGAPPROVAL\"}},\"Field Inspection\":{\"match\":{\"Data.tradelicense.status.keyword\":\"FIELDINSPECTION\"}},\"Cancelled\":{\"match\":{\"Data.tradelicense.status.keyword\":\"CANCELLED\"}},\"Pending Payment\":{\"match\":{\"Data.tradelicense.status.keyword\":\"PENDINGPAYMENT\"}},\"Paid\":{\"match\":{\"Data.tradelicense.status.keyword\":\"PAID\"}}}}}}}}}"
     }
   ],
   "isMdmsEnabled": true,
   "filterKeys": [
     {"key": "tenantId", "column": "DDRs"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "tlStatusByTenant",
   "drillFields": [
     ""
   ],
   "documentType": "_doc",
   "action": "",
   "plotLabel": "DDRs",
   "aggregationPathsA": [
     "Approved2",
     "Initiated",
     "Applied",
     "Rejected",
     "Pending Approval",
     "Field Inspection",
     "Cancelled",
     "Pending Payment",
     "Paid"
   ],
   "pathDataTypeMappingA": [
     {
       "Approved": "number"
     },
     {
       "Initiated": "number"
     },
     {
       "Applied": "number"
     },
     {
       "Rejected": "number"
     },
     {
       "Pending Approval": "number"
     },
     {
       "Field Inspection": "number"
     },
     {
       "Cancelled": "number"
     },
     {
       "Pending Payment": "number"
     },
     {
       "Paid": "number"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "tlStatusByTenant": {
   "chartName": "DSS_TL_STATUS_BY_TENANT",
   "queries": [
     {
       "module": "TL",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"tenantId\" : \"Data.tradelicense.tenantId.keyword\" }",
       "dateRefField": "Data.tradelicense.issuedDate",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"Data.tradelicense.tenantId.keyword\",\"size\":1000},\"aggs\":{\"Status\":{\"terms\":{\"field\":\"Data.tradelicense.status.keyword\",\"size\":1000,\"min_doc_count\":0},\"aggs\":{\"License Issued\":{\"value_count\":{\"field\":\"Data.tradelicense.licenseNumber.keyword\"}}}}}}}}}}",
       "aggrQueryBc": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"Data.tradelicense.tenantId.keyword\",\"size\":1000},\"aggs\":{\"Status\":{\"filters\":{\"filters\":{\"Approved\":{\"match\":{\"Data.tradelicense.status.keyword\":\"APPROVED\"}},\"Initiated\":{\"match\":{\"Data.tradelicense.status.keyword\":\"INITIATED\"}},\"Applied\":{\"match\":{\"Data.tradelicense.status.keyword\":\"APPLIED\"}},\"Rejected\":{\"match\":{\"Data.tradelicense.status.keyword\":\"REJECTED\"}},\"Pending Approval\":{\"match\":{\"Data.tradelicense.status.keyword\":\"PENDINGAPPROVAL\"}},\"Field Inspection\":{\"match\":{\"Data.tradelicense.status.keyword\":\"FIELDINSPECTION\"}},\"Cancelled\":{\"match\":{\"Data.tradelicense.status.keyword\":\"CANCELLED\"}},\"Pending Payment\":{\"match\":{\"Data.tradelicense.status.keyword\":\"PENDINGPAYMENT\"}},\"Paid\":{\"match\":{\"Data.tradelicense.status.keyword\":\"PAID\"}}}}}}}}}}}"
     }
   ],
   "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "tlStatusByTenantDrillDown",
   "drillFields": [
     ""
   ],
   "documentType": "_doc",
   "action": "",
   "plotLabel": "ULBs",
   "aggregationPaths": [

   ],
   "pathDataTypeMapping": [

   ],
   "insight": {
   },
   "_comment": ""
 },
 "tlStatusByTenantDrillDown": {
   "chartName": "DSS_TL_STATUS_BY_WARD",
   "queries": [
     {
       "module": "TL",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"tenantId\" : \"Data.tradelicense.tenantId.keyword\" }",
       "dateRefField": "Data.tradelicense.issuedDate",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Ward \":{\"terms\":{\"field\":\"Data.ward.name.keyword\",\"size\":1000},\"aggs\":{\"Status\":{\"terms\":{\"field\":\"Data.tradelicense.status.keyword\",\"size\":1000,\"min_doc_count\":0},\"aggs\":{\"License Issued\":{\"value_count\":{\"field\":\"Data.tradelicense.licenseNumber.keyword\"}}}}}}}}}}",
       "aggrQueryBc": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Ward \":{\"terms\":{\"field\":\"Data.ward.name.keyword\",\"size\":1000},\"aggs\":{\"Status\":{\"filters\":{\"filters\":{\"Approved\":{\"match\":{\"Data.tradelicense.status.keyword\":\"APPROVED\"}},\"Initiated\":{\"match\":{\"Data.tradelicense.status.keyword\":\"INITIATED\"}},\"Applied\":{\"match\":{\"Data.tradelicense.status.keyword\":\"APPLIED\"}},\"Rejected\":{\"match\":{\"Data.tradelicense.status.keyword\":\"REJECTED\"}},\"Pending Approval\":{\"match\":{\"Data.tradelicense.status.keyword\":\"PENDINGAPPROVAL\"}},\"Field Inspection\":{\"match\":{\"Data.tradelicense.status.keyword\":\"FIELDINSPECTION\"}},\"Cancelled\":{\"match\":{\"Data.tradelicense.status.keyword\":\"CANCELLED\"}},\"Pending Payment\":{\"match\":{\"Data.tradelicense.status.keyword\":\"PENDINGPAYMENT\"}},\"Paid\":{\"match\":{\"Data.tradelicense.status.keyword\":\"PAID\"}}}}}}}}}}}"
     }
   ],
   "filterKeys": [
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "",
   "drillFields": [
     ""
   ],
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Ward",
   "aggregationPathsA": [
     "Approved",
     "Initiated",
     "Applied",
     "Rejected",
     "Pending Approval",
     "Field Inspection",
     "Cancelled",
     "Pending Payment",
     "Paid"
   ],
   "pathDataTypeMappingA": [
     {
       "Approved": "number"
     },
     {
       "Initiated": "number"
     },
     {
       "Applied": "number"
     },
     {
       "Rejected": "number"
     },
     {
       "Pending Approval": "number"
     },
     {
       "Field Inspection": "number"
     },
     {
       "Cancelled": "number"
     },
     {
       "Pending Payment": "number"
     },
     {
       "Paid": "number"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },

 "_comment": "Enhanced table charts..TODO: refactor to remove xtable type ",
 "xlicenseIssuedBoundaryRevenue": {
   "chartName": "DSS_TL_DEMAND_COLLECTION_BOUNDARY",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
       "dateRefField": "dataObject.Bill.billDetails.receiptDate",
       "indexName": "dss-collection_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.Bill.billDetails.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":200,\"min_doc_count\":0},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.transactionId.keyword\"}},\"Total Licence Issued\":{\"value_count\":{\"field\":\"domainObject.tradelicense.licensenumber.keyword\"}}}}}}}}"
     },
     {
       "module": "COMMON",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\",\"size\":1000,\"min_doc_count\":0},\"aggs\":{\"Target Collection\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
     }
   ],
   "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],
   "postAggregationTheory" : "repsonseToDifferenceOfDates",
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "",
   "plotLabel": "Boundary",
   "aggregationPaths": [
   ],
   "computedFields": [
     {
       "postAggregationTheory" : "repsonseToDifferenceOfDates",
       "actionName": "PercentageComputedField",
       "fields" : ["Target Collection", "Total Collection"],
       "newField" : "Target Achieved",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     },
     {
       "postAggregationTheory" : "repsonseToDifferenceOfDates",
       "actionName": "PercentageComputedField",
       "fields" : ["Target Collection", "Total Collection"],
       "newField" : "Target Achieved",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     }
   ],
   "pathDataTypeMapping": [
   ],
   "insight": {
   },
   "_comment": ""
 },
 "xptFyByDDR": {
   "chartName": "DSS_TL_STATUS_BY_TENANT",
   "queries": [
     {
       "module": "PT",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",\"tenantId\" : \"Data.tenantId.keyword\" }",
       "dateRefField": "Data.@timestamp",
       "indexName": "ptindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Fys\":{\"terms\":{\"field\":\"Data.propertyDetails.financialYear.keyword\",\"min_doc_count\":0}}}}}}"
     },
     {
       "module": "PT",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"tenantId\" : \"Data.tenantId.keyword\" }",
       "dateRefField": "Data.@timestamp",
       "indexName": "ptindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total\":{\"value_count\":{\"field\":\"Data.propertyDetails.assessmentNumber.keyword\"}}}}}}}}"
     }
   ],
   "isMdmsEnabled": true,
   "filterKeys": [
     {"key": "tenantId", "column": "DDRs"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "xptFyByTenant",
   "plotLabel": "DDRs",
   "insight": {
   },
   "_comment": ""
 },
 "xptFyByTenant": {
   "chartName": "DSS_TL_STATUS_BY_TENANT",
   "queries": [
     {
       "module": "PT",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",\"tenantId\" : \"Data.tenantId.keyword\" }",
       "dateRefField": "Data.@timestamp",
       "indexName": "ptindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"ULBS \":{\"terms\":{\"field\":\"Data.tenantId.keyword\"},\"aggs\":{\"Fys\":{\"terms\":{\"field\":\"Data.propertyDetails.financialYear.keyword\",\"min_doc_count\":0}}}}}}}}"
     },
     {
       "module": "PT",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\",\"tenantId\" : \"Data.tenantId.keyword\" }",
       "dateRefField": "Data.@timestamp",
       "indexName": "ptindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"ULBS \":{\"terms\":{\"field\":\"Data.tenantId.keyword\"},\"aggs\":{\"Total\":{\"value_count\":{\"field\":\"Data.propertyDetails.assessmentNumber.keyword\"}}}}}}}}"
     }
   ],
   "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "xptFyByWard",
   "plotLabel": "Boundary",
   "insight": {
   },
   "_comment": ""
 },
 "xptFyByWard": {
   "chartName": "DSS_TL_STATUS_BY_TENANT",
   "queries": [
     {
       "module": "PT",
       "requestQueryMap": "{\"tenantId\" : \"Data.tenantId.keyword\" , \"wardId\" : \"Data.ward.name.keyword\"}",
       "dateRefField": "Data.@timestamp",
       "indexName": "ptindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Ward \":{\"terms\":{\"field\":\"Data.ward.name.keyword\"},\"aggs\":{\"Fys\":{\"terms\":{\"field\":\"Data.propertyDetails.financialYear.keyword\",\"min_doc_count\":0}}}}}}}}"
     },
     {
       "module": "PT",
       "requestQueryMap": "{\"tenantId\" : \"Data.tenantId.keyword\" , \"wardId\" : \"Data.ward.name.keyword\"}",
       "dateRefField": "Data.@timestamp",
       "indexName": "ptindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Ward \":{\"terms\":{\"field\":\"Data.ward.name.keyword\"},\"aggs\":{\"Total\":{\"value_count\":{\"field\":\"Data.propertyDetails.assessmentNumber.keyword\"}}}}}}}}"
     }
   ],
   "filterKeys": [
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "none",
   "plotLabel": "Wards",
   "insight": {
   },
   "_comment": ""
 },
 
 "slaAchieved": {
     "chartName": "DSS_SLA_ACHIEVED",
     "queries": [
       {
         "module": "PGR",
         "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \r\n  \"module\" : \"businessService.keyword\", \n\"tenantId\" : \"Data.tenantId\"}",
         "dateRefField": "Data.dateOfComplaint",
         "indexName": "pgrindex-v1",
         "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total Application\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}, \"withinSLA\":{\"range\":{\"script\":{\"lang\":\"painless\",\"source\":\"doc['Data.slaHours'].value\"},\"ranges\":[{\"key\":\"Within SLA\",\"from\":0,\"to\":360}]}}}}}}"
       }
     ],
     "chartType": "metric",
     "valueType": "percentage",
     "drillChart": "none",
     "documentType": "_doc",
     "action": "percentage",
     "aggregationPaths": [
       "withinSLA",
       "Total Application"
     ],
     "insight": {
       "chartResponseMap" : "slaAchieved",
       "action" : "differenceOfNumbers",
       "upwardIndicator" : "positive",
       "downwardIndicator" : "negative",
       "textMessage" : "$indicator$value% than last $insightInterval",
       "colorCode" : "#228B22",
       "insightInterval" : "month"
     },
     "_comment": " SLA Achieved Percentage "
   },
 "xpgrStatusByDDR": {
   "chartName": "DSS_PGR_STATUS_BY_TENANT",
   "queries": [
     {
       "module": "PGR",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \"tenantId\" : \"Data.tenantId.keyword\" , \"departmentId\" : \"Data.department.keyword\"}",
       "dateRefField": "Data.dateOfComplaint",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"withinSLA\":{\"range\":{\"script\":{\"lang\":\"painless\",\"source\":\"doc['Data.slaHours'].value\"},\"ranges\":[{\"key\":\"withinSLA\",\"from\":0,\"to\":360}]}},\"Total Complaints\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}},\"Closed_Complaints\":{\"filter\":{\"terms\":{\"Data.status.keyword\":[\"closed\",\"rejected\",\"resolved\"]}},\"aggs\":{\"Closed Complaints\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}},\"Open_Complaints\":{\"filter\":{\"terms\":{\"Data.status.keyword\":[\"open\",\"assigned\",\"reassignrequested\"]}},\"aggs\":{\"Open Complaints\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}},\"Reopened_Complaints\":{\"filter\":{\"terms\":{\"Data.status.keyword\":[\"reopen\"]}},\"aggs\":{\"Reopened Complaints\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}"
     }
   ],
   "isMdmsEnabled": true,
   "filterKeys": [
     {"key": "tenantId", "column": "DDRs"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "xpgrStatusByTenant",
   "plotLabel": "DDRs",
   "excludedColumns": ["withinSLA"],
   "computedFields": [
     {
       "postAggregationTheory" : "",
       "actionName": "PercentageComputedField",
       "fields" : ["Closed Complaints", "Total Complaints"],
       "newField" : "Completion Rate",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "xpgrStatusByTenant": {
   "chartName": "DSS_PGR_STATUS_BY_TENANT",
   "queries": [
     {
       "module": "PGR",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \"tenantId\" : \"Data.tenantId.keyword\" , \"departmentId\" : \"Data.department.keyword\"}",
       "dateRefField": "Data.dateOfComplaint",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"size\":1000},\"aggs\":{\"withinSLA\":{\"range\":{\"script\":{\"lang\":\"painless\",\"source\":\"doc['Data.slaHours'].value\"},\"ranges\":[{\"key\":\"withinSLA\",\"from\":0,\"to\":360}]}},\"Total Complaints\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}},\"Closed_Complaints\":{\"filter\":{\"terms\":{\"Data.status.keyword\":[\"closed\",\"rejected\",\"resolved\"]}},\"aggs\":{\"Closed Complaints\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}},\"Open_Complaints\":{\"filter\":{\"terms\":{\"Data.status.keyword\":[\"open\",\"assigned\",\"reassignrequested\"]}},\"aggs\":{\"Open Complaints\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}}}"
     }
   ],
   "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "none",
   "plotLabel": "Boundary",
   "excludedColumns": ["withinSLA"],
   "computedFields": [
     {
       "postAggregationTheory" : "",
       "actionName": "PercentageComputedField",
       "fields" : ["Closed Complaints", "Total Complaints"],
       "newField" : "Completion Rate",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 
 "xTlServiceStatusByTenant": {
   "chartName": "DSS_TL_SERVICE_BY_TENANT",
   "queries": [
     {
       "module": "TL",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"tenantId\" : \"Data.tradelicense.tenantId.keyword\" }",
       "dateRefField": "Data.tradelicense.applicationDate",
       "indexName": "tlindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tradelicense.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"Data.tradelicense.tenantId.keyword\",\"size\":1000},\"aggs\":{\"Total Applications\":{\"filter\":{\"bool\":{\"must_not\":[{\"terms\":{\"Data.tradelicense.status.keyword\":[\"INITIATED\"]}}]}},\"aggs\":{\"Total Applications\":{\"value_count\":{\"field\":\"Data.tradelicense.tenantId.keyword\"}}}},\"Licences Granted\":{\"filter\":{\"terms\":{\"Data.tradelicense.status.keyword\":[\"APPROVED\"]}},\"aggs\":{\"Licences Granted\":{\"value_count\":{\"field\":\"Data.tradelicense.tenantId.keyword\"}}}},\"Applications Rejected\":{\"filter\":{\"terms\":{\"Data.tradelicense.status.keyword\":[\"REJECTED\"]}},\"aggs\":{\"Applications Rejected\":{\"value_count\":{\"field\":\"Data.tradelicense.tenantId.keyword\"}}}},\"Total Processed\":{\"filter\":{\"terms\":{\"Data.tradelicense.status.keyword\":[\"REJECTED\",\"APPROVED\",\"CANCELLED\"]}},\"aggs\":{\"Total Processed\":{\"value_count\":{\"field\":\"Data.tradelicense.tenantId.keyword\"}}}}}}}}}}"
     }
   ],
   "removedFilterKeys":[{"key": "tenantId", "column": "Boundary"}],
   "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "none",
   "plotLabel": "Boundary",
   "excludedColumns": ["Total Processed"],
   "tempRemoveComputedFields":[{
       "postAggregationTheory" : "",
       "actionName": "PercentageComputedField",
       "fields" : ["Total Processed", "Total Applications"],
       "newField" : "Completion Rate",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     }],
   "computedFields": [
     
   ],
   "insight": {
   },
   "_comment": ""
 },
 
 "xWsServiceStatusByTenant": {
   "chartName": "DSS_WS_SERVICE_BY_TENANT",
   "queries": [
     {
       "module": "WS",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.code.keyword\", \"tenantId\" : \"Data.tenantId.keyword\" }",
       "dateRefField": "Data.additionalDetails.appCreatedDate",
       "indexName": "water-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"size\":1000},\"aggs\":{\"Total Applications\":{\"filter\":{\"bool\":{\"must_not\":[{\"terms\":{\"Data.applicationStatus.keyword\":[\"INITIATED\"]}}]}},\"aggs\":{\"Total Applications\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}},\"Connections Provided\":{\"filter\":{\"exists\":{\"field\":\"Data.connectionNo.keyword\"}},\"aggs\":{\"Connections Provided\":{\"value_count\":{\"field\":\"Data.connectionNo.keyword\"}}}},\"Applications Rejected\":{\"filter\":{\"terms\":{\"Data.applicationStatus.keyword\":[\"REJECTED\"]}},\"aggs\":{\"Applications Rejected\":{\"value_count\":{\"field\":\"Data.applicationNo.keyword\"}}}},\"Total Processed\":{\"filter\":{\"terms\":{\"Data.applicationStatus.keyword\":[\"REJECTED\",\"APPROVED\",\"CANCELLED\"]}},\"aggs\":{\"Total Processed\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}}}"
     }
   ],
   "removedFilterKeys":[{"key": "tenantId", "column": "Boundary"}],
   "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "none",
   "plotLabel": "Boundary",
   "excludedColumns": ["Total Processed"],
   "tempRemoveComputedFields":[{
       "postAggregationTheory" : "",
       "actionName": "PercentageComputedField",
       "fields" : ["Total Processed", "Total Applications"],
       "newField" : "Completion Rate",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     }],
   "computedFields": [
     
   ],
   "insight": {
   },
   "_comment": ""
 },
 
 "xSwServiceStatusByTenant": {
   "chartName": "DSS_SW_SERVICE_BY_TENANT",
   "queries": [
     {
       "module": "SW",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.code.keyword\", \"tenantId\" : \"Data.tenantId.keyword\" }",
       "dateRefField": "Data.additionalDetails.appCreatedDate",
       "indexName": "sewerage-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"size\":1000},\"aggs\":{\"Total Applications\":{\"filter\":{\"bool\":{\"must_not\":[{\"terms\":{\"Data.applicationStatus.keyword\":[\"INITIATED\"]}}]}},\"aggs\":{\"Total Applications\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}},\"Connections Provided\":{\"filter\":{\"exists\":{\"field\":\"Data.connectionNo.keyword\"}},\"aggs\":{\"Connections Provided\":{\"value_count\":{\"field\":\"Data.connectionNo.keyword\"}}}},\"Applications Rejected\":{\"filter\":{\"terms\":{\"Data.applicationStatus.keyword\":[\"REJECTED\"]}},\"aggs\":{\"Applications Rejected\":{\"value_count\":{\"field\":\"Data.applicationNo.keyword\"}}}},\"Total Processed\":{\"filter\":{\"terms\":{\"Data.applicationStatus.keyword\":[\"REJECTED\",\"APPROVED\",\"CANCELLED\"]}},\"aggs\":{\"Total Processed\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}}}"
     }
   ],
   "removedFilterKeys":[{"key": "tenantId", "column": "Boundary"}],
   "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "none",
   "plotLabel": "Boundary",
   "excludedColumns": ["Total Processed"],
   "tempRemoveComputedFields":[{
       "postAggregationTheory" : "",
       "actionName": "PercentageComputedField",
       "fields" : ["Total Processed", "Total Applications"],
       "newField" : "Completion Rate",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     }],
   "computedFields": [
     
   ],
   "insight": {
   },
   "_comment": ""
 },
 
 "xpgrStatusByWard": {
   "chartName": "DSS_PGR_STATUS_BY_TENANT",
   "queries": [
     {
       "module": "PGR",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \"tenantId\" : \"Data.tenantId.keyword\" , \"departmentId\" : \"Data.department.keyword\"}",
       "dateRefField": "Data.dateOfComplaint",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Ward \":{\"terms\":{\"field\":\"Data.complaintWard.name.keyword\",\"size\":1000},\"aggs\":{\"withinSLA\":{\"range\":{\"script\":{\"lang\":\"painless\",\"source\":\"doc['Data.slaHours'].value\"},\"ranges\":[{\"key\":\"withinSLA\",\"from\":0,\"to\":360}]}},\"Total Complaints\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}},\"Closed_Complaints\":{\"filter\":{\"terms\":{\"Data.status.keyword\":[\"closed\",\"rejected\",\"resolved\"]}},\"aggs\":{\"Closed Complaints\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}},\"Open_Complaints\":{\"filter\":{\"terms\":{\"Data.status.keyword\":[\"open\"]}},\"aggs\":{\"Open Complaints\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}},\"Reopened_Complaints\":{\"filter\":{\"terms\":{\"Data.status.keyword\":[\"reopen\"]}},\"aggs\":{\"Reopened Complaints\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}}}"
     }
   ],
   "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "none",

   "documentType": "_doc",
   "action": "",
   "plotLabel": "Ward",
   "excludedColumns": ["withinSLA"],
   "computedFields": [
     {
       "postAggregationTheory" : "",
       "actionName": "PercentageComputedField",
       "fields" : ["Closed Complaints", "Total Complaints"],
       "newField" : "Completion Rate",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "xpgrStatusByDept": {
   "chartName": "DSS_PGR_STATUS_BY_TENANT",
   "queries": [
     {
       "module": "PGR",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\",\"tenantId\" : \"Data.tenantId.keyword\" , \"departmentId\" : \"Data.department.keyword\"}",
       "dateRefField": "Data.dateOfComplaint",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Department \":{\"terms\":{\"field\":\"Data.department.keyword\",\"size\":1000},\"aggs\":{\"withinSLA\":{\"range\":{\"script\":{\"lang\":\"painless\",\"source\":\"doc['Data.slaHours'].value\"},\"ranges\":[{\"key\":\"withinSLA\",\"from\":0,\"to\":360}]}},\"Total Complaints\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}},\"Closed_Complaints\":{\"filter\":{\"terms\":{\"Data.status.keyword\":[\"closed\",\"rejected\",\"resolved\"]}},\"aggs\":{\"Closed Complaints\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}},\"Open_Complaints\":{\"filter\":{\"terms\":{\"Data.status.keyword\":[\"open\"]}},\"aggs\":{\"Open Complaints\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}}}"
     }
   ],
   "filterKeys": [
     {"key": "departmentId", "column": "Department"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "xpgrStatusByCatagory",

   "documentType": "_doc",
   "action": "",
   "plotLabel": "Department",
   "excludedColumns": ["withinSLA"],
   "removedComputedFields":[{
       "postAggregationTheory" : "",
       "actionName": "PercentageComputedField",
       "fields" : ["Total Complaints", "withinSLA"],
       "newField" : "Sla Achieved",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     }],
   "computedFields": [
     {
       "postAggregationTheory" : "",
       "actionName": "PercentageComputedField",
       "fields" : ["Closed Complaints", "Total Complaints"],
       "newField" : "Completion Rate",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "xpgrStatusByCatagory": {
   "chartName": "DSS_PGR_STATUS_BY_TENANT",
   "queries": [
     {
       "module": "PGR",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \"tenantId\" : \"Data.tenantId.keyword\" , \"departmentId\" : \"Data.department.keyword\"}",
       "dateRefField": "Data.dateOfComplaint",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"size\":1000},\"aggs\":{\"withinSLA\":{\"range\":{\"script\":{\"lang\":\"painless\",\"source\":\"doc['Data.slaHours'].value\"},\"ranges\":[{\"key\":\"withinSLA\",\"from\":0,\"to\":360}]}},\"Total Complaints\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}},\"Closed_Complaints\":{\"filter\":{\"terms\":{\"Data.status.keyword\":[\"closed\",\"rejected\",\"resolved\"]}},\"aggs\":{\"Closed Complaints\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}},\"Open_Complaints\":{\"filter\":{\"terms\":{\"Data.status.keyword\":[\"open\"]}},\"aggs\":{\"Open Complaints\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}}}"
     }
   ],
   "filterKeys": [
     {"key": "departmentId", "column": "Department"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "none",

   "documentType": "_doc",
   "action": "",
   "plotLabel": "Complaint Category",
   "excludedColumns": ["withinSLA"],
   "computedFields": [
     {
       "postAggregationTheory" : "",
       "actionName": "PercentageComputedField",
       "fields" : ["Closed Complaints", "Total Complaints"],
       "newField" : "Completion Rate",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     },
     {
       "postAggregationTheory" : "",
       "actionName": "PercentageComputedField",
       "fields" : ["Total Complaints", "withinSLA"],
       "newField" : "Sla Achieved",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "leaseProcessingRate": {
   "chartName": "DSS_PGR_COMPLETION_RATE",
   "queries": [
     {
       "module": "LAMS",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"tenantId\" : \"Data.lease.tenantId\"}",
       "dateRefField": "Data.lease.applicationDate",
       "indexName": "leaseindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.lease.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total Applications\":{\"value_count\":{\"field\":\"Data.lease.applicationNumber.keyword\"}},\"Processed Applications\":{\"filters\":{\"filters\":{\"closed\":{\"match\":{\"Data.lease.status.keyword\":\"APPROVED\"}},\"rejected\":{\"match\":{\"Data.lease.status.keyword\":\"REJECTED\"}}}}}}}}}"
     }
   ],
   "chartType": "metric",
   "valueType": "percentage",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "percentage",
   "aggregationPaths": [
     "Processed Applications",
     "Total Applications"
   ],
   "insight": {
     "chartResponseMap" : "completionRate",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " Total Number of Complaints "
 },
 "xBirthDownloadStatusByTenant": {
   "chartName": "DSS_BND_CERT_DOWNLOAD_BY_TENANT",
   "queries": [
     {
       "module": "BIRTH",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"tenantId\" : \"Data.tenantId.keyword\" }",
       "dateRefField": "Data.auditDetails.lastModifiedTime",
       "indexName": "birth-cert-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"size\":1000,\"order\":{\"_term\":\"asc\"}},\"aggs\":{\"Downloads\":{\"filter\":{\"bool\":{\"must_not\":[{\"terms\":{\"Data.applicationStatus.keyword\":[\"ACTIVE\"]}}]}},\"aggs\":{\"Downloads\":{\"value_count\":{\"field\":\"Data.birthCertificateNo.keyword\"}}}}}}}}}}"
     }
   ],
   "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "none",
   "plotLabel": "Boundary",
   "excludedColumns": [],
   "removedFields":[  
      ],
   "computedFields": [

   ],
   "insight": {
   },
   "_comment": ""
 },
 "xDeathDownloadStatusByTenant": {
   "chartName": "DSS_BND_CERT_DOWNLOAD_BY_TENANT",
   "queries": [
     {
       "module": "DEATH",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"tenantId\" : \"Data.tenantId.keyword\" }",
       "dateRefField": "Data.auditDetails.lastModifiedTime",
       "indexName": "death-cert-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"size\":1000,\"order\":{\"_term\":\"asc\"}},\"aggs\":{\"Downloads\":{\"filter\":{\"bool\":{\"must_not\":[{\"terms\":{\"Data.applicationStatus.keyword\":[\"ACTIVE\"]}}]}},\"aggs\":{\"Downloads\":{\"value_count\":{\"field\":\"Data.deathCertificateNo.keyword\"}}}}}}}}}}"
     }
   ],
   "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "none",
   "plotLabel": "Boundary",
   "excludedColumns": [],
   "removedFields":[  
      ],
   "computedFields": [

   ],
   "insight": {
   },
   "_comment": ""
 },
 "xleaseStatusByTenant": {
   "chartName": "DSS_LEASE_STATUS_BY_TENANT",
   "queries": [
     {
       "module": "LAMS",
       "requestQueryMap": "{\"wardId\" : \"Data.ward.name.keyword\", \"tenantId\" : \"Data.lease.tenantId.keyword\" }",
       "dateRefField": "Data.lease.applicationDate",
       "indexName": "leaseindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.lease.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"Data.lease.tenantId.keyword\",\"size\":1000,\"order\":{\"_term\":\"asc\"}},\"aggs\":{\"Renewal Applications\":{\"filter\":{\"terms\":{\"Data.lease.applicationType.keyword\":[\"RENEWAL\"]}},\"aggs\":{\"Renewal Applications\":{\"value_count\":{\"field\":\"Data.lease.applicationNumber.keyword\"}}}},\"Renewal Approved\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.lease.applicationType.keyword\":[\"RENEWAL\"]}},{\"terms\":{\"Data.lease.status.keyword\":[\"APPROVED\"]}}]}},\"aggs\":{\"Renewal Approved\":{\"value_count\":{\"field\":\"Data.lease.applicationNumber.keyword\"}}}},\"Renewal Rejected\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.lease.applicationType.keyword\":[\"RENEWAL\"]}},{\"terms\":{\"Data.lease.status.keyword\":[\"REJECTED\"]}}]}},\"aggs\":{\"Renewal Rejected\":{\"value_count\":{\"field\":\"Data.lease.applicationNumber.keyword\"}}}},\"Extension Applications\":{\"filter\":{\"terms\":{\"Data.lease.applicationType.keyword\":[\"EXTENSION\"]}},\"aggs\":{\"Extension Applications\":{\"value_count\":{\"field\":\"Data.lease.applicationNumber.keyword\"}}}},\"Extension Approved\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.lease.applicationType.keyword\":[\"EXTENSION\"]}},{\"terms\":{\"Data.lease.status.keyword\":[\"APPROVED\"]}}]}},\"aggs\":{\"Extension Approved\":{\"value_count\":{\"field\":\"Data.lease.applicationNumber.keyword\"}}}},\"Extension Rejected\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.lease.applicationType.keyword\":[\"EXTENSION\"]}},{\"terms\":{\"Data.lease.status.keyword\":[\"REJECTED\"]}}]}},\"aggs\":{\"Extension Rejected\":{\"value_count\":{\"field\":\"Data.lease.applicationNumber.keyword\"}}}},\"Approved\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.lease.status.keyword\":[\"APPROVED\"]}}]}},\"aggs\":{\"Approved\":{\"value_count\":{\"field\":\"Data.lease.applicationNumber.keyword\"}}}},\"Rejected\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.lease.status.keyword\":[\"REJECTED\"]}}]}},\"aggs\":{\"Rejected\":{\"value_count\":{\"field\":\"Data.lease.applicationNumber.keyword\"}}}},\"Total Processed\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.lease.status.keyword\":[\"REJECTED\",\"APPROVED\"]}}]}},\"aggs\":{\"Total Processed\":{\"value_count\":{\"field\":\"Data.lease.applicationNumber.keyword\"}}}},\"Total Applications\":{\"value_count\":{\"field\":\"Data.lease.applicationNumber.keyword\"}}}}}}}}"
     }
   ],
   "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "none",
   "plotLabel": "Boundary",
   "excludedColumns": ["Total Applications", "Renewal Approved", "Extension Approved","Extension Rejected","Renewal Rejected"],
   "removedFields":[     {
       "postAggregationTheory" : "",
       "actionName": "AdditiveComputedField",
       "fields" : ["Extension Approved", "Renewal Approved","Extension Rejected","Renewal Rejected" ],
       "newField" : "Total Processed",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     },
      {
       "postAggregationTheory" : "",
       "actionName": "AdditiveComputedField",
       "fields" : ["Renewal Applications", "Extension Applications"],
       "newField" : "Total Applications",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     }],
   "computedFields": [
     {
       "postAggregationTheory" : "",
       "actionName": "PercentageComputedField",
       "fields" : ["Total Processed", "Total Applications"],
       "newField" : "Processing Rate",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "_comment": "PGR NON-COLLECTION CHARTS",
 "completionRate": {
   "chartName": "DSS_PGR_COMPLETION_RATE",
   "queries": [
     {
       "module": "PGR",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \"tenantId\" : \"Data.tenantId\"}",
       "dateRefField": "Data.dateOfComplaint",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total Complaints\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}},\"Closed Complaints\":{\"filters\":{\"filters\":{\"closed\":{\"match\":{\"Data.status.keyword\":\"closed\"}},\"resolved\":{\"match\":{\"Data.status.keyword\":\"resolved\"}},\"rejected\":{\"match\":{\"Data.status.keyword\":\"rejected\"}}}}}}}}}"
     }
   ],
   "chartType": "metric",
   "valueType": "percentage",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "percentage",
   "aggregationPaths": [
     "Closed Complaints",
     "Total Complaints"
   ],
   "insight": {
     "chartResponseMap" : "completionRate",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " Total Number of Complaints "
 },
 "totalComplaints": {
   "chartName": "DSS_PGR_TOTAL_COMPLAINTS",
   "queries": [
     {
       "module": "PGR",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \"tenantId\" : \"Data.tenantId\"}",
       "dateRefField": "Data.dateOfComplaint",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total Complaints\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}}"
     }
   ],
   "chartType": "metric",
   "valueType": "number",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "",
   "aggregationPaths": [
     "Total Complaints"
   ],
   "insight": {
     "chartResponseMap" : "totalComplaints",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " Total Number of Complaints "
 },
 "closedComplaints": {
   "chartName": "DSS_PGR_CLOSED_COMPLAINTS",
   "queries": [
     {
       "module": "PGR",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \"tenantId\" : \"Data.tenantId\"}",
       "dateRefField": "Data.dateOfComplaint",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Closed Complaints\":{\"filters\":{\"filters\":{\"closed\":{\"match\":{\"Data.status.keyword\":\"closed\"}},\"resolved\":{\"match\":{\"Data.status.keyword\":\"resolved\"}},\"rejected\":{\"match\":{\"Data.status.keyword\":\"rejected\"}}}}}}}}}"
     }
   ],
   "chartType": "metric",
   "valueType": "number",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "",
   "aggregationPaths": [
     "Closed Complaints"
   ],
   "insight": {
     "chartResponseMap" : "closedComplaints",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " Total Number of Closed Complaints "
 },
 "cumulativeClosedComplaints": {
   "chartName": "DSS_TOTAL_CUMULATIVE_CLOSED_COMPLAINTS",
   "queries": [
     {
       "module": "PGR",
       "dateRefField": "Data.dateOfComplaint",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\",\"tenantId\" : \"Data.tenantId\"}",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total Complaints\":{\"date_histogram\":{\"field\":\"Data.dateOfComplaint\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}},\"Addressed Complaints\":{\"date_histogram\":{\"field\":\"Data.dateOfComplaint\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Closed\":{\"filter\":{\"terms\":{\"Data.status.keyword\":[\"closed\",\"rejected\",\"resolved\"]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}}}"
     }
   ],
   "chartType": "line",
   "valueType": "number",
   "action": "",
   "drillChart": "none",
   "documentType": "_doc",
   "aggregationPaths": [
     "Addressed Complaints",
     "Total Complaints"
   ],
   "isCumulative": true,
   "interval": "month",
   "insight": {
   },
   "_comment": " "
 },
 "totalComplaintsbySource": {
   "chartName": "DSS_PGR_TOTAL_COMPLAINTS_BY_SOURCE",
   "queries": [
     {
       "module": "PGR",
       "dateRefField": "Data.dateOfComplaint",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \"tenantId\" : \"Data.tenantId\"}",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Ivr\":{\"date_histogram\":{\"field\":\"Data.dateOfComplaint\",\"interval\":\"intervalvalue\"},\"aggs\":{\"ivr\":{\"filter\":{\"terms\":{\"Data.source.keyword\":[\"ivr\"]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}},\"Web\":{\"date_histogram\":{\"field\":\"Data.dateOfComplaint\",\"interval\":\"intervalvalue\"},\"aggs\":{\"web\":{\"filter\":{\"terms\":{\"Data.source.keyword\":[\"web\"]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}},\"Whatsapp\":{\"date_histogram\":{\"field\":\"Data.dateOfComplaint\",\"interval\":\"intervalvalue\"},\"aggs\":{\"whatapp\":{\"filter\":{\"terms\":{\"Data.source.keyword\":[\"whatsapp\"]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}},\"Mobileapp\":{\"date_histogram\":{\"field\":\"Data.dateOfComplaint\",\"interval\":\"intervalvalue\"},\"aggs\":{\"mobileapp\":{\"filter\":{\"terms\":{\"Data.source.keyword\":[\"mobileapp\"]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}}}}}}"
     }
   ],
   "chartType": "line",
   "valueType": "number",
   "action": "",
   "drillChart": "none",
   "documentType": "_doc",
   "aggregationPaths": [
     "Ivr",
     "Web"
   ],
   "isCumulative": false,
   "interval": "month",
   "insight": {
   },
   "_comment": " "
 },
 "totalComplaintsbyStatus": {
   "chartName": "DSS_PGR_TOTAL_COMPLAINTS_BY_STATUS",
   "queries": [
     {
       "module": "PGR",
       "dateRefField": "Data.dateOfComplaint",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\",\"tenantId\" : \"Data.tenantId\"}",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Open\":{\"date_histogram\":{\"field\":\"Data.dateOfComplaint\",\"interval\":\"intervalvalue\"},\"aggs\":{\"open\":{\"filter\":{\"terms\":{\"Data.status.keyword\":[\"open\"]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}},\"Addressed\":{\"date_histogram\":{\"field\":\"Data.dateOfComplaint\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Addressed\":{\"filter\":{\"terms\":{\"Data.status.keyword\":[\"closed\",\"resolved\",\"rejected\"]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}}}}}}"
     }
   ],
   "chartType": "line",
   "valueType": "number",
   "action": "",
   "drillChart": "none",
   "documentType": "_doc",
   "aggregationPaths": [
     "Open",
     "Addressed"
   ],
   "isCumulative": false,
   "interval": "month",
   "insight": {
   },
   "_comment": " "
 },
 "complaintsByStatus": {
   "chartName": "DSS_PGR_COMPLAINTS_BY_STATUS",
   "queries": [
     {
       "module": "PGR",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\",\"tenantId\" : \"Data.tenantId\"}",
       "dateRefField": "Data.dateOfComplaint",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Complaints By Status\":{\"terms\":{\"field\":\"Data.status.keyword\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Complaints By Status"
   ],
   "insight": {
   },
   "_comment": " Complaints By Their Statuses"
 },
 "complaintsByChannel": {
   "chartName": "DSS_PGR_COMPLAINTS_BY_CHANNELS",
   "queries": [
     {
       "module": "PGR",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \"tenantId\" : \"Data.tenantId\"}",
       "dateRefField": "Data.dateOfComplaint",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Complaints By Channels\":{\"terms\":{\"field\":\"Data.source.keyword\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Complaints By Channels"
   ],
   "insight": {
   },
   "_comment": " Top 3 Channels For Complaints"
 },
 "complaintsByCategory": {
   "chartName": "DSS_PGR_COMPLAINTS_BY_CATEGORY",
   "queries": [
     {
       "module": "PGR",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\",\"tenantId\" : \"Data.tenantId\"}",
       "dateRefField": "Data.dateOfComplaint",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Complaints By Category\":{\"terms\":{\"field\":\"Data.complainCategory.keyword\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Complaints By Category"
   ],
   "insight": {
   },
   "_comment": " Top 3 Channels For Complaints"
 },
 "complaintsByTenant": {
   "chartName": "DSS_PGR_COMPLAINTS_BY_TENANT",
   "queries": [
     {
       "module": "PGR",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \"tenantId\" : \"Data.tenantId\"}",
       "dateRefField": "Data.dateOfComplaint",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Complaints By Tenant\":{\"terms\":{\"field\":\"Data.tenantId.keyword\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Complaints By Tenant"
   ],
   "insight": {
   },
   "_comment": " Complaints by Tenant"
 },
 "complaintsByDistrict": {
   "chartName": "DSS_PGR_COMPLAINTS_BY_DISTRICT",
   "queries": [
     {
       "module": "PGR",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \"tenantId\" : \"Data.tenantId\"}",
       "dateRefField": "Data.dateOfComplaint",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Complaints By District\":{\"terms\":{\"field\":\"Data.tenantData.city.districtName.keyword\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Complaints By District"
   ],
   "insight": {
   },
   "_comment": " Complaints by District"
 },
 "complaintsByDepartment": {
   "chartName": "DSS_PGR_COMPLAINTS_BY_DEPARTMENT",
   "queries": [
     {
       "module": "PGR",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \"tenantId\" : \"Data.tenantId\"}",
       "dateRefField": "Data.dateOfComplaint",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Complaints By Department\":{\"terms\":{\"field\":\"Data.department.keyword\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Complaints By Department"
   ],
   "insight": {
   },
   "_comment": " Complaints by Department"
 },
 "pgrStatusByDDR": {
   "chartName": "DSS_PGR_STATUS_BY_DDR",
   "queries": [
     {
       "module": "PGR",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\",\"tenantId\" : \"Data.tenantId.keyword\" , \"departmentId\" : \"Data.department.keyword\"}",
       "dateRefField": "Data.dateOfComplaint",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Closed Complaints\":{\"filters\":{\"filters\":{\"Open\":{\"match\":{\"Data.status.keyword\":\"open\"}},\"Reopen\":{\"match\":{\"Data.status.keyword\":\"reopen\"}},\"Assigned\":{\"match\":{\"Data.status.keyword\":\"assigned\"}},\"Closed\":{\"match\":{\"Data.status.keyword\":\"closed\"}},\"Resolved\":{\"match\":{\"Data.status.keyword\":\"resolved\"}},\"Rejected\":{\"match\":{\"Data.status.keyword\":\"rejected\"}},\"ReassignRequested\":{\"match\":{\"Data.status.keyword\":\"reassignrequested\"}}}}}}}}}"
     }
   ],
   "isMdmsEnabled": true,
   "filterKeys": [
     {"key": "tenantId", "column": "DDRs"}
   ],
   "chartType": "table",
   "valueType": "number",
   "drillChart": "pgrStatusByTenant",
   "drillFields": [
     ""
   ],
   "documentType": "_doc",
   "action": "",
   "plotLabel": "DDRs",
   "aggregationPaths": [
     "Open",
     "Reopen",
     "Assigned",
     "Closed",
     "Resolved",
     "Rejected",
     "ReassignRequested"
   ],
   "pathDataTypeMapping": [
     {
       "Open": "number"
     },
     {
       "Reopen": "number"
     },
     {
       "Assigned": "number"
     },
     {
       "Closed": "number"
     },
     {
       "Resolved": "number"
     },
     {
       "Rejected": "number"
     },
     {
       "ReassignRequested": "number"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "pgrStatusByTenant": {
   "chartName": "DSS_PGR_STATUS_BY_TENANT",
   "queries": [
     {
       "module": "PGR",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \"tenantId\" : \"Data.tenantId.keyword\" , \"departmentId\" : \"Data.department.keyword\"}",
       "dateRefField": "Data.dateOfComplaint",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"size\":1000},\"aggs\":{\"Closed Complaints\":{\"filters\":{\"filters\":{\"Open\":{\"match\":{\"Data.status.keyword\":\"open\"}},\"Reopen\":{\"match\":{\"Data.status.keyword\":\"reopen\"}},\"Assigned\":{\"match\":{\"Data.status.keyword\":\"assigned\"}},\"Closed\":{\"match\":{\"Data.status.keyword\":\"closed\"}},\"Resolved\":{\"match\":{\"Data.status.keyword\":\"resolved\"}},\"Rejected\":{\"match\":{\"Data.status.keyword\":\"rejected\"}},\"ReassignRequested\":{\"match\":{\"Data.status.keyword\":\"reassignrequested\"}}}}}}}}}}}"
     }
   ],
   "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],
   "chartType": "table",
   "valueType": "number",
   "drillChart": "pgrStatusWardDrillDown",
   "drillFields": [
     ""
   ],
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Boundary",
   "aggregationPaths": [
     "Open",
     "Reopen",
     "Assigned",
     "Closed",
     "Resolved",
     "Rejected",
     "ReassignRequested"
   ],
   "pathDataTypeMapping": [
     {
       "Open": "number"
     },
     {
       "Reopen": "number"
     },
     {
       "Assigned": "number"
     },
     {
       "Closed": "number"
     },
     {
       "Resolved": "number"
     },
     {
       "Rejected": "number"
     },
     {
       "ReassignRequested": "number"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "pgrStatusWardDrillDown": {
   "chartName": "",
   "queries": [
     {
       "module": "PGR",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \"tenantId\" : \"Data.tenantId.keyword\" , \"departmentId\" : \"Data.department.keyword\"}",
       "dateRefField": "Data.dateOfComplaint",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Ward \":{\"terms\":{\"field\":\"Data.complaintWard.name.keyword\",\"size\":1000},\"aggs\":{\"Closed Complaints\":{\"filters\":{\"filters\":{\"Open\":{\"match\":{\"Data.status.keyword\":\"open\"}},\"Reopen\":{\"match\":{\"Data.status.keyword\":\"reopen\"}},\"Assigned\":{\"match\":{\"Data.status.keyword\":\"assigned\"}},\"Closed\":{\"match\":{\"Data.status.keyword\":\"closed\"}},\"Resolved\":{\"match\":{\"Data.status.keyword\":\"resolved\"}},\"Rejected\":{\"match\":{\"Data.status.keyword\":\"rejected\"}},\"ReassignRequested\":{\"match\":{\"Data.status.keyword\":\"reassignrequested\"}}}}}}}}}}}"
     }
   ],
   "filterKeys": [
   ],
   "chartType": "table",
   "valueType": "number",
   "drillChart": "",
   "drillFields": [
     ""
   ],
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Complaint Ward",
   "aggregationPaths": [
     "Open",
     "Reopen",
     "Assigned",
     "Closed",
     "Resolved",
     "Rejected",
     "ReassignRequested"
   ],
   "pathDataTypeMapping": [
     {
       "Open": "number"
     },
     {
       "Reopen": "number"
     },
     {
       "Assigned": "number"
     },
     {
       "Closed": "number"
     },
     {
       "Resolved": "number"
     },
     {
       "Rejected": "number"
     },
     {
       "ReassignRequested": "number"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "pgrStatusByDepartment": {
   "chartName": "DSS_PGR_STATUS_BY_DEPARTMENT",
   "queries": [
     {
       "module": "PGR",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \"tenantId\" : \"Data.tenantId.keyword\" }",
       "dateRefField": "Data.dateOfComplaint",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Department \":{\"terms\":{\"field\":\"Data.department.keyword\",\"size\":1000},\"aggs\":{\"Closed Complaints\":{\"filters\":{\"filters\":{\"Open\":{\"match\":{\"Data.status.keyword\":\"open\"}},\"Reopen\":{\"match\":{\"Data.status.keyword\":\"reopen\"}},\"Assigned\":{\"match\":{\"Data.status.keyword\":\"assigned\"}},\"Closed\":{\"match\":{\"Data.status.keyword\":\"closed\"}},\"Resolved\":{\"match\":{\"Data.status.keyword\":\"resolved\"}},\"Rejected\":{\"match\":{\"Data.status.keyword\":\"rejected\"}},\"ReassignRequested\":{\"match\":{\"Data.status.keyword\":\"reassignrequested\"}}}}}}}}}}}"
     }
   ],
   "filterKeys": [
     {"key": "departmentId", "column": "Department"}
   ],
   "chartType": "table",
   "valueType": "number",
   "drillChart": "pgrStatusCategoryDrillDown",
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Department",
   "aggregationPaths": [
     "Open",
     "Reopen",
     "Assigned",
     "Closed",
     "Resolved",
     "Rejected",
     "ReassignRequested"
   ],
   "pathDataTypeMapping": [
     {
       "Open": "number"
     },
     {
       "Reopen": "number"
     },
     {
       "Assigned": "number"
     },
     {
       "Closed": "number"
     },
     {
       "Resolved": "number"
     },
     {
       "Rejected": "number"
     },
     {
       "ReassignRequested": "number"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "pgrStatusCategoryDrillDown": {
   "chartName": "",
   "queries": [
     {
       "module": "PGR",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \"tenantId\" : \"Data.tenantId.keyword\" , \"departmentId\" : \"Data.department.keyword\"}",
       "dateRefField": "Data.dateOfComplaint",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Category \":{\"terms\":{\"field\":\"Data.complainCategory.keyword\",\"size\":1000},\"aggs\":{\"Closed Complaints\":{\"filters\":{\"filters\":{\"Open\":{\"match\":{\"Data.status.keyword\":\"open\"}},\"Reopen\":{\"match\":{\"Data.status.keyword\":\"reopen\"}},\"Assigned\":{\"match\":{\"Data.status.keyword\":\"assigned\"}},\"Closed\":{\"match\":{\"Data.status.keyword\":\"closed\"}},\"Resolved\":{\"match\":{\"Data.status.keyword\":\"resolved\"}},\"Rejected\":{\"match\":{\"Data.status.keyword\":\"rejected\"}},\"ReassignRequested\":{\"match\":{\"Data.status.keyword\":\"reassignrequested\"}}}}}}}}}}}"
     }
   ],
   "filterKeys": [
   ],
   "chartType": "table",
   "valueType": "number",
   "drillChart": "",
   "drillFields": [
     ""
   ],
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Complaint Category",
   "aggregationPaths": [
     "Open",
     "Reopen",
     "Assigned",
     "Closed",
     "Resolved",
     "Rejected",
     "ReassignRequested"
   ],
   "pathDataTypeMapping": [
     {
       "Open": "number"
     },
     {
       "Reopen": "number"
     },
     {
       "Assigned": "number"
     },
     {
       "Closed": "number"
     },
     {
       "Resolved": "number"
     },
     {
       "Rejected": "number"
     },
     {
       "ReassignRequested": "number"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "topFiveComplaints": {
   "chartName": "DSS_PGR_TOP_COMPLAINTS",
   "queries": [
     {
       "module": "PGR",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \"tenantId\" : \"Data.tenantId\"}",
       "dateRefField": "Data.dateOfComplaint",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Complain Category\":{\"terms\":{\"field\":\"Data.complainCategory.keyword\",\"size\":6,\"order\":{\"Count\":\"desc\"}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.complainCategory.keyword\"}}}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Complain Category"
   ],
   "insight": {
   },
   "_comment": " Complaints By Their Statuses"
 },
 "averageTurnAroundTime": {
   "chartName": "DSS_AVERAGE_TURN_AROUND_TIME",
   "queries": [
     {
       "module": "PGR",
       "dateRefField": "Data.@timestamp",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \"tenantId\" : \"Data.tenantId\"}",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"Complaints Average Turn Around Time (in Days)\":{\"date_histogram\":{\"field\":\"Data.@timestamp\",\"interval\":\"intervalvalue\"},\"aggs\":{\"each_open\":{\"terms\":{\"field\":\"_id\",\"min_doc_count\":0, \"size\":200},\"aggs\":{\"Open_Complaints\":{\"nested\":{\"path\":\"Data.actionHistory.actions\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"Data.actionHistory.actions.status.keyword\":[\"open\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"Data.actionHistory.actions.when\"}}}}}},\"Closed_Complaints\":{\"nested\":{\"path\":\"Data.actionHistory.actions\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"Data.actionHistory.actions.status.keyword\":[\"closed\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"Data.actionHistory.actions.when\"}}}}}},\"computedValueATA\":{\"bucket_script\":{\"buckets_path\":{\"max\":\"Closed_Complaints>aggrFilter>amount\",\"min\":\"Open_Complaints>aggrFilter>amount\"},\"script\":{\"source\":\"params.max-params.min\"}}}}}}}}}",
       "aggrQuerybc": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Complaints Average Turn Around Time (in Days)\":{\"date_histogram\":{\"field\":\"Data.@timestamp\",\"interval\":\"intervalvalue\"},\"aggs\":{\"each_open\":{\"terms\":{\"field\":\"_id\",\"min_doc_count\":0},\"aggs\":{\"Open_Complaints\":{\"min\":{\"field\":\"Data.actionHistory.actions.when\"}},\"Closed_Complaints\":{\"max\":{\"field\":\"Data.actionHistory.actions.when\"}},\"computedValueATA\":{\"bucket_script\":{\"buckets_path\":{\"max\":\"Closed_Complaints\",\"min\":\"Open_Complaints\"},\"script\":{\"source\":\"if(params.max == null && params.min == null) {0} else {params.max-params.min}\"}}}}}}}}}}}"
     }
   ],
   "chartType": "line",
   "valueType": "days",
   "action": "",
   "drillChart": "none",
   "documentType": "_doc",
   "aggregationPaths": [
     "Complaints Average Turn Around Time (in Days)"
   ],
   "computedFields": [
     {
       "postAggregationTheory" : "",
       "actionName": "AverageComputedField",
       "fields" : ["computedValueATA"],
       "newField" : "ATA",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     }
   ],
   "isCumulative": false,
   "interval": "month",
   "insight": {
   },
   "_comment": " "
 },
 "pgrCitizenOnDateRange": {
   "chartName": "DSS_PGR_CITIZEN",
   "queries": [
     {
       "module": "PGR",
       "dateRefField": "Data.@timestamp",
       "requestQueryMap": "{\"wardId\" : \"Data.complaintWard.name.keyword\", \"tenantId\" : \"Data.tenantId\"}",
       "indexName": "pgrindex-v1",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Citizens\":{\"date_histogram\":{\"field\":\"Data.@timestamp\",\"interval\":\"intervalvalue\"},\"aggs\":{\"count\":{\"cardinality\":{\"field\":\"Data.citizen.uuid.keyword\"}}}}}}}}"
     }
   ],
   "chartType": "line",
   "valueType": "number",
   "action": "",
   "drillChart": "none",
   "documentType": "_doc",
   "aggregationPaths": [
     "Citizens"
   ],
   "isCumulative": false,
   "interval": "month",
   "insight": {
   },
   "_comment": " "
 },




 "_comment": "W&S charts below-----------------------------------------------------------------------",
 "wstodaysCollection": {
   "chartName": "DSS_W&S_TODAYS_COLLECTION",
   "queries": [
     {
       "module": "WS",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"WS\",\"WS.ONE_TIME_FEE\"]}},{\"range\":{\"dataObject.paymentDetails.receiptDate\":{\"gt\":\"now-1d/d\",\"lte\":\"now\"}}}]}},\"aggs\":{\"Todays Collection\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}",
       "requestQueryMap": "{\"tenantId\" : \"dataObject.tenantId\", \"module\" : \"dataObject.paymentDetails.businessService.keyword\",\"wardId\" : \"block.keyword\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate"
     }
   ],
    "translateTenantCode": true,
   "chartType": "metric",
   "valueType": "amount",
   "action": "",
   "drillChart": "none",
   "aggregationPaths": [
     "Todays Collection"
   ],
   "insight": {
   },
   "_comment": "W&S total collections "
 },
 "wstotalCollection": {
   "chartName": "DSS_W&S_TOTAL_COLLECTION",
   "queries": [
    
      {
       "module": "WS",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGG\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"WS\",\"WS.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Total Collection23\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}"
     }
   ],
   
   "chartType": "metric",
   "valueType": "amount",
   "action": "",
   "drillChart": "none",
   "aggregationPaths": [
     "Total Collection23"
   ],
   "insight": {
   },
   "_comment": "W&S total collections "
 },
 
 "wsConCollection": {
   "chartName": "DSS_CONNECTION_COLLECTION",
   "queries": [
    
      {
       "module": "WS",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGG\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"WS.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Total Collection23\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}"
     }
   ],
   
   "chartType": "metric",
   "valueType": "amount",
   "action": "",
   "drillChart": "none",
   "aggregationPaths": [
     "Total Collection23"
   ],
   "insight": {
   },
   "_comment": "WS Connection collections "
 },
 
 "wsChargesCollection": {
   "chartName": "DSS_WATER_CHARGES_COLLECTION",
   "queries": [
    
      {
       "module": "WS",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGG\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"WS\"]}}]}},\"aggs\":{\"Total Collection23\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}"
     }
   ],
   
   "chartType": "metric",
   "valueType": "amount",
   "action": "",
   "drillChart": "none",
   "aggregationPaths": [
     "Total Collection23"
   ],
   "insight": {
   },
   "_comment": "WS Water Charges collections "
 },
 "wstargetCollection": {
   "chartName": "DSS_W&S_TARGET_COLLECTION",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"Target Collection\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}"
     }
   ],
   "chartType": "metric",
   "valueType": "amount",
   "action": "",
   "drillChart": "none",
   "documentType": "_doc",
   "aggregationPaths": [
     "Target Collection"
   ],
   "isDayUnit": true,
   "postAggregationTheory" : "repsonseToDifferenceOfDates",
   "insight": {
   },
   "_comment": " "
 },
 "wstargetAchieved": {
   "chartName": "DSS_W&S_TARGET_ACHIEVED",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\r\n  \"module\" : \"businessService.keyword\", \n\"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"Actual collection\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}"
     },
     {
       "module": "WS",
       "indexName": "dss-payment_v2",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "aggrQuery": "{\"aggs\":{\"AGG\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"WS\",\"WS.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}",
       "requestQueryMap": "{\"tenantId\" : \"dataObject.tenantId\", \"wardId\" : \"block.keyword\"}"
     }

   ],
   "chartType": "metric",
   "valueType": "percentage",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "percentage",
   "aggregationPaths": [
     "Total Collection",
     "Actual collection"
   ],
   "insight": {
     "chartResponseMap" : "wstargetAchieved",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " "
 },
 "wscumulativeCollections": {
   "chartName": "DSS_W&S_TOTAL_CUMULATIVE_COLLECTION",
   "queries": [
     {
       "module": "WS",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"tenantId\" : \"dataObject.tenantId\", \"wardId\" : \"block.keyword\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"WS\",\"WS.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Collections\":{\"date_histogram\":{\"field\":\"dataObject.paymentDetails.receiptDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     }
   ],
   "chartType": "line",
   "valueType": "amount",
   "action": "",
   "drillChart": "none",
   "documentType": "_doc",
   "aggregationPaths": [
     "Collections"
   ],
   "isCumulative": true,
   "interval": "month",
   "insight": {
   },
   "_comment": " "
 },

 "wstopPerformingUlbs": {
   "chartName": "DSS_W&S_TOP_3_PERFORMING_ULBS",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\r\n  \"module\" : \"businessService.keyword\", \n\"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"Target Collection\":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"desc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
     },
     {
       "module": "WS",
       "requestQueryMap": "{\"tenantId\" : \"dataObject.tenantId\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"WS\",\"WS.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Total Collection\":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"desc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     }
   ],
   "chartType": "perform",
   "valueType": "percentage",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "percentage",
   "plotLabel": "DSS_TARGET_ACHIEVED",
   "order": "desc",
   "limit": 3,
   "aggregationPaths": [
     "Total Collection","Target Collection"
   ],
   "insight": {
   },
   "_comment": " Top Performing Ulbs for target achieved"
 },
 "wsbottomPerformingUlbs": {
   "chartName": "DSS_W&S_BOTTOM_3_PERFORMING_ULBS",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\r\n  \"module\" : \"businessService.keyword\", \n\"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"Target Collection\":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"asc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
     },
      {
       "module": "WS",
       "requestQueryMap": "{\"tenantId\" : \"dataObject.tenantId\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"WS\",\"WS.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Total Collection\":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"asc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     }
   ],
   "chartType": "perform",
   "valueType": "percentage",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "percentage",
   "plotLabel": "DSS_TARGET_ACHIEVED",
   "order": "asc",
   "limit": 3,
   "aggregationPaths": [
     "Total Collection", "Target Collection"
   ],
   "insight": {
   },
   "_comment": " Bottom Performing Ulbs for target achieved"
 },
 "wscollectionByUsage": {
   "chartName": "DSS_W&S_COLLECTION_BY_CONNECTION_TYPE",
   "queries": [
     {
       "module": "WS",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"tenantId\" : \"dataObject.tenantId\", \"wardId\" : \"block.keyword\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"Connection Type\":{\"terms\":{\"field\":\"domainObject.connectionType.keyword\"},\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"term\":{\"dataObject.bill.status.keyword\":\"Cancelled\"}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"WS\",\"WS.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Connection type\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Connection Type"
   ],
   "insight": {
   },
   "_comment": " "
 },

 "wsFinancialIndicatorDDR": {
   "chartName": "DSS_W&S_DEMAND_COLLECTION_BOUNDARY",
   "queries": [
     {
       "module": "WS",
       "requestQueryMap": "{\"tenantId\" : \"tenantId\" : \"dataObject.tenantId\", \"wardId\" : \"block.keyword\" }",
       "dateRefField": "receiptdate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"Total Collection\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"status\":\"Cancelled\"}}]}},\"aggs\":{\"collection\":{\"sum\":{\"field\":\"totalamount\"}}}},\"Total Receipt\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"status\":\"Cancelled\"}}]}},\"aggs\":{\"receipt\":{\"value_count\":{\"field\":\"receiptnumber.keyword\"}}}}}}"
     },
     {
       "module": "WS",
       "requestQueryMap": "{ \"tenantId\" : \"dataObject.tenantId\", \"wardId\" : \"block.keyword\"}",
       "dateRefField": "billdate",
       "indexName": "demandbillconsumers",
       "aggrQuery": "{\"aggs\":{\"No of Bill\":{\"filter\":{\"term\":{\"billgenerated\":true}},\"aggs\":{\"approved\":{\"value_count\":{\"field\":\"installmentfrom.keyword\"}}}}}}"
     },
     {
       "module": "WS",
       "requestQueryMap": "{ \"tenantId\" : \"dataObject.tenantId\", \"wardId\" : \"block.keyword\"}",
       "dateRefField": "@timestamp",
       "indexName": "projecteddemand-consumers",
       "aggrQuery": "{\"aggs\":{\"Project Demand\":{\"sum\":{\"field\":\"projecteddemand\"}}}}"
     }
   ],
   "isMdmsEnabled": true,
   "translateTenantCode": true,
   "filterKeys": [
     {"key": "tenantId", "column": "DDRs"}
   ],
   "chartType": "table",
   "valueType": "number",
   "drillChart": "wsFinancialIndicatorUlb",
   "action": "",
   "plotLabel": "DDRs",
   "isPostResponseHandler": true,
   "postAggregationTheory" : "",
   "aggregationPaths": [
     "Total Collection",
     "Total Receipt",
     "No of Bill",
     "Project Demand"

   ],
   "pathDataTypeMapping": [
     {
       "Total Collection": "amount"
     },
     {
       "Total Receipt": "number"
     },
     {
       "No of Bill": "number"
     },
     {
       "Project Demand": "amount"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "wsFinancialIndicatorUlb": {
   "chartName": "DSS_W&S_DEMAND_COLLECTION_BOUNDARY",
   "queries": [
     {
       "module": "WS",
       "requestQueryMap": "{\"tenantId\" : \"cityname.keyword\", \"wardId\" : \"block.keyword\" }",
       "dateRefField": "receiptdate",
       "indexName": "receipts-consumers",
       "aggrQuery": "{\"aggs\":{\"ULB\":{\"terms\":{\"field\":\"cityname.keyword\"},\"aggs\":{\"Total Collection\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"status\":\"Cancelled\"}}]}},\"aggs\":{\"collection\":{\"sum\":{\"field\":\"totalamount\"}}}},\"Total Receipt\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"status\":\"Cancelled\"}}]}},\"aggs\":{\"receipt\":{\"value_count\":{\"field\":\"receiptnumber.keyword\"}}}}}}}}"
     },
     {
       "module": "WS",
       "requestQueryMap": "{ \"tenantId\" : \"cityname.keyword\", \"wardId\" : \"block.keyword\"}",
       "dateRefField": "billdate",
       "indexName": "demandbillconsumers",
       "aggrQuery": "{\"aggs\":{\"ULB\":{\"terms\":{\"field\":\"cityname.keyword\"},\"aggs\":{\"No of Bill\":{\"filter\":{\"term\":{\"billgenerated\":true}},\"aggs\":{\"approved\":{\"value_count\":{\"field\":\"installmentfrom.keyword\"}}}}}}}}"
     },
     {
       "module": "WS",
       "requestQueryMap": "{ \"tenantId\" : \"cityname.keyword\", \"wardId\" : \"block.keyword\"}",
       "dateRefField": "@timestamp",
       "indexName": "projecteddemand-consumers",
       "aggrQuery": "{\"aggs\":{\"ULB\":{\"terms\":{\"field\":\"cityname.keyword\"},\"aggs\":{\"Project Demand\":{\"sum\":{\"field\":\"projecteddemand\"}}}}}}"
     }
   ],
   "isMdmsEnabled": false,
   "translateTenantCode": true,
   "filterKeys": [
     {"key": "tenantId", "column": "ULB"}
   ],
   "chartType": "table",
   "valueType": "number",
   "drillChart": "wsFinancialIndicatorWard",
   "action": "",
   "plotLabel": "ULB",
   "isPostResponseHandler": true,
   "postAggregationTheory" : "",
   "aggregationPaths": [
     "Total Collection",
     "Total Receipt",
     "No of Bill",
     "Project Demand"

   ],
   "pathDataTypeMapping": [
     {
       "Total Collection": "amount"
     },
     {
       "Total Receipt": "number"
     },
     {
       "No of Bill": "number"
     },
     {
       "Project Demand": "amount"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "wsFinancialIndicatorWard": {
   "chartName": "DSS_W&S_DEMAND_COLLECTION_BOUNDARY",
   "queries": [
     {
       "module": "WS",
       "requestQueryMap": "{ \"tenantId\" : \"cityname.keyword\", \"wardId\" : \"block.keyword\" }",
       "dateRefField": "receiptdate",
       "indexName": "receipts-consumers",
       "aggrQuery": "{\"aggs\":{\"Ward\":{\"terms\":{\"field\":\"block\"},\"aggs\":{\"Total Collection\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"status\":\"Cancelled\"}}]}},\"aggs\":{\"collection\":{\"sum\":{\"field\":\"totalamount\"}}}},\"Total Receipt\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"status\":\"Cancelled\"}}]}},\"aggs\":{\"receipt\":{\"value_count\":{\"field\":\"receiptnumber.keyword\"}}}}}}}}"
     },
     {
       "module": "WS",
       "requestQueryMap": "{ \"tenantId\" : \"cityname.keyword\", \"wardId\" : \"block.keyword\" }",
       "dateRefField": "billdate",
       "indexName": "demandbillconsumers",
       "aggrQuery": "{\"aggs\":{\"Ward\":{\"terms\":{\"field\":\"block.keyword\"},\"aggs\":{\"No of Bill\":{\"filter\":{\"term\":{\"billgenerated\":true}},\"aggs\":{\"approved\":{\"value_count\":{\"field\":\"installmentfrom.keyword\"}}}}}}}}"
     },
     {
       "module": "WS",
       "requestQueryMap": "{ \"tenantId\" : \"cityname.keyword\", \"wardId\" : \"block.keyword\" }",
       "dateRefField": "@timestamp",
       "indexName": "projecteddemand-consumers",
       "aggrQuery": "{\"aggs\":{\"Ward\":{\"terms\":{\"field\":\"block.keyword\"},\"aggs\":{\"Project Demand\":{\"sum\":{\"field\":\"projecteddemand\"}}}}}}"
     }
   ],
   "isMdmsEnabled": false,
   "translateTenantCode": true,
   "filterKeys": [

   ],
   "chartType": "table",
   "valueType": "number",
   "drillChart": "",
   "action": "",
   "plotLabel": "Ward",
   "isPostResponseHandler": true,
   "postAggregationTheory" : "",
   "aggregationPaths": [
     "Total Collection",
     "Total Receipt",
     "No of Bill",
     "Project Demand"

   ],
   "pathDataTypeMapping": [
     {
       "Total Collection": "amount"
     },
     {
       "Total Receipt": "number"
     },
     {
       "No of Bill": "number"
     },
     {
       "Project Demand": "amount"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },

 "wsTaxHeadDDR": {
   "chartName": "DSS_W&S_TAX_HEAD_BOUNDARY",
   "queries": [
      {
       "module": "COMMON",
       "requestQueryMap": "{\"tenantId\" : \"dataObject.tenantId\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"size\":0,\"query\":{\"bool\":{\"must\":[{\"range\":{\"dataObject.paymentDetails.receiptDate\":{\"from\":\"1585679400000\",\"to\":\"1617215399000\",\"include_lower\":true,\"include_upper\":true,\"boost\":1}}}],\"filter\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"WS\",\"WS.ONE_TIME_FEE\"],\"boost\":1}}],\"adjust_pure_negative\":true,\"boost\":1}},\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"bucket_script\":{\"buckets_path\":{\"c1\":\"Connection Fee>amount\",\"c2\":\"Water Charges>aggrFilter>amount\",\"c3\":\"Penalty>aggrFilter>amount\",\"c4\":\"Rebate>aggrFilter>amount\",\"c5\":\"Interest>aggrFilter>amount\",\"c6\":\"Water Cess>aggrFilter>amount\"},\"script\":{\"source\":\"params.c1+params.c2+params.c3+params.c4+params.c5+params.c6\"}}},\"Connection Fee\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"WS.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}},\"Water Charges\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_CHARGE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Penalty\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_TIME_PENALTY\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Rebate\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_TIME_REBATE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Interest\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_TIME_INTEREST\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Water Cess\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_WATER_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Total Transactions\":{\"value_count\":{\"field\":\"dataObject.paymentDetails.id.keyword\"}}}}}}}}"
     },
      {
       "module": "COMMON",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"Target Collectionz\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
     }
   ],
"filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],    
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "wsTaxHeadUlb",
   "action": "",
   "plotLabel": "Boundary",
   "postAggregationTheory" : "",
   "aggregationPaths": [
     "Connection Fee",
     "Water Charges",
     "Penalty",
     "Rebate",
     "Interest",
     "Water Cess",
     "Total Amount"

   ],
   "pathDataTypeMapping": [
     {
       "Connection Fee": "amount"
     },
     {
       "Water Charges": "amount"
     },
     {
       "Penalty": "amount"
     },
     {
       "Rebate": "amount"
     },
     {
       "Interest": "amount"
     },
     {
       "Water Cess": "amount"
     },
     {
       "Total Amount": "amount"
     },
     {
       "Total Transactions": "number"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "wsTaxHeadUlb": {
   "chartName": "DSS_W&S_TAX_HEAD_BOUNDARY",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"tenantId\" : \"dataObject.tenantId\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"bucket_script\":{\"buckets_path\":{\"c2\":\"Water Charges>aggrFilter>amount\",\"c3\":\"Penalty>aggrFilter>amount\",\"c4\":\"Rebate>aggrFilter>amount\",\"c5\":\"Interest>aggrFilter>amount\",\"c6\":\"Water Cess>aggrFilter>amount\"},\"script\":{\"source\":\"params.c2+params.c3+params.c4+params.c5+params.c6\"}}},\"Water Charges\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_CHARGE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Penalty\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_TIME_PENALTY\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Rebate\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_TIME_REBATE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Interest\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_TIME_INTEREST\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Water Cess\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_WATER_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Total Transactions\":{\"value_count\":{\"field\":\"dataObject.paymentDetails.id.keyword\"}}}}}}}}"
     },
      {
       "module": "COMMON",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"Target Collectionz\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
     }
   ],
  "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],    
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "wsTaxHeadWard",
   "action": "",
   "plotLabel": "Boundary",
   "postAggregationTheory" : "",
   "aggregationPaths": [
     
     "Water Charges",
     "Penalty",
     "Rebate",
     "Interest",
     "Water Cess",
     "Total Amount"

   ],
   "pathDataTypeMapping": [
    
     {
       "Water Charges": "amount"
     },
     {
       "Penalty": "amount"
     },
     {
       "Rebate": "amount"
     },
     {
       "Interest": "amount"
     },
     {
       "Water Cess": "amount"
     },
     {
       "Total Amount": "amount"
     },
     {
       "Total Transactions": "number"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "wsTaxHeadWard": {
   "chartName": "DSS_W&S_TAX_HEAD_BOUNDARY",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"tenantId\" : \"dataObject.tenantId\",\"wardId\" : \"domainObject.ward.name.keyword\",\"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"domainObject.ward.name.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"bucket_script\":{\"buckets_path\":{\"c2\":\"Water Charges>aggrFilter>amount\",\"c3\":\"Penalty>aggrFilter>amount\",\"c4\":\"Rebate>aggrFilter>amount\",\"c5\":\"Interest>aggrFilter>amount\",\"c6\":\"Water Cess>aggrFilter>amount\"},\"script\":{\"source\":\"params.c2+params.c3+params.c4+params.c5+params.c6\"}}},\"Water Charges\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_CHARGE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Penalty\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_TIME_PENALTY\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Rebate\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_TIME_REBATE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Interest\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_TIME_INTEREST\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Water Cess\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_WATER_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Total Transactions\":{\"value_count\":{\"field\":\"dataObject.paymentDetails.id.keyword\"}}}}}}}}"
     }
   ],
  "filterKeys": [
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "",
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Ward",
    "aggregationPaths": [
     
     "Water Charges",
     "Penalty",
     "Rebate",
     "Interest",
     "Water Cess",
     "Total Amount"

   ],
   "pathDataTypeMapping": [
     {
       "Connection Fee": "amount"
     },
     {
       "Water Charges": "amount"
     },
     {
       "Penalty": "amount"
     },
     {
       "Rebate": "amount"
     },
     {
       "Interest": "amount"
     },
     {
       "Water Cess": "amount"
     },
     {
       "Total Amount": "amount"
     },
     {
       "Total Transactions": "number"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 
  "wstotalApplication": {
   "chartName": "DSS_WS_TOTAL_APPLICATIONS",
   "queries": [
     {
       "module": "WS",
       "indexName": "water-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId\":\"pb.testing\"}},{\"term\":{\"Data.applicationStatus.keyword\":\"INITIATED\"}}]}},\"aggs\":{\"Total Applications\":{\"value_count\":{\"field\":\"Data.applicationNo.keyword\"}}}}}}",
       "requestQueryMap": "{\"tenantId\" : \"Data.tenantId.keyword\", \"wardId\" : \"Data.ward.name.keyword\"}",
       "dateRefField": "Data.additionalDetails.appCreatedDate"
     }
   ],
   "chartType": "metric",
   "valueType": "number",
   "action": "",
   "drillChart": "none",
   "aggregationPaths": [
     "Total Applications"
   ],
   "insight": {
   },
   "_comment": " "
 },



"waterConTaxHeadUlb": {
   "chartName": "DSS_WS_CON_TAX_HEAD_BOUNDARY",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"tenantId\" : \"dataObject.tenantId\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"bucket_script\":{\"buckets_path\":{\"c2\":\"Form Fee>aggrFilter>amount\",\"c3\":\"Scrutiny Fee>aggrFilter>amount\",\"c4\":\"One Time Fee>aggrFilter>amount\",\"c5\":\"Road Cutting charges>aggrFilter>amount\",\"c6\":\"Meter Charges>aggrFilter>amount\",\"c7\":\"Security Deposit>aggrFilter>amount\",\"c1\":\"Other Charges>aggrFilter>amount\",\"c11\":\"Labour Charges>aggrFilter>amount\",\"c12\":\"Adhoc Penalty>aggrFilter>amount\",\"c13\":\"Adhoc Rebate>aggrFilter>amount\"},\"script\":{\"source\":\"params.c1+params.c2+params.c3+params.c4+params.c5+params.c6+params.c7+params.c11+params.c12+params.c13\"}}},\"Other Charges\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_OTHER_CHARGE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Security Deposit\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_SECURITY_CHARGE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Meter Charges\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_METER_CHARGE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Road Cutting charges\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_ROAD_CUTTING_CHARGE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"One Time Fee\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_ONE_TIME_FEE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Scrutiny Fee\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_SCRUTINY_FEE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Form Fee\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_FORM_FEE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Interest\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_TIME_INTEREST\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Water Cess\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_WATER_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Labour Charges\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_LABOUR_CHARGE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Adhoc Penalty\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_ADHOC_PENALTY\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Adhoc Rebate\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_ADHOC_REBATE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Total Transactions\":{\"value_count\":{\"field\":\"dataObject.paymentDetails.id.keyword\"}}}}}}}}"
     },
      {
       "module": "COMMON",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"Target Collectionz\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
     }
   ],
  "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],    
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "waterConTaxHeadWard",
   "action": "",
   "plotLabel": "Boundary",
   "postAggregationTheory" : "",
   "aggregationPaths": [
     "Form Fee",
     "Scrutiny Fee",
     "One Time Fee",
     "Road Cutting charges",
     "Meter Charges",
     "Security Deposit",
     "Labour Charges",
     "Other Charges",
     "Adhoc Penalty",
     "Adhoc Rebate",
     "Total Amount"

   ],
   "pathDataTypeMapping": [
     {
       "Form Fee": "amount"
     },
     {
       "Scrutiny Fee": "amount"
     },
     {
       "One Time Fee": "amount"
     },
     {
       "Road Cutting charges": "amount"
     },
     {
       "Meter Charges": "amount"
     },
     {
       "Security Deposit": "amount"
     },
     {
       "Labour Charges": "amount"
     },
     {
       "Other Charges": "amount"
     },
      {
       "Adhoc Penalty": "amount"
     },
      {
       "Adhoc Rebate": "amount"
     },
      {
       "Total Amount": "amount"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "waterConTaxHeadWard": {
   "chartName": "DSS_WS_CON_TAX_HEAD_BOUNDARY",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"tenantId\" : \"dataObject.tenantId\",\"wardId\" : \"domainObject.ward.name.keyword\",\"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"domainObject.ward.name.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"bucket_script\":{\"buckets_path\":{\"c2\":\"Form Fee>aggrFilter>amount\",\"c3\":\"Scrutiny Fee>aggrFilter>amount\",\"c4\":\"One Time Fee>aggrFilter>amount\",\"c5\":\"Road Cutting charges>aggrFilter>amount\",\"c6\":\"Meter Charges>aggrFilter>amount\",\"c7\":\"Security Deposit>aggrFilter>amount\",\"c1\":\"Other Charges>aggrFilter>amount\",\"c11\":\"Labour Charges>aggrFilter>amount\",\"c12\":\"Adhoc Penalty>aggrFilter>amount\",\"c13\":\"Adhoc Rebate>aggrFilter>amount\"},\"script\":{\"source\":\"params.c1+params.c2+params.c3+params.c4+params.c5+params.c6+params.c7+params.c11+params.c12+params.c13\"}}},\"Other Charges\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_OTHER_CHARGE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Security Deposit\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_SECURITY_CHARGE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Meter Charges\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_METER_CHARGE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Road Cutting charges\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_ROAD_CUTTING_CHARGE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"One Time Fee\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_ONE_TIME_FEE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Scrutiny Fee\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_SCRUTINY_FEE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Form Fee\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_FORM_FEE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Interest\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_TIME_INTEREST\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Water Cess\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_WATER_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Labour Charges\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_LABOUR_CHARGE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Adhoc Penalty\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_ADHOC_PENALTY\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Adhoc Rebate\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"WS_ADHOC_REBATE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Total Transactions\":{\"value_count\":{\"field\":\"dataObject.paymentDetails.id.keyword\"}}}}}}}}"
     }
   ],
  "filterKeys": [
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "",
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Ward",
   "aggregationPaths": [
     "Form Fee",
     "Scrutiny Fee",
     "One Time Fee",
     "Road Cutting charges",
     "Meter Charges",
     "Security Deposit",
     "Labour Charges",
     "Other Charges",
     "Adhoc Penalty",
     "Adhoc Rebate",
     "Total Amount"

   ],
   "pathDataTypeMapping": [
     {
       "Form Fee": "amount"
     },
     {
       "Scrutiny Fee": "amount"
     },
     {
       "One Time Fee": "amount"
     },
     {
       "Road Cutting charges": "amount"
     },
     {
       "Meter Charges": "amount"
     },
     {
       "Security Deposit": "amount"
     },
     {
       "Labour Charges": "amount"
     },
     {
       "Other Charges": "amount"
     },
      {
       "Adhoc Penalty": "amount"
     },
      {
       "Adhoc Rebate": "amount"
     },
     {
       "Total Amount": "amount"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 


 "wstotalConnection": {
   "chartName": "DSS_WS_TOTAL_CONNECTIONS",
   "queries": [
     {
       "module": "WS",
       "indexName": "water-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total Connection\":{\"value_count\":{\"field\":\"Data.connectionNo.keyword\"}}}}}}",
       "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\", \"wardId\" : \"Data.ward.name.keyword\"}",
       "dateRefField": "Data.connectionExecutionDate"
     }
   ],
   "chartType": "metric",
   "valueType": "number",
   "action": "",
   "drillChart": "none",
   "aggregationPaths": [
     "Total Connection"
   ],
   "insight": {
   },
   "_comment": " "
 },
 

 "wsActiveUlbs": {
   "chartName": "DSS_W&S_ACTIVE_ULBS",
   "queries": [
     {
       "module": "WS",
       "indexName": "water-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Active ULBs1\":{\"cardinality\":{\"field\":\"Data.tenantId.keyword\"}}}}}}",
       "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\", \"wardId\" : \"Data.ward.name.keyword\"}",
        "dateRefField": "Data.additionalDetails.appCreatedDate"
     }
   ],
   "chartType": "metric",
   "valueType": "number",
   "action": "",
   "drillChart": "none",
   "aggregationPaths": [
     "Active ULBs1"
   ],
   "insight": {
   },
   "_comment": " "
 },
 "wsNewWaterConnection": {
   "chartName": "DSS_W&S_NEW_WATER_CONNECTIONS",
   "queries": [
     {
       "module": "WS",
       "indexName": "wsapplications",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"applicationstatus.keyword\":\"Cancelled\"}}],\"must\":[{\"terms\":{\"servicetype.keyword\":[\"Water Charges\"]}}]}},\"aggs\":{\"Water Connections\":{\"value_count\":{\"field\":\"id.keyword\"}}}}}}",
       "requestQueryMap": "{\"tenantId\" : \"cityname.keyword\", \"wardId\" : \"block.keyword\"}",
       "dateRefField": "@timestamp"
     }
   ],
   "translateTenantCode": true,
   "chartType": "metric",
   "valueType": "number",
   "action": "",
   "drillChart": "none",
   "aggregationPaths": [
     "Water Connections"
   ],
   "insight": {
   },
   "_comment": " "
 },
 "wsNewSewerageConnection": {
   "chartName": "DSS_W&S_NEW_WATER_CONNECTIONS",
   "queries": [
     {
       "module": "WS",
       "indexName": "wsapplications",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"applicationstatus.keyword\":\"Cancelled\"}}],\"must\":[{\"terms\":{\"servicetype.keyword\":[\"Water Charges\"]}}]}},\"aggs\":{\"Sewerage Connections\":{\"value_count\":{\"field\":\"id.keyword\"}}}}}}",
       "requestQueryMap": "{\"tenantId\" : \"cityname.keyword\", \"wardId\" : \"block.keyword\"}",
       "dateRefField": "@timestamp"
     }
   ],
   "translateTenantCode": true,
   "chartType": "metric",
   "valueType": "number",
   "action": "",
   "drillChart": "none",
   "aggregationPaths": [
     "Sewerage Connections"
   ],
   "insight": {
   },
   "_comment": " "
 },

 "wscumulativeConnections": {
   "chartName": "DSS_W&S_CUMULATIVE_COLLECTION",
   "queries": [
     {
       "module": "WS",
       "indexName": "water-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}},{\"term\":{\"Data.applicationStatus.keyword\":\"INITIATED\"}}]}},\"aggs\":{\"Total Applications\":{\"date_histogram\":{\"field\":\"Data.additionalDetails.appCreatedDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.applicationNo.keyword\"}}}}}}}}",
       "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\", \"wardId\" : \"block.keyword\"}",
       "dateRefField": "Data.additionalDetails.appCreatedDate"
     },
     {
       "module": "WS",
       "indexName": "water-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}},{\"term\":{\"Data.applicationStatus.keyword\":\"INITIATED\"}}]}},\"aggs\":{\"Total Connections\":{\"date_histogram\":{\"field\":\"Data.connectionExecutionDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.connectionNo.keyword\"}}}}}}}}",
       "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\", \"wardId\" : \"block.keyword\"}",
       "dateRefField": "Data.connectionExecutionDate"
     }
   ],
   "chartType": "line",
   "valueType": "number",
   "action": "",
   "drillChart": "none",
   "documentType": "_doc",
   "aggregationPaths": [
     "Total Applications",
     "Total Connections"

   ],
   "isCumulative": true,
   "interval": "week",
   "insight": {
   },
   "_comment": " "
 },

 "wsConsumersByConnectionType": {
   "chartName": "DSS_W&S_WATER_CONNECTION_BY_USAGE",
   "queries": [
     {
       "module": "WS",
       "dateRefField": "Data.connectionExecutionDate",
       "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\", \"wardId\" : \"Data.ward.name.keyword\"}",
       "indexName": "water-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.status.keyword\":[\"Active\"]}},{\"exists\":{\"field\":\"Data.connectionNo\"}}],\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Water Consumers by Connection Type\":{\"terms\":{\"field\":\"Data.connectionType.keyword\",\"size\":170}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Water Consumers by Connection Type"
   ],
   "insight": {
   },
   "_comment": " "
 },

 "wsConsumersByUsageType": {
   "chartName": "DSS_W&S_CONNECTION_BY_USAGE",
   "queries": [
     {
       "module": "WS",
       "dateRefField": "Data.connectionExecutionDate",
       "requestQueryMap": "{\"tenantId\" : \"Data.tenantId.keyword\", \"wardId\" : \"Data.ward.name.keyword\"}",
       "indexName": "water-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.status.keyword\":[\"Active\"]}},{\"exists\":{\"field\":\"Data.connectionNo\"}}],\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Water Consumers by Usage Type\":{\"terms\":{\"field\":\"Data.propertyDetails.usageCategory.keyword\",\"size\":170}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Water Consumers by Usage Type"
   ],
   "insight": {
   },
   "_comment": " "
 },

 "wsConsumersByChannel": {
   "chartName": "DSS_W&S_CONNECTION_BY_STATUS",
   "queries": [
     {
      "module": "WS",
       "dateRefField": "Data.additionalDetails.appCreatedDate",
       "requestQueryMap": "{\"tenantId\" : \"Data.tenantId.keyword\", \"wardId\" : \"block.keyword\"}",
       "indexName": "water-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.status.keyword\":[\"Active\"]}}],\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Water Connections by Status\":{\"terms\":{\"field\":\"Data.applicationStatus.keyword\",\"size\":170}}}}}}"
       }
   ],
   "chartType": "pie",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Water Connections by Status"
   ],
   "insight": {
   },
   "_comment": " "
 },

 "wsConnectionAgeingDDR": {
   "chartName": "DSS_W&S_CONNECTION_AGEING",
   "queries": [
     {
       "module": "WS",
       "requestQueryMap": "{\"tenantId\" : \"Data.tenantId.keyword\", \"wardId\" : \"block.keyword\" }",
       "dateRefField": "@timestamp",
       "indexName": "water-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.applicationStatus.keyword\":[\"PENDING_APPROVAL_FOR_CONNECTION\",\"REJECTED\",\"PENDING_FOR_FIELD_INSPECTION\",\"PENDING_FOR_DOCUMENT_VERIFICATION\"]}}]}},\"aggs\":{\"Pending lt 3 days\":{\"date_range\":{\"field\":\"@timestamp\",\"ranges\":[{\"from\":\"now-3d/d\",\"to\":\"now\"}]}},\"Pending gt 3 and lt 7 days\":{\"date_range\":{\"field\":\"@timestamp\",\"ranges\":[{\"from\":\"now-1w\",\"to\":\"now-3d/d\"}]}},\"Pending gt 7 and lt 15 days\":{\"date_range\":{\"field\":\"@timestamp\",\"ranges\":[{\"from\":\"now-15d\",\"to\":\"now-1w\"}]}},\"Pending gt 15 days\":{\"date_range\":{\"field\":\"@timestamp\",\"ranges\":[{\"from\":\"now-2y\",\"to\":\"now-15d\"}]}}}}}}"
     }
   ],
   "isMdmsEnabled": true,
   "translateTenantCode": true,
   "filterKeys": [
     {"key": "tenantId", "column": "DDRs"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "wsConnectionAgeingUlb",
   "action": "",
   "plotLabel": "DDRs",
   "isPostResponseHandler": true,
   "postAggregationTheory" : "",
   "aggregationPaths": [
     "Pending lt 3 days",
     "Pending gt 3 and lt 7 days",
     "Pending gt 7 and lt 15 days",
     "Pending gt 15 days"
   ],
   "computedFields": [
     {
       "postAggregationTheory" : "",
       "actionName": "AdditiveComputedField",
       "fields" : [ "Pending lt 3 days", "Pending gt 3 and lt 7 days", "Pending gt 7 and lt 15 days", "Pending gt 15 days"],
       "newField" : "Total Pending",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     }
   ],

   "insight": {
   },
   "_comment": ""
 },
 "wsConnectionAgeingUlb": {
   "chartName": "DSS_W&S_CONNECTION_AGEING",
   "queries": [
     {
       "module": "WS",
       "requestQueryMap": "{\"tenantId\" : \"cityname.keyword\", \"wardId\" : \"block.keyword\" }",
       "dateRefField": "applicationdate",
       "indexName": "water-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"servicetype.keyword\":[\"Water Charges\",\"Sewerage Charges\"]}},{\"terms\":{\"applicationstatus.keyword\":[\"Created\",\"Rejected\",\"Verified\",\"verified\"]}}]}},\"aggs\":{\"2\":{\"terms\":{\"field\":\"cityname.keyword\",\"size\":170,\"order\":{\"_key\":\"asc\"}},\"aggs\":{\"Pending lt 3 days\":{\"date_range\":{\"field\":\"applicationdate\",\"ranges\":[{\"from\":\"now-3d/d\",\"to\":\"now\"}]}},\"Pending gt 3 and lt 7 days\":{\"date_range\":{\"field\":\"applicationdate\",\"ranges\":[{\"from\":\"now-1w\",\"to\":\"now-3d/d\"}]}},\"Pending gt 7 and lt 15 days\":{\"date_range\":{\"field\":\"applicationdate\",\"ranges\":[{\"from\":\"now-15d\",\"to\":\"now-1w\"}]}},\"Pending gt 15 days\":{\"date_range\":{\"field\":\"applicationdate\",\"ranges\":[{\"from\":\"now-2y\",\"to\":\"now-15d\"}]}}}}}}}}"
     }
   ],
   "isMdmsEnabled": false,
   "translateTenantCode": true,
   "filterKeys": [
     {"key": "tenantId", "column": "ULB"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "wsConnectionAgeingWard",
   "action": "",
   "plotLabel": "ULB",
   "isPostResponseHandler": true,
   "postAggregationTheory" : "",
   "aggregationPaths": [
     "Pending lt 3 days",
     "Pending gt 3 and lt 7 days",
     "Pending gt 7 and lt 15 days",
     "Pending gt 15 days"

   ],
   "computedFields": [
     {
       "postAggregationTheory" : "",
       "actionName": "AdditiveComputedField",
       "fields" : [ "Pending lt 3 days", "Pending gt 3 and lt 7 days", "Pending gt 7 and lt 15 days", "Pending gt 15 days"],
       "newField" : "Total Pending",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     }
   ],

   "insight": {
   },
   "_comment": ""
 },
 "wsConnectionAgeingWard": {
   "chartName": "DSS_W&S_CONNECTION_AGEING",
   "queries": [
     {
       "module": "WS",
       "requestQueryMap": "{\"tenantId\" : \"cityname.keyword\", \"wardId\" : \"block.keyword\" }",
       "dateRefField": "applicationdate",
       "indexName": "wsapplications",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"servicetype.keyword\":[\"Water Charges\",\"Sewerage Charges\"]}},{\"terms\":{\"applicationstatus.keyword\":[\"Created\",\"Rejected\",\"Verified\",\"verified\"]}}]}},\"aggs\":{\"2\":{\"terms\":{\"field\":\"block.keyword\",\"size\":170,\"order\":{\"_key\":\"asc\"}},\"aggs\":{\"Pending lt 3 days\":{\"date_range\":{\"field\":\"applicationdate\",\"ranges\":[{\"from\":\"now-3d/d\",\"to\":\"now\"}]}},\"Pending gt 3 and lt 7 days\":{\"date_range\":{\"field\":\"applicationdate\",\"ranges\":[{\"from\":\"now-1w\",\"to\":\"now-3d/d\"}]}},\"Pending gt 7 and lt 15 days\":{\"date_range\":{\"field\":\"applicationdate\",\"ranges\":[{\"from\":\"now-15d\",\"to\":\"now-1w\"}]}},\"Pending gt 15 days\":{\"date_range\":{\"field\":\"applicationdate\",\"ranges\":[{\"from\":\"now-2y\",\"to\":\"now-15d\"}]}}}}}}}}"
     }
   ],
   "isMdmsEnabled": false,
   "translateTenantCode": true,
   "filterKeys": [
     {"key": "tenantId", "column": "Ward"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "",
   "action": "",
   "plotLabel": "Ward",
   "isPostResponseHandler": true,
   "postAggregationTheory" : "",
   "aggregationPaths": [
     "Pending lt 3 days",
     "Pending gt 3 and lt 7 days",
     "Pending gt 7 and lt 15 days",
     "Pending gt 15 days"

   ],
   "computedFields": [
     {
       "postAggregationTheory" : "",
       "actionName": "AdditiveComputedField",
       "fields" : [ "Pending lt 3 days", "Pending gt 3 and lt 7 days", "Pending gt 7 and lt 15 days", "Pending gt 15 days"],
       "newField" : "Total Pending",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     }
   ],

   "insight": {
   },
   "_comment": ""
 },
 
 "_comment": "SW charts below-----------------------------------------------------------------------",
 "swtodaysCollection": {
   "chartName": "DSS_SW_TODAYS_COLLECTION",
   "queries": [
     {
       "module": "SW",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"SW\",\"SW.ONE_TIME_FEE\"]}},{\"range\":{\"dataObject.paymentDetails.receiptDate\":{\"gt\":\"now-1d/d\",\"lte\":\"now\"}}}]}},\"aggs\":{\"Todays Collection\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}",
       "requestQueryMap": "{\"tenantId\" : \"dataObject.tenantId\", \"module\" : \"dataObject.paymentDetails.businessService.keyword\",\"wardId\" : \"block.keyword\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate"
     }
   ],
    "translateTenantCode": true,
   "chartType": "metric",
   "valueType": "amount",
   "action": "",
   "drillChart": "none",
   "aggregationPaths": [
     "Todays Collection"
   ],
   "insight": {
   },
   "_comment": "SW total collections "
 },
 "swtotalCollection": {
   "chartName": "DSS_SW_TOTAL_COLLECTION",
   "queries": [
    
      {
       "module": "SW",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGG\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"SW\",\"SW.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Total Collection23\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}"
     }
   ],
   
   "chartType": "metric",
   "valueType": "amount",
   "action": "",
   "drillChart": "none",
   "aggregationPaths": [
     "Total Collection23"
   ],
   "insight": {
   },
   "_comment": "SW total collections "
 },
 
 "swConCollection": {
   "chartName": "DSS_SW_CONNECTION_COLLECTION",
   "queries": [
    
      {
       "module": "SW",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGG\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"SW.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Total Collection23\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}"
     }
   ],
   
   "chartType": "metric",
   "valueType": "amount",
   "action": "",
   "drillChart": "none",
   "aggregationPaths": [
     "Total Collection23"
   ],
   "insight": {
   },
   "_comment": "SW Connection collections "
 },
 
 "swChargesCollection": {
   "chartName": "DSS_SEWERAGE_CHARGES_COLLECTION",
   "queries": [
    
      {
       "module": "SW",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"wardId\" : \"domainObject.ward.name.keyword\",\"module\" : \"dataObject.paymentDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGG\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"SW\"]}}]}},\"aggs\":{\"Total Collection23\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}"
     }
   ],
   
   "chartType": "metric",
   "valueType": "amount",
   "action": "",
   "drillChart": "none",
   "aggregationPaths": [
     "Total Collection23"
   ],
   "insight": {
   },
   "_comment": "SW Water Charges collections "
 },
 "swtargetCollection": {
   "chartName": "DSS_SW_TARGET_COLLECTION",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"Target Collection\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}"
     }
   ],
   "chartType": "metric",
   "valueType": "amount",
   "action": "",
   "drillChart": "none",
   "documentType": "_doc",
   "aggregationPaths": [
     "Target Collection"
   ],
   "isDayUnit": true,
   "postAggregationTheory" : "repsonseToDifferenceOfDates",
   "insight": {
   },
   "_comment": " "
 },
 "swtargetAchieved": {
   "chartName": "DSS_SW_TARGET_ACHIEVED",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\r\n  \"module\" : \"businessService.keyword\", \n\"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"Actual collection\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}"
     },
     {
       "module": "SW",
       "indexName": "dss-payment_v2",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "aggrQuery": "{\"aggs\":{\"AGG\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"SW\",\"SW.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}",
       "requestQueryMap": "{\"tenantId\" : \"dataObject.tenantId\", \"wardId\" : \"Data.ward.name.keyword\"}"
     }

   ],
   "chartType": "metric",
   "valueType": "percentage",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "percentage",
   "aggregationPaths": [
     "Total Collection",
     "Actual collection"
   ],
   "insight": {
     "chartResponseMap" : "swtargetAchieved",
     "action" : "differenceOfNumbers",
     "upwardIndicator" : "positive",
     "downwardIndicator" : "negative",
     "textMessage" : "$indicator$value% than last $insightInterval",
     "colorCode" : "#228B22",
     "insightInterval" : "month"
   },
   "_comment": " "
 },
 "swcumulativeCollections": {
   "chartName": "DSS_SW_TOTAL_CUMULATIVE_COLLECTION",
   "queries": [
     {
       "module": "SW",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"tenantId\" : \"dataObject.tenantId\", \"wardId\" : \"Data.ward.name.keyword\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"SW\",\"SW.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Collections\":{\"date_histogram\":{\"field\":\"dataObject.paymentDetails.receiptDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     }
   ],
   "chartType": "line",
   "valueType": "amount",
   "action": "",
   "drillChart": "none",
   "documentType": "_doc",
   "aggregationPaths": [
     "Collections"
   ],
   "isCumulative": true,
   "interval": "month",
   "insight": {
   },
   "_comment": " "
 },

 "swtopPerformingUlbs": {
   "chartName": "DSS_SW_TOP_3_PERFORMING_ULBS",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\r\n  \"module\" : \"businessService.keyword\", \n\"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"Target Collection\":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"desc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
     },
     {
       "module": "SW",
       "requestQueryMap": "{\"tenantId\" : \"dataObject.tenantId\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"SW\",\"SW.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Total Collection\":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"desc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     }
   ],
   "chartType": "perform",
   "valueType": "percentage",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "percentage",
   "plotLabel": "DSS_TARGET_ACHIEVED",
   "order": "desc",
   "limit": 3,
   "aggregationPaths": [
     "Total Collection","Target Collection"
   ],
   "insight": {
   },
   "_comment": " Top Performing Ulbs for target achieved"
 },
 "swbottomPerformingUlbs": {
   "chartName": "DSS_SW_BOTTOM_3_PERFORMING_ULBS",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\r\n  \"module\" : \"businessService.keyword\", \n\"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"Target Collection\":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"asc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
     },
      {
       "module": "SW",
       "requestQueryMap": "{\"tenantId\" : \"dataObject.tenantId\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"SW\",\"SW.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Total Collection\":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"asc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     }
   ],
   "chartType": "perform",
   "valueType": "percentage",
   "drillChart": "none",
   "documentType": "_doc",
   "action": "percentage",
   "plotLabel": "DSS_TARGET_ACHIEVED",
   "order": "asc",
   "limit": 3,
   "aggregationPaths": [
     "Total Collection", "Target Collection"
   ],
   "insight": {
   },
   "_comment": " Bottom Performing Ulbs for target achieved"
 },
 "swcollectionByUsage": {
   "chartName": "DSS_SW_COLLECTION_BY_CONNECTION_TYPE",
   "queries": [
     {
       "module": "SW",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "requestQueryMap": "{\"tenantId\" : \"dataObject.tenantId\", \"wardId\" : \"block.keyword\"}",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"Connection Type\":{\"terms\":{\"field\":\"domainObject.connectionType.keyword\"},\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"term\":{\"dataObject.bill.status.keyword\":\"Cancelled\"}}],\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"SW\",\"SW.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"Connection type\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Connection Type"
   ],
   "insight": {
   },
   "_comment": " "
 },

 "swFinancialIndicatorDDR": {
   "chartName": "DSS_SW_DEMAND_COLLECTION_BOUNDARY",
   "queries": [
     {
       "module": "SW",
       "requestQueryMap": "{\"tenantId\" : \"tenantId\" : \"dataObject.tenantId\", \"wardId\" : \"block.keyword\" }",
       "dateRefField": "receiptdate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"aggs\":{\"Total Collection\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"status\":\"Cancelled\"}}]}},\"aggs\":{\"collection\":{\"sum\":{\"field\":\"totalamount\"}}}},\"Total Receipt\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"status\":\"Cancelled\"}}]}},\"aggs\":{\"receipt\":{\"value_count\":{\"field\":\"receiptnumber.keyword\"}}}}}}"
     },
     {
       "module": "SW",
       "requestQueryMap": "{ \"tenantId\" : \"dataObject.tenantId\", \"wardId\" : \"block.keyword\"}",
       "dateRefField": "billdate",
       "indexName": "demandbillconsumers",
       "aggrQuery": "{\"aggs\":{\"No of Bill\":{\"filter\":{\"term\":{\"billgenerated\":true}},\"aggs\":{\"approved\":{\"value_count\":{\"field\":\"installmentfrom.keyword\"}}}}}}"
     },
     {
       "module": "SW",
       "requestQueryMap": "{ \"tenantId\" : \"dataObject.tenantId\", \"wardId\" : \"block.keyword\"}",
       "dateRefField": "@timestamp",
       "indexName": "projecteddemand-consumers",
       "aggrQuery": "{\"aggs\":{\"Project Demand\":{\"sum\":{\"field\":\"projecteddemand\"}}}}"
     }
   ],
   "isMdmsEnabled": true,
   "translateTenantCode": true,
   "filterKeys": [
     {"key": "tenantId", "column": "DDRs"}
   ],
   "chartType": "table",
   "valueType": "number",
   "drillChart": "swFinancialIndicatorUlb",
   "action": "",
   "plotLabel": "DDRs",
   "isPostResponseHandler": true,
   "postAggregationTheory" : "",
   "aggregationPaths": [
     "Total Collection",
     "Total Receipt",
     "No of Bill",
     "Project Demand"

   ],
   "pathDataTypeMapping": [
     {
       "Total Collection": "amount"
     },
     {
       "Total Receipt": "number"
     },
     {
       "No of Bill": "number"
     },
     {
       "Project Demand": "amount"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "swFinancialIndicatorUlb": {
   "chartName": "DSS_SW_DEMAND_COLLECTION_BOUNDARY",
   "queries": [
     {
       "module": "SW",
       "requestQueryMap": "{\"tenantId\" : \"cityname.keyword\", \"wardId\" : \"block.keyword\" }",
       "dateRefField": "receiptdate",
       "indexName": "receipts-consumers",
       "aggrQuery": "{\"aggs\":{\"ULB\":{\"terms\":{\"field\":\"cityname.keyword\"},\"aggs\":{\"Total Collection\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"status\":\"Cancelled\"}}]}},\"aggs\":{\"collection\":{\"sum\":{\"field\":\"totalamount\"}}}},\"Total Receipt\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"status\":\"Cancelled\"}}]}},\"aggs\":{\"receipt\":{\"value_count\":{\"field\":\"receiptnumber.keyword\"}}}}}}}}"
     },
     {
       "module": "SW",
       "requestQueryMap": "{ \"tenantId\" : \"cityname.keyword\", \"wardId\" : \"block.keyword\"}",
       "dateRefField": "billdate",
       "indexName": "demandbillconsumers",
       "aggrQuery": "{\"aggs\":{\"ULB\":{\"terms\":{\"field\":\"cityname.keyword\"},\"aggs\":{\"No of Bill\":{\"filter\":{\"term\":{\"billgenerated\":true}},\"aggs\":{\"approved\":{\"value_count\":{\"field\":\"installmentfrom.keyword\"}}}}}}}}"
     },
     {
       "module": "SW",
       "requestQueryMap": "{ \"tenantId\" : \"cityname.keyword\", \"wardId\" : \"block.keyword\"}",
       "dateRefField": "@timestamp",
       "indexName": "projecteddemand-consumers",
       "aggrQuery": "{\"aggs\":{\"ULB\":{\"terms\":{\"field\":\"cityname.keyword\"},\"aggs\":{\"Project Demand\":{\"sum\":{\"field\":\"projecteddemand\"}}}}}}"
     }
   ],
   "isMdmsEnabled": false,
   "translateTenantCode": true,
   "filterKeys": [
     {"key": "tenantId", "column": "ULB"}
   ],
   "chartType": "table",
   "valueType": "number",
   "drillChart": "swFinancialIndicatorWard",
   "action": "",
   "plotLabel": "ULB",
   "isPostResponseHandler": true,
   "postAggregationTheory" : "",
   "aggregationPaths": [
     "Total Collection",
     "Total Receipt",
     "No of Bill",
     "Project Demand"

   ],
   "pathDataTypeMapping": [
     {
       "Total Collection": "amount"
     },
     {
       "Total Receipt": "number"
     },
     {
       "No of Bill": "number"
     },
     {
       "Project Demand": "amount"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "swFinancialIndicatorWard": {
   "chartName": "DSS_SW_DEMAND_COLLECTION_BOUNDARY",
   "queries": [
     {
       "module": "SW",
       "requestQueryMap": "{ \"tenantId\" : \"cityname.keyword\", \"wardId\" : \"block.keyword\" }",
       "dateRefField": "receiptdate",
       "indexName": "receipts-consumers",
       "aggrQuery": "{\"aggs\":{\"Ward\":{\"terms\":{\"field\":\"block\"},\"aggs\":{\"Total Collection\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"status\":\"Cancelled\"}}]}},\"aggs\":{\"collection\":{\"sum\":{\"field\":\"totalamount\"}}}},\"Total Receipt\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"status\":\"Cancelled\"}}]}},\"aggs\":{\"receipt\":{\"value_count\":{\"field\":\"receiptnumber.keyword\"}}}}}}}}"
     },
     {
       "module": "SW",
       "requestQueryMap": "{ \"tenantId\" : \"cityname.keyword\", \"wardId\" : \"block.keyword\" }",
       "dateRefField": "billdate",
       "indexName": "demandbillconsumers",
       "aggrQuery": "{\"aggs\":{\"Ward\":{\"terms\":{\"field\":\"block.keyword\"},\"aggs\":{\"No of Bill\":{\"filter\":{\"term\":{\"billgenerated\":true}},\"aggs\":{\"approved\":{\"value_count\":{\"field\":\"installmentfrom.keyword\"}}}}}}}}"
     },
     {
       "module": "SW",
       "requestQueryMap": "{ \"tenantId\" : \"cityname.keyword\", \"wardId\" : \"block.keyword\" }",
       "dateRefField": "@timestamp",
       "indexName": "projecteddemand-consumers",
       "aggrQuery": "{\"aggs\":{\"Ward\":{\"terms\":{\"field\":\"block.keyword\"},\"aggs\":{\"Project Demand\":{\"sum\":{\"field\":\"projecteddemand\"}}}}}}"
     }
   ],
   "isMdmsEnabled": false,
   "translateTenantCode": true,
   "filterKeys": [

   ],
   "chartType": "table",
   "valueType": "number",
   "drillChart": "",
   "action": "",
   "plotLabel": "Ward",
   "isPostResponseHandler": true,
   "postAggregationTheory" : "",
   "aggregationPaths": [
     "Total Collection",
     "Total Receipt",
     "No of Bill",
     "Project Demand"

   ],
   "pathDataTypeMapping": [
     {
       "Total Collection": "amount"
     },
     {
       "Total Receipt": "number"
     },
     {
       "No of Bill": "number"
     },
     {
       "Project Demand": "amount"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },

 "swTaxHeadDDR": {
   "chartName": "DSS_SW_TAX_HEAD_BOUNDARY",
   "queries": [
      {
       "module": "COMMON",
       "requestQueryMap": "{\"tenantId\" : \"dataObject.tenantId\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"size\":0,\"query\":{\"bool\":{\"must\":[{\"range\":{\"dataObject.paymentDetails.receiptDate\":{\"from\":\"1585679400000\",\"to\":\"1617215399000\",\"include_lower\":true,\"include_upper\":true,\"boost\":1}}}],\"filter\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"SW\",\"SW.ONE_TIME_FEE\"],\"boost\":1}}],\"adjust_pure_negative\":true,\"boost\":1}},\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"bucket_script\":{\"buckets_path\":{\"c1\":\"Connection Fee>amount\",\"c2\":\"Water Charges>aggrFilter>amount\",\"c3\":\"Penalty>aggrFilter>amount\",\"c4\":\"Rebate>aggrFilter>amount\",\"c5\":\"Interest>aggrFilter>amount\",\"c6\":\"Water Cess>aggrFilter>amount\"},\"script\":{\"source\":\"params.c1+params.c2+params.c3+params.c4+params.c5+params.c6\"}}},\"Connection Fee\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"dataObject.paymentDetails.businessService.keyword\":[\"SW.ONE_TIME_FEE\"]}}]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.amountPaid\"}}}},\"Water Charges\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_CHARGE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Penalty\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_TIME_PENALTY\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Rebate\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_TIME_REBATE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Interest\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_TIME_INTEREST\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Water Cess\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_WATER_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Total Transactions\":{\"value_count\":{\"field\":\"dataObject.paymentDetails.id.keyword\"}}}}}}}}"
     },
      {
       "module": "COMMON",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"Target Collectionz\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
     }
   ],
"filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],    
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "swTaxHeadUlb",
   "action": "",
   "plotLabel": "Boundary",
   "postAggregationTheory" : "",
   "aggregationPaths": [
     "Connection Fee",
     "Water Charges",
     "Penalty",
     "Rebate",
     "Interest",
     "Water Cess",
     "Total Amount"

   ],
   "pathDataTypeMapping": [
     {
       "Connection Fee": "amount"
     },
     {
       "Water Charges": "amount"
     },
     {
       "Penalty": "amount"
     },
     {
       "Rebate": "amount"
     },
     {
       "Interest": "amount"
     },
     {
       "Water Cess": "amount"
     },
     {
       "Total Amount": "amount"
     },
     {
       "Total Transactions": "number"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "swTaxHeadUlb": {
   "chartName": "DSS_SW_TAX_HEAD_BOUNDARY",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"tenantId\" : \"dataObject.tenantId\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"bucket_script\":{\"buckets_path\":{\"c2\":\"Water Charges>aggrFilter>amount\",\"c3\":\"Penalty>aggrFilter>amount\",\"c4\":\"Rebate>aggrFilter>amount\",\"c5\":\"Interest>aggrFilter>amount\",\"c6\":\"Water Cess>aggrFilter>amount\"},\"script\":{\"source\":\"params.c2+params.c3+params.c4+params.c5+params.c6\"}}},\"Water Charges\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_CHARGE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Penalty\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_TIME_PENALTY\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Rebate\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_TIME_REBATE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Interest\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_TIME_INTEREST\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Water Cess\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_WATER_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Total Transactions\":{\"value_count\":{\"field\":\"dataObject.paymentDetails.id.keyword\"}}}}}}}}"
     },
      {
       "module": "COMMON",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"Target Collectionz\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
     }
   ],
  "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],    
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "swTaxHeadWard",
   "action": "",
   "plotLabel": "Boundary",
   "postAggregationTheory" : "",
   "aggregationPaths": [
     
     "Water Charges",
     "Penalty",
     "Rebate",
     "Interest",
     "Water Cess",
     "Total Amount"

   ],
   "pathDataTypeMapping": [
    
     {
       "Water Charges": "amount"
     },
     {
       "Penalty": "amount"
     },
     {
       "Rebate": "amount"
     },
     {
       "Interest": "amount"
     },
     {
       "Water Cess": "amount"
     },
     {
       "Total Amount": "amount"
     },
     {
       "Total Transactions": "number"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "swTaxHeadWard": {
   "chartName": "DSS_SW_TAX_HEAD_BOUNDARY",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"tenantId\" : \"dataObject.tenantId\",\"wardId\" : \"domainObject.ward.name.keyword\",\"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"domainObject.ward.name.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"bucket_script\":{\"buckets_path\":{\"c2\":\"Water Charges>aggrFilter>amount\",\"c3\":\"Penalty>aggrFilter>amount\",\"c4\":\"Rebate>aggrFilter>amount\",\"c5\":\"Interest>aggrFilter>amount\",\"c6\":\"Water Cess>aggrFilter>amount\"},\"script\":{\"source\":\"params.c2+params.c3+params.c4+params.c5+params.c6\"}}},\"Water Charges\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_CHARGE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Penalty\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_TIME_PENALTY\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Rebate\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_TIME_REBATE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Interest\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_TIME_INTEREST\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Water Cess\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_WATER_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Total Transactions\":{\"value_count\":{\"field\":\"dataObject.paymentDetails.id.keyword\"}}}}}}}}"
     }
   ],
  "filterKeys": [
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "",
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Ward",
    "aggregationPaths": [
     
     "Water Charges",
     "Penalty",
     "Rebate",
     "Interest",
     "Water Cess",
     "Total Amount"

   ],
   "pathDataTypeMapping": [
     {
       "Connection Fee": "amount"
     },
     {
       "Water Charges": "amount"
     },
     {
       "Penalty": "amount"
     },
     {
       "Rebate": "amount"
     },
     {
       "Interest": "amount"
     },
     {
       "Water Cess": "amount"
     },
     {
       "Total Amount": "amount"
     },
     {
       "Total Transactions": "number"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 
  "swtotalApplication": {
   "chartName": "DSS_SW_TOTAL_APPLICATIONS",
   "queries": [
     {
       "module": "SW",
       "indexName": "sewerage-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}},{\"term\":{\"Data.applicationStatus.keyword\":\"INITIATED\"}}]}},\"aggs\":{\"Total Applications\":{\"value_count\":{\"field\":\"Data.applicationNo.keyword\"}}}}}}",
       "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\", \"wardId\" : \"block.keyword\"}",
       "dateRefField": "Data.additionalDetails.appCreatedDate"
     }
   ],
   "chartType": "metric",
   "valueType": "number",
   "action": "",
   "drillChart": "none",
   "aggregationPaths": [
     "Total Applications"
   ],
   "insight": {
   },
   "_comment": " "
 },



"swConTaxHeadUlb": {
   "chartName": "DSS_SW_CON_TAX_HEAD_BOUNDARY",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"tenantId\" : \"dataObject.tenantId\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"bucket_script\":{\"buckets_path\":{\"c2\":\"Form Fee>aggrFilter>amount\",\"c3\":\"Scrutiny Fee>aggrFilter>amount\",\"c4\":\"One Time Fee>aggrFilter>amount\",\"c5\":\"Road Cutting charges>aggrFilter>amount\",\"c6\":\"Meter Charges>aggrFilter>amount\",\"c7\":\"Security Deposit>aggrFilter>amount\",\"c9\":\"Adhoc Penalty>aggrFilter>amount\",\"c10\":\"Adhoc Rebate>aggrFilter>amount\",\"c1\":\"Other Charges>aggrFilter>amount\",\"c11\":\"Labour Charges>aggrFilter>amount\"},\"script\":{\"source\":\"params.c1+params.c2+params.c3+params.c4+params.c5+params.c6+params.c7+params.c9+params.c10+params.c11\"}}},\"Other Charges\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_OTHER_CHARGE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Adhoc Rebate\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_ADHOC_REBATE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Adhoc Penalty\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_ADHOC_PENALTY\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Security Deposit\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_SECURITY_CHARGE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Meter Charges\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_METER_CHARGE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Road Cutting charges\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_ROAD_CUTTING_CHARGE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"One Time Fee\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_ONE_TIME_FEE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Scrutiny Fee\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_SCRUTINY_FEE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Form Fee\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_FORM_FEE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Interest\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_TIME_INTEREST\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Water Cess\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_WATER_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Labour Charges\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_LABOUR_CHARGE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Total Transactions\":{\"value_count\":{\"field\":\"dataObject.paymentDetails.id.keyword\"}}}}}}}}"
     },
      {
       "module": "COMMON",
       "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
       "dateRefField": "",
       "indexName": "dss-target_v1",
       "aggrQuery": "{\"aggs\":{\"Target Collectionz\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
     }
   ],
  "filterKeys": [
     {"key": "tenantId", "column": "Boundary"}
   ],    
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "swConTaxHeadWard",
   "action": "",
   "plotLabel": "Boundary",
   "postAggregationTheory" : "",
   "aggregationPaths": [
     "Form Fee",
     "Scrutiny Fee",
     "One Time Fee",
     "Road Cutting charges",
     "Meter Charges",
     "Security Deposit",
     "Adhoc Penalty",
     "Adhoc Rebate",
     "Labour Charges",
     "Other Charges",
     "Total Amount"

   ],
   "pathDataTypeMapping": [
     {
       "Form Fee": "amount"
     },
     {
       "Scrutiny Fee": "amount"
     },
     {
       "One Time Fee": "amount"
     },
     {
       "Road Cutting charges": "amount"
     },
     {
       "Meter Charges": "amount"
     },
     {
       "Security Deposit": "amount"
     },
     {
       "Tax and Cess": "amount"
     },
     {
       "Penalty": "amount"
     },
      {
       "Other Charges": "amount"
     },
      {
       "Rebate": "amount"
     },
      {
       "Total Amount": "amount"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 "swConTaxHeadWard": {
   "chartName": "DSS_SW_CON_TAX_HEAD_BOUNDARY",
   "queries": [
     {
       "module": "COMMON",
       "requestQueryMap": "{\"tenantId\" : \"dataObject.tenantId\",\"wardId\" : \"domainObject.ward.name.keyword\",\"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
       "dateRefField": "dataObject.paymentDetails.receiptDate",
       "indexName": "dss-payment_v2",
       "aggrQuery": "{\"size\":0,\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"dataObject.tenantId.keyword\":\"pb.testing\"}},{\"terms\":{\"dataObject.bill.status.keyword\":[\"Cancelled\"]}}]}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"domainObject.ward.name.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"bucket_script\":{\"buckets_path\":{\"c2\":\"Form Fee>aggrFilter>amount\",\"c3\":\"Scrutiny Fee>aggrFilter>amount\",\"c4\":\"One Time Fee>aggrFilter>amount\",\"c5\":\"Road Cutting charges>aggrFilter>amount\",\"c6\":\"Meter Charges>aggrFilter>amount\",\"c7\":\"Security Deposit>aggrFilter>amount\",\"c9\":\"Adhoc Penalty>aggrFilter>amount\",\"c10\":\"Adhoc Rebate>aggrFilter>amount\",\"c1\":\"Other Charges>aggrFilter>amount\",\"c11\":\"Labour Charges>aggrFilter>amount\"},\"script\":{\"source\":\"params.c1+params.c2+params.c3+params.c4+params.c5+params.c6+params.c7+params.c9+params.c10+params.c11\"}}},\"Other Charges\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_OTHER_CHARGE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Adhoc Rebate\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_ADHOC_REBATE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Adhoc Penalty\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_ADHOC_PENALTY\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Security Deposit\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_SECURITY_CHARGE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Meter Charges\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_METER_CHARGE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Road Cutting charges\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_ROAD_CUTTING_CHARGE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"One Time Fee\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_ONE_TIME_FEE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Scrutiny Fee\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_SCRUTINY_FEE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Form Fee\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_FORM_FEE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Interest\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_TIME_INTEREST\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Water Cess\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_WATER_CESS\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Labour Charges\":{\"nested\":{\"path\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails\"},\"aggs\":{\"aggrFilter\":{\"filter\":{\"terms\":{\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.taxHeadCode.keyword\":[\"SW_LABOUR_CHARGE\"]}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"dataObject.paymentDetails.bill.billDetails.billAccountDetails.amount\"}}}}}},\"Total Transactions\":{\"value_count\":{\"field\":\"dataObject.paymentDetails.id.keyword\"}}}}}}}}"
     }
   ],
  "filterKeys": [
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "",
   "documentType": "_doc",
   "action": "",
   "plotLabel": "Ward",
   "aggregationPaths": [
     "Form Fee",
     "Scrutiny Fee",
     "One Time Fee",
     "Road Cutting charges",
     "Meter Charges",
     "Security Deposit",
     "Adhoc Penalty",
     "Adhoc Rebate",
     "Labour Charges",
     "Other Charges",
     "Total Amount"

   ],
   "pathDataTypeMapping": [
     {
       "Form Fee": "amount"
     },
     {
       "Scrutiny Fee": "amount"
     },
     {
       "One Time Fee": "amount"
     },
     {
       "Road Cutting charges": "amount"
     },
     {
       "Meter Charges": "amount"
     },
     {
       "Security Deposit": "amount"
     },
     {
       "Tax and Cess": "amount"
     },
     {
       "Penalty": "amount"
     },
      {
       "Other Charges": "amount"
     },
      {
       "Rebate": "amount"
     },
     {
       "Total Amount": "amount"
     }
   ],
   "insight": {
   },
   "_comment": ""
 },
 


 "swtotalConnection": {
   "chartName": "DSS_SW_TOTAL_CONNECTIONS",
   "queries": [
     {
       "module": "SW",
       "indexName": "sewerage-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total Connection\":{\"value_count\":{\"field\":\"Data.connectionNo.keyword\"}}}}}}",
       "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\", \"wardId\" : \"block.keyword\"}",
       "dateRefField": "Data.connectionExecutionDate"
     }
   ],
   "chartType": "metric",
   "valueType": "number",
   "action": "",
   "drillChart": "none",
   "aggregationPaths": [
     "Total Connection"
   ],
   "insight": {
   },
   "_comment": " "
 },
 

 "swActiveUlbs": {
   "chartName": "DSS_SW_ACTIVE_ULBS",
   "queries": [
     {
       "module": "SW",
       "indexName": "sewerage-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Active ULBs1\":{\"cardinality\":{\"field\":\"Data.tenantId.keyword\"}}}}}}",
       "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\", \"wardId\" : \"Data.ward.name.keyword\"}",
        "dateRefField": ""
     }
   ],
   "chartType": "metric",
   "valueType": "number",
   "action": "",
   "drillChart": "none",
   "aggregationPaths": [
     "Active ULBs1"
   ],
   "insight": {
   },
   "_comment": " "
 },
 
 "swcumulativeConnections": {
   "chartName": "DSS_SW_CUMULATIVE_COLLECTION",
   "queries": [
     {
       "module": "SW",
       "indexName": "sewerage-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total Applications\":{\"date_histogram\":{\"field\":\"Data.additionalDetails.appCreatedDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.applicationNo.keyword\"}}}}}}}}",
       "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\", \"wardId\" : \"block.keyword\"}",
       "dateRefField": "Data.additionalDetails.appCreatedDate"
     },
     {
       "module": "SW",
       "indexName": "sewerage-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Total Connections\":{\"date_histogram\":{\"field\":\"Data.connectionExecutionDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.connectionNo.keyword\"}}}}}}}}",
       "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\", \"wardId\" : \"block.keyword\"}",
       "dateRefField": "Data.connectionExecutionDate"
     }
   ],
   "chartType": "line",
   "valueType": "number",
   "action": "",
   "drillChart": "none",
   "documentType": "_doc",
   "aggregationPaths": [
     "Total Applications",
     "Total Connections"

   ],
   "isCumulative": true,
   "interval": "week",
   "insight": {
   },
   "_comment": " "
 },

 "swConsumersByConnectionType": {
   "chartName": "DSS_SW_WATER_CONNECTION_BY_USAGE",
   "queries": [
     {
       "module": "SW",
       "dateRefField": "Data.connectionExecutionDate",
       "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\", \"wardId\" : \"block.keyword\"}",
       "indexName": "sewerage-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.status.keyword\":[\"Active\"]}},{\"exists\":{\"field\":\"Data.connectionNo\"}}],\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Water Consumers by Connection Type\":{\"terms\":{\"field\":\"Data.connectionType.keyword\",\"size\":170}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Water Consumers by Connection Type"
   ],
   "insight": {
   },
   "_comment": " "
 },

 "swConsumersByUsageType": {
   "chartName": "DSS_SW_CONNECTION_BY_USAGE",
   "queries": [
     {
       "module": "SW",
       "dateRefField": "Data.connectionExecutionDate",
       "requestQueryMap": "{\"tenantId\" : \"Data.tenantId.keyword\", \"wardId\" : \"block.keyword\"}",
       "indexName": "sewerage-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.status.keyword\":[\"Active\"]}},{\"exists\":{\"field\":\"Data.connectionNo\"}}],\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Water Consumers by Usage Type\":{\"terms\":{\"field\":\"Data.propertyDetails.usageCategory.keyword\",\"size\":170}}}}}}"
     }
   ],
   "chartType": "pie",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Water Consumers by Usage Type"
   ],
   "insight": {
   },
   "_comment": " "
 },

 "swConsumersByChannel": {
   "chartName": "DSS_SW_CONNECTION_BY_STATUS",
   "queries": [
     {
      "module": "SW",
       "dateRefField": "Data.additionalDetails.appCreatedDate",
       "requestQueryMap": "{\"tenantId\" : \"Data.tenantId.keyword\", \"wardId\" : \"block.keyword\"}",
       "indexName": "sewerage-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.status.keyword\":[\"Active\"]}}],\"must_not\":[{\"term\":{\"Data.tenantId.keyword\":\"pb.testing\"}}]}},\"aggs\":{\"Water Connections by Status\":{\"terms\":{\"field\":\"Data.applicationStatus.keyword\",\"size\":170}}}}}}"
       }
   ],
   "chartType": "pie",
   "valueType": "number",
   "action": "",
   "documentType": "_doc",
   "drillChart": "none",
   "aggregationPaths": [
     "Water Connections by Status"
   ],
   "insight": {
   },
   "_comment": " "
 },

 "swConnectionAgeingDDR": {
   "chartName": "DSS_SW_CONNECTION_AGEING",
   "queries": [
     {
       "module": "SW",
       "requestQueryMap": "{\"tenantId\" : \"Data.tenantId.keyword\", \"wardId\" : \"block.keyword\" }",
       "dateRefField": "@timestamp",
       "indexName": "sewerage-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"Data.applicationStatus.keyword\":[\"PENDING_APPROVAL_FOR_CONNECTION\",\"REJECTED\",\"PENDING_FOR_FIELD_INSPECTION\",\"PENDING_FOR_DOCUMENT_VERIFICATION\"]}}]}},\"aggs\":{\"Pending lt 3 days\":{\"date_range\":{\"field\":\"@timestamp\",\"ranges\":[{\"from\":\"now-3d/d\",\"to\":\"now\"}]}},\"Pending gt 3 and lt 7 days\":{\"date_range\":{\"field\":\"@timestamp\",\"ranges\":[{\"from\":\"now-1w\",\"to\":\"now-3d/d\"}]}},\"Pending gt 7 and lt 15 days\":{\"date_range\":{\"field\":\"@timestamp\",\"ranges\":[{\"from\":\"now-15d\",\"to\":\"now-1w\"}]}},\"Pending gt 15 days\":{\"date_range\":{\"field\":\"@timestamp\",\"ranges\":[{\"from\":\"now-2y\",\"to\":\"now-15d\"}]}}}}}}"
     }
   ],
   "isMdmsEnabled": true,
   "translateTenantCode": true,
   "filterKeys": [
     {"key": "tenantId", "column": "DDRs"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "swConnectionAgeingUlb",
   "action": "",
   "plotLabel": "DDRs",
   "isPostResponseHandler": true,
   "postAggregationTheory" : "",
   "aggregationPaths": [
     "Pending lt 3 days",
     "Pending gt 3 and lt 7 days",
     "Pending gt 7 and lt 15 days",
     "Pending gt 15 days"
   ],
   "computedFields": [
     {
       "postAggregationTheory" : "",
       "actionName": "AdditiveComputedField",
       "fields" : [ "Pending lt 3 days", "Pending gt 3 and lt 7 days", "Pending gt 7 and lt 15 days", "Pending gt 15 days"],
       "newField" : "Total Pending",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     }
   ],

   "insight": {
   },
   "_comment": ""
 },
 "swConnectionAgeingUlb": {
   "chartName": "DSS_SW_CONNECTION_AGEING",
   "queries": [
     {
       "module": "SW",
       "requestQueryMap": "{\"tenantId\" : \"cityname.keyword\", \"wardId\" : \"block.keyword\" }",
       "dateRefField": "applicationdate",
       "indexName": "sewerage-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"servicetype.keyword\":[\"Water Charges\",\"Sewerage Charges\"]}},{\"terms\":{\"applicationstatus.keyword\":[\"Created\",\"Rejected\",\"Verified\",\"verified\"]}}]}},\"aggs\":{\"2\":{\"terms\":{\"field\":\"cityname.keyword\",\"size\":170,\"order\":{\"_key\":\"asc\"}},\"aggs\":{\"Pending lt 3 days\":{\"date_range\":{\"field\":\"applicationdate\",\"ranges\":[{\"from\":\"now-3d/d\",\"to\":\"now\"}]}},\"Pending gt 3 and lt 7 days\":{\"date_range\":{\"field\":\"applicationdate\",\"ranges\":[{\"from\":\"now-1w\",\"to\":\"now-3d/d\"}]}},\"Pending gt 7 and lt 15 days\":{\"date_range\":{\"field\":\"applicationdate\",\"ranges\":[{\"from\":\"now-15d\",\"to\":\"now-1w\"}]}},\"Pending gt 15 days\":{\"date_range\":{\"field\":\"applicationdate\",\"ranges\":[{\"from\":\"now-2y\",\"to\":\"now-15d\"}]}}}}}}}}"
     }
   ],
   "isMdmsEnabled": false,
   "translateTenantCode": true,
   "filterKeys": [
     {"key": "tenantId", "column": "ULB"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "swConnectionAgeingWard",
   "action": "",
   "plotLabel": "ULB",
   "isPostResponseHandler": true,
   "postAggregationTheory" : "",
   "aggregationPaths": [
     "Pending lt 3 days",
     "Pending gt 3 and lt 7 days",
     "Pending gt 7 and lt 15 days",
     "Pending gt 15 days"

   ],
   "computedFields": [
     {
       "postAggregationTheory" : "",
       "actionName": "AdditiveComputedField",
       "fields" : [ "Pending lt 3 days", "Pending gt 3 and lt 7 days", "Pending gt 7 and lt 15 days", "Pending gt 15 days"],
       "newField" : "Total Pending",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     }
   ],

   "insight": {
   },
   "_comment": ""
 },
 "swConnectionAgeingWard": {
   "chartName": "DSS_SW_CONNECTION_AGEING",
   "queries": [
     {
       "module": "SW",
       "requestQueryMap": "{\"tenantId\" : \"cityname.keyword\", \"wardId\" : \"block.keyword\" }",
       "dateRefField": "applicationdate",
       "indexName": "sewerage-services",
       "aggrQuery": "{\"aggs\":{\"AGGR\":{\"filter\":{\"bool\":{\"must\":[{\"terms\":{\"servicetype.keyword\":[\"Water Charges\",\"Sewerage Charges\"]}},{\"terms\":{\"applicationstatus.keyword\":[\"Created\",\"Rejected\",\"Verified\",\"verified\"]}}]}},\"aggs\":{\"2\":{\"terms\":{\"field\":\"block.keyword\",\"size\":170,\"order\":{\"_key\":\"asc\"}},\"aggs\":{\"Pending lt 3 days\":{\"date_range\":{\"field\":\"applicationdate\",\"ranges\":[{\"from\":\"now-3d/d\",\"to\":\"now\"}]}},\"Pending gt 3 and lt 7 days\":{\"date_range\":{\"field\":\"applicationdate\",\"ranges\":[{\"from\":\"now-1w\",\"to\":\"now-3d/d\"}]}},\"Pending gt 7 and lt 15 days\":{\"date_range\":{\"field\":\"applicationdate\",\"ranges\":[{\"from\":\"now-15d\",\"to\":\"now-1w\"}]}},\"Pending gt 15 days\":{\"date_range\":{\"field\":\"applicationdate\",\"ranges\":[{\"from\":\"now-2y\",\"to\":\"now-15d\"}]}}}}}}}}"
     }
   ],
   "isMdmsEnabled": false,
   "translateTenantCode": true,
   "filterKeys": [
     {"key": "tenantId", "column": "Ward"}
   ],
   "chartType": "xtable",
   "valueType": "number",
   "drillChart": "",
   "action": "",
   "plotLabel": "Ward",
   "isPostResponseHandler": true,
   "postAggregationTheory" : "",
   "aggregationPaths": [
     "Pending lt 3 days",
     "Pending gt 3 and lt 7 days",
     "Pending gt 7 and lt 15 days",
     "Pending gt 15 days"

   ],
   "computedFields": [
     {
       "postAggregationTheory" : "",
       "actionName": "AdditiveComputedField",
       "fields" : [ "Pending lt 3 days", "Pending gt 3 and lt 7 days", "Pending gt 7 and lt 15 days", "Pending gt 15 days"],
       "newField" : "Total Pending",
       "_comments": "fields are field names picked from its aggregation query to use post aggregation newField value with given new field name  "
     }
   ],

   "insight": {
   },
   "_comment": ""
 }
 
}